
        (async function() {
          while (!Spicetify.React || !Spicetify.ReactDOM) {
          await new Promise(resolve => setTimeout(resolve, 10));
        }
var ve=Object.create;var Y=Object.defineProperty;var _e=Object.getOwnPropertyDescriptor;var we=Object.getOwnPropertyNames;var Me=Object.getPrototypeOf,De=Object.prototype.hasOwnProperty;var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ke=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of we(t))!De.call(e,i)&&i!==o&&Y(e,i,{get:()=>t[i],enumerable:!(n=_e(t,i))||n.enumerable});return e};var b=(e,t,o)=>(o=e!=null?ve(Me(e)):{},ke(t||!e||!e.__esModule?Y(o,"default",{value:e,enumerable:!0}):o,e));var v=j((Ae,ee)=>{ee.exports=Spicetify.ReactJSX});var A=j((Be,oe)=>{oe.exports=Spicetify.React});var G=j((Ue,ie)=>{ie.exports=Spicetify.ReactDOM});var te=b(v(),1),D=(e,t=16)=>({size:o=t,fill:n="currentColor"})=>(0,te.jsx)("svg",{viewBox:`0 0 ${t} ${t}`,width:o,height:o,fill:n,dangerouslySetInnerHTML:{__html:e}}),_={editButton:'<path d="M17.318 1.975a3.329 3.329 0 1 1 4.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 0 1-1.28-1.28l1.581-4.376a4.726 4.726 0 0 1 1.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 0 0-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 0 0 1.001-.636L20.611 5.268a1.329 1.329 0 0 0 0-1.879z"/>',settings:'<path d="M8 5.36a2.68 2.68 90 100 5.36 2.68 2.68 90 000-5.36zM6.7 8.04a1.34 1.34 90 112.68 0 1.34 1.34 90 01-2.68 0zM11.55 3.21a.95.9487 90 01-1.1042-.76l-.3484-1.8974a.4744.4744 90 00-.3685-.3779 8.1365 8.1365 90 00-3.3755 0 .4744.4744 90 00-.3685.3779l-.3471 1.8974a.9514.9514 90 01-1.2542.7209l-1.8211-.6486a.4757.4757 90 00-.5119.1273c-.7625.8402-1.34 1.8318-1.6911 2.9118a.4717.4717 90 00.1447.5065l1.4767 1.2475a.9434.9434 90 010 1.4418l-1.4767 1.2475a.4717.4717 90 00-.1447.5065A8.0212 8.0212 90 002.0502 13.4268a.4757.4757 90 00.5119.1273l1.8224-.6486a.9487.9487 90 011.2542.7209l.3457 1.8974c.0348.1876.1809.3377.3685.3765a8.1405 8.1405 90 003.3768 0 .473.473 90 00.3672-.3765l.3484-1.8974a.9514.9514 90 011.2542-.7209l1.8211.6486c.1809.0643.3832.0134.5119-.1273.7625-.8402 1.34-1.8318 1.6911-2.9118a.4717.4717 90 00-.1447-.5065l-1.4767-1.2475a.942.942 90 010-1.4418l1.4767-1.2475a.4717.4717 90 00.1447-.5065A8.0199 8.0199 90 0014.0298 2.6532a.4757.4757 90 00-.5119-.1273l-1.8224.6486a.9514.9514 90 01-.1487.0402zm-8.8708.7772 1.2556.4462a2.2914 2.2914 90 003.0217-1.742l.2372-1.2998a6.8407 6.8407 90 011.6951 0l.2385 1.2998a2.2887 2.2887 90 003.0217 1.742L13.4 3.9892c.3417.4476.6258.9353.8442 1.4526l-1.0104.8536a2.2834 2.2834 90 000 3.4894l1.0117.8536a6.6866 6.6866 90 01-.8442 1.4526l-1.2556-.4476a2.2914 2.2914 90 00-3.0217 1.742l-.2385 1.2998a6.8327 6.8327 90 01-1.6951 0l-.2372-1.2998a2.2887 2.2887 90 00-3.0217-1.742L2.68 12.0908a6.6826 6.6826 90 01-.8442-1.4526l1.0104-.8549a2.2834 2.2834 90 000-3.488l-1.0117-.8536c.2198-.5172.5038-1.005.8442-1.4526z"/>',github:'<path d="M12.2135 0C5.4597 0 0 5.5 0 12.3042c0 5.439 3.4983 10.043 8.3513 11.6725.6068.1225.829-.2647.829-.5905 0-.2853-.02-1.263-.02-2.2818-3.3975.7335-4.105-1.4667-4.105-1.4667-.546-1.426-1.355-1.7925-1.355-1.7925-1.112-.7538.081-.7538.081-.7538 1.2335.0815 1.8807 1.263 1.8807 1.263 1.0917 1.874 2.851 1.3445 3.5587 1.0185.101-.7945.4248-1.3445.7685-1.65-2.7098-.2853-5.5607-1.3445-5.5607-6.0708 0-1.3445.485-2.4445 1.2535-3.3-.1212-.3055-.546-1.5688.1215-3.2595 0 0 1.0313-.326 3.3565 1.263a11.7425 11.7425 90 013.0535-.4075c1.0313 0 2.0825.1427 3.0532.4075 2.3255-1.589 3.3567-1.263 3.3567-1.263.6675 1.6907.2425 2.954.1212 3.2595.7887.8555 1.2537 1.9555 1.2537 3.3 0 4.7263-2.851 5.765-5.581 6.0708.445.387.829 1.1202.829 2.2815 0 1.65-.02 2.9743-.02 3.3815 0 .326.2225.7133.829.591 4.853-1.63 8.3513-6.2337 8.3513-11.6728C24.4267 5.5 18.947 0 12.2135 0z"/>',close:'<path d="M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143"/>',warning:'<path d="M12.884 2.532c-.346-.654-1.422-.654-1.768 0l-9 17A1 1 0 0 0 3 21h18a1 1 0 0 0 .884-1.5zM13 18h-2v-2h2zm-2-4V9h2l0 5z"/>',more:'<path d="M3 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6.5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM16 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>',questionMark:'<path d="M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333ZM12 15.5a1 1 0 110 2 1 1 0 010-2Zm0-8.75a2.75 2.75 0 012.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 01-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 00-2.493-.128l-.007.128a.75.75 0 01-1.5 0A2.75 2.75 0 0112 6.75Z"/>',dropdown:'<path d="M20.4614 6.3469a1.506 1.506 90 00-2.1125.1919L12 14.1564l-6.349-7.6175a1.4997 1.4997 90 10-2.3028 1.922L10.8486 17.4613a1.4992 1.4992 90 002.3028 0L20.6518 8.4608A1.5019 1.5019 90 0020.4614 6.3469Z"/>',palette:'<path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>',duplicate:'<path d="M15 4.5 13 2.5h-1.5L8.5 0H2C1.5 0 1 .5 1 1v10.5c0 .5.5 1 1 1h2.5v2.5c0 .5.5 1 1 1h8.5c.6 0 1-.5 1-1ZM2.5 1.5h5v1c0 .5.5 1 1 1L9.5 3.5l0 7.5H2.5zM6 14.5v-2h4c.5 0 1-.5 1-1V4h1v1c0 .5 0 .5.5.5h1l0 9z"/>'};_.React={editButton:D(_.editButton,24),settings:D(_.settings,16),github:D(_.github,24),close:D(_.close,32),warning:D(_.warning,24),more:D(_.more,16),questionMark:D(_.questionMark,24),dropdown:D(_.dropdown,24),palette:D(_.palette,24),duplicate:D(_.duplicate,16)};var R=_;(()=>{let e=".Modal__overlay{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center;background-color:rgba(var(--spice-rgb-shadow), 0.5);border-radius:7px}.Modal{background-color:unset}.Modal__container{display:flex;flex-direction:column;background-color:rgba(var(--spice-rgb-main), 0.9) !important;backdrop-filter:blur(20px) saturate(1.4) brightness(1.2);width:500px;max-height:500px;border-radius:7px;box-shadow:0 0px 20px rgba(var(--spice-rgb-shadow), 0.5) !important}.Modal__container--large{max-height:80vh;width:clamp(550px,60vw,650px)}.Modal__header{display:flex;justify-content:space-between;padding:32px 32px 12px;border-bottom:1px solid rgba(var(--spice-rgb-selected-row), 0.1)}.Modal__titleContainer{display:flex;gap:8px}.Modal__icon{display:flex;align-items:center}.Modal__title{display:flex}.Modal__buttonContainer{display:flex;align-items:center;gap:8px}.Modal__button{background-color:var(--spice-highlight);border-radius:8px;height:34px;cursor:pointer;padding:8px;border:0}.Modal__button:hover{transform:scale(1.1)}.Modal__button:active{transform:scale(0.9)}.Modal__content{display:flex;padding:16px 24px !important;overflow:auto;scrollbar-gutter:stable both-edges}",t="esbuild-inline-css-D--GitHub-spicetify-extensions-shared-popupModal-scss";if(document.getElementById(t))return;let o=document.createElement("style");o.id=t,o.textContent=e,document.head.appendChild(o)})();var B=b(A(),1),ae=b(G(),1);var x=b(v(),1),C=null,$=null,q=()=>{$&&C&&($.unmount(),C.remove(),document.body.style.overflow="auto",document.removeEventListener("keydown",se),document.removeEventListener("mousedown",ne),C=null,$=null)},se=e=>{e.key==="Escape"&&q()},ne=e=>{e.target.classList.contains("Modal__overlay")&&q()},re=({title:e="",content:t,isLarge:o=!0,buttons:n=null,icon:i=""}={})=>{C=document.getElementById("popup-modal"),C||(C=document.createElement("popup-modal"),C.id="popup-modal",document.body.appendChild(C)),$=ae.default.createRoot(C),document.addEventListener("keydown",se),document.addEventListener("mousedown",ne);let d=(0,B.memo)(()=>(0,x.jsx)("div",{className:"Modal__overlay",children:(0,x.jsx)("div",{className:"Modal",children:(0,x.jsxs)("div",{className:`Modal__container${o?" Modal__container--large":""}`,children:[(0,x.jsxs)("div",{className:"Modal__header",children:[(0,x.jsxs)("div",{className:"Modal__titleContainer",children:[(0,x.jsx)("div",{className:"Modal__icon",children:i}),(0,x.jsx)("h1",{className:"Modal__title",children:e})]}),(0,x.jsxs)("div",{className:"Modal__buttonContainer",children:[n,(0,x.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Close",placement:"top",children:(0,x.jsx)("button",{type:"button",className:"Modal__button Modal__button--close",onClick:()=>q(),children:(0,x.jsx)(R.React.close,{size:18})})})]})]}),(0,x.jsx)("div",{className:"Modal__content",children:B.default.isValidElement(t)?t:B.default.createElement(t)})]})})}));$.render((0,x.jsx)(d,{}))};re.hide=q;var le=re;var k=b(A(),1);var W=b(A(),1),ce=b(G(),1),Z=b(v(),1);function Ce({titleText:e,descriptionText:t,cancelText:o="Cancel",confirmText:n="Confirm",onConfirm:i,onClose:d,onOpen:a,onOutside:u,confirmLabel:p,allowHTML:y}){let z=W.default.memo(()=>{let[O,S]=Spicetify.React.useState(!0),I=document.querySelector(".ReactModalPortal:last-of-type");return W.default.useEffect(()=>{O&&a?.()},[O,a]),(0,Z.jsx)(Spicetify.ReactComponent.RemoteConfigProvider,{configuration:Spicetify.Platform.RemoteConfiguration,children:(0,Z.jsx)(Spicetify.ReactComponent.ConfirmDialog,{titleText:e,descriptionText:t,cancelText:o,confirmText:n,isOpen:O,onOutside:()=>{S(!1),u?.(),I?.remove()},onClose:()=>{S(!1),d?.(),I?.remove()},onConfirm:()=>{S(!1),i?.(),I?.remove()},confirmLabel:p,allowHTML:y})})});ce.default.createRoot(document.createElement("div")).render((0,Z.jsx)(z,{}))}var de=Ce;(()=>{let e=".themeOptionDropdown{position:relative;min-width:100px;width:fit-content;font-size:14px !important;cursor:pointer}.themeOptionDropdown.disabled{opacity:.5;cursor:not-allowed}.themeOptionDropdown .themeOptionDropdownButton{display:flex;border:none;justify-content:space-between;align-items:center;padding:0 8px;background:rgba(var(--spice-rgb-selected-row), 0.1);color:rgba(var(--spice-rgb-text), 0.8);border-radius:4px;height:32px;width:100%}.themeOptionDropdown .themeOptionDropdownArrow{display:flex}.themeOptionDropdown .themeOptionDropdownMenu{background:var(--spice-card);border-radius:4px;box-shadow:0 4px 12px rgba(0,0,0,.2);color:rgba(var(--spice-rgb-text), 0.8);border:solid rgba(var(--spice-rgb-subtext), 0.1) 1px;overflow-y:scroll;scrollbar-width:none;max-height:250px}.themeOptionDropdown .themeOptionDropdownMenu .themeOptionDropdownOptions{display:flex;align-items:center;padding:0 8px;height:32px;cursor:pointer}.themeOptionDropdown .themeOptionDropdownMenu .themeOptionDropdownOptions:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.themeOptionDropdown .themeOptionDropdownMenu .themeOptionDropdownOptions:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.themeOptionDropdown .themeOptionDropdownMenu .themeOptionDropdownOptions:hover,.themeOptionDropdown .themeOptionDropdownMenu .themeOptionDropdownOptions.selected{background:var(--spice-button)}",t="esbuild-inline-css-D--GitHub-spicetify-extensions-shared-dropdown-scss";if(document.getElementById(t))return;let o=document.createElement("style");o.id=t,o.textContent=e,document.head.appendChild(o)})();var T=b(A(),1);var P=b(v(),1),Pe=(0,T.memo)(({value:e,options:t,onChange:o,disabled:n})=>{let i=(0,T.useId)(),d=(0,T.useRef)(null),a=`--dropdown-anchor-${i.replace(/:/g,"id")}`,u=y=>{o?.({target:{value:y.value}}),d.current?.hidePopover()},p=t.find(y=>y.value===e)?.label||"Select...";return(0,P.jsxs)("div",{className:`themeOptionDropdown ${n?"disabled":""}`,children:[(0,P.jsxs)("button",{className:"themeOptionDropdownButton",popovertarget:i,popovertargetaction:"toggle",disabled:n,style:{anchorName:a},children:[(0,P.jsx)("div",{className:"themeOptionDropdownText",children:p}),(0,P.jsx)("div",{className:"themeOptionDropdownArrow",children:(0,P.jsx)(R.React.dropdown,{size:12})})]}),(0,P.jsx)("div",{popover:"auto",id:i,ref:d,className:"themeOptionDropdownMenu",style:{top:`calc(anchor(${a} bottom) + 4px)`,left:`anchor(${a} left)`,width:`anchor-size(${a} width)`},children:t.map(y=>(0,P.jsx)("div",{className:`themeOptionDropdownOptions ${e===y.value?"selected":""}`,onClick:()=>u(y),children:y.label},y.value))})]})}),pe=Pe;var l=b(v(),1);async function Oe(e=50){let t=await Spicetify.Platform.LibraryAPI.getContents({offset:0,limit:e}),o=t.items.filter(i=>i?.type==="playlist"&&i?.isOwnedBySelf),n=t.totalLength;if(n>e){let i=[];for(let a=e;a<n;a+=e)i.push(a);(await Promise.all(i.map(a=>Spicetify.Platform.LibraryAPI.getContents({offset:a,limit:e})))).forEach(a=>{o.push(...a.items.filter(u=>u?.type==="playlist"&&u?.isOwnedBySelf))})}return o}async function Se(e,t=100){let o=await Spicetify.Platform.PlaylistAPI.getContents(e,{offset:0,limit:t}),n=o.totalLength,i=o.items,d=[];for(let p=t;p<n;p+=t)d.push(Spicetify.Platform.PlaylistAPI.getContents(e,{offset:p,limit:t}).then(y=>y.items));let a=await Promise.all(d);return{items:i.concat(a.flat()),totalLength:n}}async function Ne(e){let t=new Map,o=e.map(a=>{let u=Spicetify.URI.fromString(a);return u.type===Spicetify.URI.Type.TRACK?u.id:null}).filter(Boolean),n=50,i=[];for(let a=0;a<o.length;a+=n){let u=o.slice(a,a+n);if(u.length===0)continue;let p=`https://api.spotify.com/v1/tracks?ids=${u.join(",")}`;i.push(Spicetify.CosmosAsync.get(p).catch(y=>(console.error(`Failed to fetch batch of track data for ISRCs (URL: ${p}):`,y),null)))}return(await Promise.allSettled(i)).forEach(a=>{if(a.status==="fulfilled"&&a.value){let u=a.value;u?.tracks&&u.tracks.forEach(p=>{p?.external_ids?.isrc&&p?.uri&&t.set(p.uri,p.external_ids.isrc)})}else a.status==="rejected"&&console.error("Request for ISRCs failed (prob rate limited):",a.reason)}),t}var Le=async(e,t=1e3)=>Promise.race([e,new Promise(o=>setTimeout(()=>o(null),t))]);async function Ie(e){let t=new Map,o=new Map;e.forEach(i=>{if(i?.album?.uri){let d=i.album.uri;o.has(d)||o.set(d,[]),o.get(d).push(i.uri)}});let n=Array.from(o.entries()).map(async([i])=>{let d=await Le(Spicetify.GraphQL.Request(Spicetify.GraphQL.Definitions.getAlbum,{uri:i,locale:Spicetify.Locale.getLocale(),offset:0,limit:500}));if(!d)return;let a=d.data?.albumUnion?.tracksV2||d.data?.albumUnion?.tracks;a?.items&&a.items.forEach(u=>{if(u?.track?.uri){let p=u.track.playcount;t.set(u.track.uri,p!=null?Number.parseInt(p,10):"N/A")}})});return await Promise.allSettled(n),Object.fromEntries(t)}var Re=e=>{if(!e)return"";let o=["live","remix","mix","acoustic","instrumental","radio","version","ver","edit","mono","stereo","deluxe","intro","outro","remastered","bonus","feat","ft","explicit","clean","piano","guitar","cover","original","extended","album","single"].join("|"),n=new RegExp(`\\b(${o})\\b`,"gi");return e.toLowerCase().replace(/\(.*?\)|\[.*?\]/g,"").replace(n,"").replace(/-/g," ").replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g," ").trim()},ue=(e,t)=>{let o=t[e];return typeof o=="number"?o:-1};function Te({selectedPlaylist:e}){let[t,o]=(0,k.useState)([]),[n,i]=(0,k.useState)(e?.uri||""),[d,a]=(0,k.useState)([]),[u,p]=(0,k.useState)({}),[y,z]=(0,k.useState)(new Map),[O,S]=(0,k.useState)({exact:[],isrc:[],likely:[],possible:[]});(0,k.useEffect)(()=>{(async()=>{let s=await Oe();o(s),e&&s.some(m=>m.uri===e.uri)?i(e.uri):i(e?.uri||"")})()},[e]);let I=(s,m,f)=>{let c=s.filter(r=>r?.uri&&r.name),h=(r,w,L)=>{let xe=r.reduce((M,H)=>{let E=L(w(H));return M[E]=M[E]||[],M[E].push(H),M},{});return Object.values(xe).filter(M=>M.length>1).map(M=>(M.sort((H,E)=>ue(E.uri,m)-ue(H.uri,m)),{mainTrack:M[0],duplicates:M.slice(1)}))},N=h(c,r=>r.uri,r=>r);c=c.filter(r=>!N.some(w=>w.mainTrack.uri===r.uri||w.duplicates.some(L=>L.uri===r.uri)));let V=h(c.filter(r=>f.get(r.uri)),r=>f.get(r.uri),r=>r);c=c.filter(r=>!V.some(w=>w.mainTrack.uri===r.uri||w.duplicates.some(L=>L.uri===r.uri)));let X=h(c,r=>r.name,r=>r.toLowerCase().trim());c=c.filter(r=>!X.some(w=>w.mainTrack.uri===r.uri||w.duplicates.some(L=>L.uri===r.uri)));let ye=h(c,r=>r.name,Re);S({exact:N,isrc:V,likely:X,possible:ye})},ge=async(s,m,f)=>{if(s==="exact"||s==="isrc"){await K(f,s,m);return}de({titleText:"Remove Track",descriptionText:"Are you sure you want to remove this Track? You will not be able to recover it!",confirmText:"Remove",onConfirm:async()=>{await K(f,s,m)}})},K=async(s,m,f)=>{await Spicetify.Platform.PlaylistAPI.remove(n,[{uri:s.uri,uid:s.uid}]),S(g=>{let c=[...g[m]],h=c[f];return h?(h.duplicates=h.duplicates.filter(N=>!(N.uri===s.uri&&N.uid===s.uid)),h.mainTrack.uri===s.uri&&h.mainTrack.uid===s.uid?{...g,[m]:c.filter((N,V)=>V!==f)}:{...g,[m]:c.filter(N=>N.duplicates.length>0)}):g}),a(g=>g.filter(c=>!(c.uri===s.uri&&c.uid===s.uid)))};(0,k.useEffect)(()=>{(async()=>{let s={exact:[],isrc:[],likely:[],possible:[]};if(!n){a([]),S(s),p({}),z(new Map);return}a([]),S(s),p({}),z(new Map);let f=(await Se(n)).items;if(a(f),f.length>0){let[g,c]=await Promise.all([Ie(f),Ne(f.map(h=>h.uri))]);p(g),z(c),I(f,g,c)}else I(f,{},new Map)})()},[n]);let Q=({track:s})=>{let m=u[s.uri],f=typeof m=="number"?m.toLocaleString():m,g=y.get(s.uri);return(0,l.jsxs)("div",{className:"find-dupes-group__details",children:[s.artists?`Artists: ${s.artists.map(c=>c.name).join(", ")}`:"",s.album?.name&&(0,l.jsxs)("span",{className:"find-dupes-group__album",children:[" Album: ",s.album.name]}),m!==void 0&&(0,l.jsxs)("span",{className:"find-dupes-group__playcount",children:[" Plays: ",f]}),g&&(0,l.jsxs)("span",{className:"find-dupes-group__isrc",children:[" ISRC: ",g]})]})},F=(s,m,f)=>(0,l.jsxs)("div",{className:"find-dupes__group-section",children:[(0,l.jsx)("p",{className:"find-dupes__group-section-heading",children:`${s} (${m.length} found)`}),(0,l.jsx)("ul",{className:"find-dupes__group-list",children:m.map((g,c)=>(0,l.jsxs)("li",{className:`find-dupes-group find-dupes-group--${f}`,children:[(0,l.jsxs)("div",{className:"find-dupes-group__source",children:["Source: ",g.mainTrack.name,(0,l.jsx)(Q,{track:g.mainTrack})]}),(0,l.jsx)("div",{className:"find-dupes-group__duplicates-heading",children:"Duplicates:"}),(0,l.jsx)("ul",{className:"find-dupes-group__duplicates-list",children:g.duplicates.map(h=>(0,l.jsxs)("li",{className:"find-dupes-group__duplicate-item",children:[(0,l.jsxs)("div",{className:"find-dupes-group__duplicate-content",children:[(0,l.jsx)("span",{className:"find-dupes-group__duplicate-name",children:h.name}),(0,l.jsx)(Q,{track:h})]}),(0,l.jsx)("button",{className:"find-dupes-group__delete-button",onClick:()=>ge(f,c,h),children:"Delete"})]},h.uri+(h.uid||"")))})]},`${g.mainTrack.uri}-${c}`))})]}),J=t.find(s=>s.uri===n),he=J?.name||e?.name||"Selected Playlist",be=t.map(s=>({value:s.uri,label:s.name}));return(0,l.jsxs)("div",{className:"find-dupes",children:[(0,l.jsxs)("div",{className:"find-dupes__header",children:[(0,l.jsx)("span",{className:"find-dupes__header-label",children:"Select Playlist:"}),(0,l.jsx)(pe,{value:n,options:be,onChange:s=>i(s.target.value),disabled:t.length===0})]}),n&&(0,l.jsxs)(l.Fragment,{children:[J&&(0,l.jsxs)("p",{className:"find-dupes__details",children:["Playlist: ",he," (",d.length," tracks)"]}),F("Exact Duplicates (Same URI)",O.exact,"exact"),F("ISRC Duplicates (Same Recording)",O.isrc,"isrc"),F("Likely Duplicates (Same Name)",O.likely,"likely"),F("Possible Duplicates (Similar Name)",O.possible,"possible")]})]})}var me=Te;(()=>{let e=".find-dupes{display:flex;flex-direction:column;gap:10px;width:100%}.find-dupes__header{display:flex;align-items:center;gap:10px;margin-bottom:10px}.find-dupes__header-label{color:var(--spice-text);font-weight:bold}.find-dupes__details{font-size:1.25em;color:var(--spice-text)}.find-dupes__group-section{background-color:var(--spice-player);border:1px solid rgba(var(--spice-rgb-selected-row), 0.1);border-radius:6px;padding:15px}.find-dupes__group-section-heading{margin-bottom:15px;font-weight:bold;font-size:1.2em;color:var(--spice-text)}.find-dupes__group-list{display:flex;flex-direction:column;gap:10px}.find-dupes-group{padding:15px;border-radius:4px;border:1px solid rgba(var(--spice-rgb-selected-row), 0.1);border-left-width:5px;border-left-style:solid;transition:background-color .2s ease;list-style:none}.find-dupes-group--exact{border-left-color:#f24e5c}.find-dupes-group--likely{border-left-color:#ffc726}.find-dupes-group--possible{border-left-color:#58ff33}.find-dupes-group__source{font-weight:bold;margin-bottom:10px;color:var(--spice-text);font-size:1.05em}.find-dupes-group__duplicates-heading{margin-top:10px;margin-bottom:5px;font-weight:normal;color:var(--spice-subtext);font-size:.95em}.find-dupes-group__duplicates-list{list-style:none;padding:0 0 0 15px;margin:0;display:flex;flex-direction:column}.find-dupes-group__duplicate-item{padding:10px 0;font-size:1em;color:#e0e0e0;border-bottom:1px solid rgba(var(--spice-rgb-selected-row), 0.1);display:flex;justify-content:space-between;align-items:center;gap:10px}.find-dupes-group__duplicate-item:last-child{border-bottom:none}.find-dupes-group__duplicate-name{display:block;margin-bottom:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.find-dupes-group__details{color:var(--spice-subtext);font-size:.9em;margin-top:3px;display:block;overflow:hidden;text-overflow:ellipsis}.find-dupes-group__album{display:inline-block;margin-left:5px}.find-dupes-group__delete-button{background-color:#f24e5c;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:.85em;font-weight:bold;transition:background-color .2s ease,transform .1s ease}.find-dupes-group__delete-button:hover{background-color:#d32f2f}.find-dupes-group__delete-button:active{background-color:#b71c1c;transform:scale(0.98)}",t="esbuild-inline-css-D--GitHub-spicetify-extensions-extensions-findDupeTracks-styles-scss";if(document.getElementById(t))return;let o=document.createElement("style");o.id=t,o.textContent=e,document.head.appendChild(o)})();var fe=b(v(),1),U=null,ze=new Spicetify.ContextMenuV2.Item({children:"Find Duplicates",leadingIcon:R.duplicate,onClick:async()=>{let e=await Spicetify.Platform.PlaylistAPI.getMetadata(U),t={uri:U,name:e.name};le({title:"Find Duplicates",content:(0,fe.jsx)(me,{selectedPlaylist:t}),isLarge:!0})},shouldAdd:(e,t,o)=>{let n=Spicetify.ContextMenuV2.parseProps(e);if(!n||!Array.isArray(n))return U=null,!1;let[i]=n,d=Spicetify.URI.isPlaylistV1OrV2(i[0]);return d?U=i[0]:U=null,d}});ze.register();
})();
