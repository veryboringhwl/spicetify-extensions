await new Promise((resolve) => Spicetify.Events.webpackLoaded.on(resolve))
var ot=Object.create;var we=Object.defineProperty;var at=Object.getOwnPropertyDescriptor;var it=Object.getOwnPropertyNames;var rt=Object.getPrototypeOf,st=Object.prototype.hasOwnProperty;var me=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nt=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of it(e))!st.call(t,a)&&a!==o&&we(t,a,{get:()=>e[a],enumerable:!(r=at(e,a))||r.enumerable});return t};var u=(t,e,o)=>(o=t!=null?ot(rt(t)):{},nt(e||!t||!t.__esModule?we(o,"default",{value:t,enumerable:!0}):o,t));var y=me((Lt,ke)=>{ke.exports=Spicetify.ReactJSX});var L=me((Et,Ne)=>{Ne.exports=Spicetify.React});var he=me(($t,Ce)=>{Ce.exports=Spicetify.ReactDOM});function lt(t){if(!t)return{};let e={},o=(r,a)=>{if(!(!r||typeof r!="object"))for(let l in r)Object.prototype.hasOwnProperty.call(r,l)&&a[l]===void 0&&(a[l]=r[l])};return o(t,e),o(t.item,e),o(t.reference,e),e}var fe=lt;var ge=u(y(),1),f={editButton:"M17.318 1.975a3.329 3.329 0 114.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 01-1.28-1.28l1.581-4.376a4.726 4.726 0 011.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 00-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 001.001-.636L20.611 5.268a1.329 1.329 0 000-1.879z",settings:"M7.96 5.33a2.67 2.67 90 100 5.34 2.67 2.67 90 000-5.34ZM6.67 8A1.33 1.33 90 119.33 8 1.33 1.33 90 016.67 8Zm4.82-4.81a.95.94 90 01-1.1-.75L10.05.55A.47.47 90 009.68.17 8.1 8.1 90 006.32.17.47.47 90 005.96.55L5.61 2.44a.95.95 90 01-1.25.71L2.55 2.51a.47.47 90 00-.51.13C1.28 3.47.71 4.46.36 5.53a.47.47 90 00.14.51L1.97 7.28a.94.94 90 010 1.43L.5 9.95a.47.47 90 00-.14.51 7.98 7.98 90 001.68 2.9.47.47 90 00.51.13l1.81-.65a.94.94 90 011.25.72l.34 1.89c.04.18.18.33.37.37a8.1 8.1 90 003.36 0 .47.47 90 00.37-.37l.34-1.89a.95.95 90 011.25-.72l1.81.65c.18.06.38.01.51-.13.76-.84 1.34-1.82 1.68-2.9a.47.47 90 00-.14-.5L14.03 8.72a.94.94 90 010-1.44L15.5 6.04a.47.47 90 00.14-.5 7.98 7.98 90 00-1.68-2.9.47.47 90 00-.51-.13l-1.81.65a.95.95 90 01-.15.04Zm-8.82.78 1.25.44a2.28 2.28 90 003-1.73l.24-1.3a6.81 6.81 90 011.68 0l.24 1.3a2.28 2.28 90 003.01 1.73l1.24-.44c.34.44.63.93.84 1.44l-1 .85a2.27 2.27 90 000 3.48l1 .85a6.65 6.65 90 01-.84 1.44l-1.24-.44A2.28 2.28 90 009.08 13.32l-.24 1.29a6.8 6.8 90 01-1.69 0l-.23-1.29A2.28 2.28 90 003.91 11.59l-1.24.44a6.65 6.65 90 01-.84-1.44l1-.86a2.27 2.27 90 000-3.47l-1-.85c.21-.51.5-1 .84-1.44Z",github:"M12.2135 0C18.947 0 24.4267 5.5 24.4066 12.3041c0 5.4391-3.4983 10.0428-8.3513 11.6728-.6065.1223-.829-.265-.829-.591 0-.4072.02-1.7315.02-3.3815 0-1.1613-.384-1.8945-.829-2.2815 2.73-.3058 5.581-1.3445 5.581-6.0708 0-1.3445-.465-2.4445-1.2537-3.3.1213-.3055.5463-1.5688-.1212-3.2595 0 0-1.0312-.326-3.3567 1.263-.9707-.2648-2.0219-.4075-3.0532-.4075A11.7425 11.7425 90 009.16 6.3556c-2.3252-1.589-3.3565-1.263-3.3565-1.263-.6675 1.6907-.2427 2.954-.1215 3.2595-.7685.8555-1.2535 1.9555-1.2535 3.3 0 4.7263 2.8509 5.7855 5.5607 6.0708-.3437.3055-.6675.8555-.7685 1.65-.7077.326-2.467.8555-3.5587-1.0185 0 0-.6472-1.1815-1.8807-1.263 0 0-1.193 0-.081.7538 0 0 .809.3665 1.355 1.7925 0 0 .7075 2.2002 4.105 1.4667 0 1.0188.02 1.9965.02 2.2818 0 .3258-.2222.713-.829.5905C3.4983 22.3472 0 17.7432 0 12.3042 0 5.5 5.4597 0 12.2135 0Z",close:"M31.098 29.794 16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",warning:"M13 14V9H11v5Zm0 2H11v2h2Zm8.884 3.5A1 1 0 0121 21H3a1 1 0 01-.884-1.468l9-17c.346-.654 1.422-.654 1.768 0Z",more:"M3 8A1.5 1.5 0 110 8a1.5 1.5 0 013 0zm6.5 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM16 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",questionMark:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333S7.405 20.333 12 20.333 20.333 16.595 20.333 12c0-4.595-3.738-8.333-8.333-8.333ZM12 15.5a1 1 0 110 2 1 1 0 010-2Zm0-8.75a2.75 2.75 0 012.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 01-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 00-2.493-.128l-.007.128a.75.75 0 01-1.5 0A2.75 2.75 0 0112 6.75Z",dropdown:"M20.4614 6.3469a1.506 1.506 90 00-2.1125.1919L12 14.1564 5.651 6.5389a1.4997 1.4997 90 10-2.3028 1.922l7.5004 9.0004a1.4992 1.4992 90 002.3028 0l7.5004-9.0005a1.5019 1.5019 90 00-.1904-2.1139Z",palette:"M12 2c5.461 0 9.965 4.012 9.992 8.84 0 3.051-2.504 5.554-5.555 5.554H14.441a1.64 1.64 0 00-1.668 1.668c0 .473.148.836.438 1.125.257.29.437.688.437 1.125C13.648 21.254 12.926 22 12 22 6.5 22 2 17.5 2 12S6.5 2 12 2Z",duplicate:"M15 3.5c0-.5-.5-1-1-1H11V1c0-.5-.5-1-1-1H2C1.5 0 1 .5 1 1V11.5c0 .5.5 1 1 1H4.5V15c0 .5.5 1 1 1H14c.5 0 1-.5 1-1ZM2.5 2c0-.25.25-.5.5-.5H9c.25 0 .5.25.5.5v8.5c0 .25-.25.5-.5.5H3c-.25 0-.5-.25-.5-.5Zm4 12.5c-.25 0-.5-.25-.5-.5V12.5h4c.5 0 1-.5 1-1V4h2c.25 0 .5.25.5.5V14c0 .25-.25.5-.5.5Z",terminal:"M3.924 5.02a.75.75 0 011.056-.096l3 2.5a.75.75 0 010 1.152l-3 2.5a.75.75 0 11-.96-1.152L6.328 8 4.02 6.076A.75.75 0 013.924 5.02zM8.25 10.5a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3zM0 3.25A2.25 2.25 0 012.25 1h11.5A2.25 2.25 0 0116 3.25v9.5A2.25 2.25 0 0113.75 15H2.25A2.25 2.25 0 010 12.75v-9.5zm2.25-.75a.75.75 0 00-.75.75v9.5c0 .414.336.75.75.75h11.5a.75.75 0 00.75-.75v-9.5a.75.75 0 00-.75-.75H2.25z",customArtwork:"M0 2v12a2 2 90 002 2h12a2 2 90 002-2V7.33l-1.33 1.33v5.33a.66.66 90 01-.66.66H2a.66.66 90 01-.66-.66V2A.66.66 90 012 1.34h9.66L13 0H2A2 2 90 000 2zm2.66 3.33C4.32 5 4.99 3.67 5.32 2.67h.33c.33 1 1 2.33 2.66 2.6v.33c-1.66.33-2.33 1.66-2.66 2.66h-.33c-.33-1-1-2.33-2.66-2.66zm13-2.66a1.33 1.33 90 00-1.66 0L7 9.33a0 0 90 000 0l-1.66 3a.33.33 90 00.33.33l3-1.66a0 0 90 000 0l7-7a1.33 1.33 90 000-1.33z",play:"M3.3333 3.516c0-1.138 1.2173-1.8613 2.2167-1.318l8.2413 4.484c1.044.5687 1.044 2.0673 0 2.6353L5.55 13.8013C4.5507 14.3453 3.3333 13.6213 3.3333 12.484V3.516Z",pause:"M3.8307 2A1.1667 1.1667 90 002.664 3.1667V12.8333C2.664 13.4773 3.1867 14 3.8307 14H6.164A1.1667 1.1667 90 007.3307 12.8333V3.1667A1.1667 1.1667 90 006.164 2H3.8307ZM9.8307 2A1.1667 1.1667 90 008.664 3.1667V12.8333C8.664 13.4773 9.1867 14 9.8307 14H12.164A1.1667 1.1667 90 0013.3307 12.8333V3.1667A1.1667 1.1667 90 0012.164 2H9.8307Z"},M=(t,e=16)=>({size:o=e,fill:r="currentColor"})=>(0,ge.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:o,height:o,fill:r,children:(0,ge.jsx)("path",{d:t})});f.React={editButton:M(f.editButton,24),settings:M(f.settings,16),github:M(f.github,24),close:M(f.close,32),warning:M(f.warning,24),more:M(f.more,16),questionMark:M(f.questionMark,24),dropdown:M(f.dropdown,24),palette:M(f.palette,24),duplicate:M(f.duplicate,16),terminal:M(f.terminal,16),customArtwork:M(f.customArtwork,16),play:M(f.play,16),pause:M(f.pause,16)};f.HTML={editButton:`<path d="${f.editButton}"/>`,settings:`<path d="${f.settings}"/>`,github:`<path d="${f.github}"/>`,close:`<path d="${f.close}"/>`,warning:`<path d="${f.warning}"/>`,more:`<path d="${f.more}"/>`,questionMark:`<path d="${f.questionMark}"/>`,dropdown:`<path d="${f.dropdown}"/>`,palette:`<path d="${f.palette}"/>`,duplicate:`<path d="${f.duplicate}"/>`,terminal:`<path d="${f.terminal}"/>`,customArtwork:`<path d="${f.customArtwork}"/>`,play:`<path d="${f.play}"/>`,pause:`<path d="${f.pause}"/>`};var S=f;var te=u(L(),1),Se=u(he(),1);(function(){let t=".modal-overlay{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;background-color:rgba(var(--spice-rgb-shadow),.5);border-radius:7px}.modal{background-color:unset}.modal__container{display:flex;flex-direction:column;background-color:rgba(var(--spice-rgb-main),.9)!important;backdrop-filter:blur(20px) saturate(1.4) brightness(1.2);width:500px;max-height:500px;border-radius:7px;box-shadow:0 0 20px rgba(var(--spice-rgb-shadow),.5)!important}.modal__container--large{max-height:80vh;width:clamp(550px,60vw,650px)}.modal__header{display:flex;justify-content:space-between;padding:32px 32px 12px;border-bottom:1px solid rgba(var(--spice-rgb-selected-row),.1)}.modal__titleContainer{display:flex;gap:8px}.modal__icon{display:flex;align-items:center}.modal__title{display:flex}.modal__buttonContainer{display:flex;align-items:center;gap:8px}.modal__buttonContainer .modal__button{background-color:var(--spice-highlight);border-radius:8px;height:34px;cursor:pointer;padding:8px;border:0}.modal__buttonContainer .modal__button:hover{transform:scale(1.1)}.modal__buttonContainer .modal__button:active{transform:scale(.9)}.modal__content{display:flex;padding:16px 24px!important;overflow:auto;scrollbar-gutter:stable both-edges}.modal__content>*{width:100%}",e="shared-popupModal.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var P=u(y(),1),B=null,ee=null,re=()=>{ee&&B&&(ee.unmount(),B.remove(),document.body.style.overflow="auto",document.removeEventListener("keydown",Pe),document.removeEventListener("mousedown",Te),B=null,ee=null)},Pe=t=>{t.key==="Escape"&&re()},Te=t=>{t.target.classList.contains("modal-overlay")&&re()},Me=({title:t="",content:e,isLarge:o=!0,buttons:r=!1,icon:a=""}={})=>{B=document.getElementById("popup-modal"),B||(B=document.createElement("popup-modal"),B.id="popup-modal",document.body.appendChild(B)),ee=Se.default.createRoot(B),document.body.style.overflow="hidden",document.addEventListener("keydown",Pe),document.addEventListener("mousedown",Te);let l=(0,te.memo)(()=>(0,P.jsx)("div",{className:"modal-overlay",children:(0,P.jsx)("div",{className:"modal",children:(0,P.jsxs)("div",{className:`modal__container${o?" modal__container--large":""}`,children:[(0,P.jsxs)("div",{className:"modal__header",children:[(0,P.jsxs)("div",{className:"modal__titleContainer",children:[(0,P.jsx)("div",{className:"modal__icon",children:a}),(0,P.jsx)("h1",{className:"modal__title",children:t})]}),(0,P.jsxs)("div",{className:"modal__buttonContainer",children:[r,(0,P.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"Close",placement:"top",children:(0,P.jsx)("button",{className:"modal__button modal__button--close",onClick:()=>re(),children:(0,P.jsx)(S.React.close,{size:18})})})]})]}),(0,P.jsx)("div",{className:"modal__content",children:te.default.isValidElement(e)?e:te.default.createElement(e)})]})})}));ee.render((0,P.jsx)(l,{}))};Me.hide=re;var se=Me;var _=u(L(),1);import kt from"https://esm.sh/dexie";async function ct(){return(await Spicetify.Platform.LibraryAPI.getContents({offset:0,limit:1e7,flattenTree:!0})).items}var De=ct;async function dt(t){let e=await Spicetify.Platform.PlaylistAPI.getContents(t,{offset:0,limit:-1});return{items:e.items,totalLength:e.totalLength}}var Re=dt;async function pt(t){let e=new Map,o=new Map;for(let l of t)l?.uri&&o.set(l.uri,Spicetify.URI.fromString(l.uri).id);let r=50,a=Array.from(o.values()).reduce((l,m,i)=>{let c=Math.floor(i/r);return l[c]=l[c]||[],l[c].push(m),l},[]).map(async l=>{let m=`https://api.spotify.com/v1/tracks?ids=${l.join(",")}`,i=await Spicetify.CosmosAsync.get(m);if(i?.tracks)for(let c of i.tracks){let s=c?.external_ids?.isrc,g=c?.uri;s&&g&&e.set(g,s)}});return await Promise.all(a),e}var Ie=pt;async function ut(t){let e=new Map,o=new Map;for(let a of t)a?.album?.uri&&o.set(a.uri,a.album.uri);let r=Array.from(Array.from(o.values()).reduce((a,l)=>(a.set(l,a.get(l)||new Set),a),new Map).entries()).map(async([a])=>{let m=(await Spicetify.Platform.GraphQLLoader(Spicetify.GraphQL.Definitions.queryAlbumTracks,{uri:a,locale:Spicetify.Locale.getLocale(),offset:0,limit:5e3}))?.data?.albumUnion?.tracksV2?.items;if(m)for(let i of m){let c=i?.track?.uri;if(o.has(c)){let s=i.track.playcount,g=s?Number.parseInt(s,10):0;e.set(c,g)}}});return await Promise.all(r),e}var Ae=ut;var be=u(L(),1),Le=u(he(),1),ne=u(y(),1);function mt({titleText:t,descriptionText:e,cancelText:o="Cancel",confirmText:r="Confirm",onConfirm:a,onClose:l,onOpen:m,onOutside:i,confirmLabel:c,allowHTML:s}){let g=be.default.memo(()=>{let[N,x]=Spicetify.React.useState(!0),A=document.querySelector(".ReactModalPortal:last-of-type");return be.default.useEffect(()=>{N&&m?.()},[N,m]),(0,ne.jsx)(Spicetify.ReactComponent.RemoteConfigProvider,{configuration:Spicetify.Platform.RemoteConfiguration,children:(0,ne.jsx)(Spicetify.ReactComponent.ConfirmDialog,{titleText:t,descriptionText:e,cancelText:o,confirmText:r,isOpen:N,onOutside:()=>{x(!1),i?.(),A?.remove()},onClose:()=>{x(!1),l?.(),A?.remove()},onConfirm:()=>{x(!1),a?.(),A?.remove()},confirmLabel:c,allowHTML:s})})});Le.default.createRoot(document.createElement("div")).render((0,ne.jsx)(g,{}))}var le=mt;var Q=u(L(),1);(function(){let t=".dropdown{position:relative;min-width:100px;width:fit-content;font-size:14px!important;cursor:pointer;&:disabled{opacity:.5;cursor:not-allowed}.dropdown__button{display:flex;border:none;justify-content:space-between;align-items:center;padding:0 8px;background:rgba(var(--spice-rgb-selected-row),.1);color:rgba(var(--spice-rgb-text),.8);border-radius:4px;height:32px;width:100%;.dropdown__arrow{display:flex}}.dropdown__menu{background:var(--spice-card);border-radius:4px;box-shadow:0 4px 12px #0003;color:rgba(var(--spice-rgb-text),.8);border:solid rgba(var(--spice-rgb-subtext),.1) 1px;overflow-y:scroll;scrollbar-width:none;max-height:250px;.dropdown__option{display:flex;align-items:center;padding:0 8px;height:32px;cursor:pointer;&:first-child{border-top-left-radius:4px;border-top-right-radius:4px}&:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}}.dropdown__option--selected,.dropdown__option:hover{background:var(--spice-button)}}}",e="shared-dropdown.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var F=u(y(),1),ft=(0,Q.memo)(({value:t,options:e,onChange:o,disabled:r})=>{let a=(0,Q.useId)(),l=(0,Q.useRef)(null),m=`--dropdown-anchor-${a.replace(/:/g,"id")}`,i=s=>{o?.({target:{value:s.value}}),l.current?.hidePopover()},c=e.find(s=>s.value===t)?.label||"Select...";return(0,F.jsxs)("div",{className:"dropdown",children:[(0,F.jsxs)("button",{className:"dropdown__button",popovertarget:a,popovertargetaction:"toggle",disabled:r,style:{anchorName:m},children:[(0,F.jsx)("div",{className:"dropdown__text",children:c}),(0,F.jsx)("div",{className:"dropdown__arrow",children:(0,F.jsx)(S.React.dropdown,{size:12})})]}),(0,F.jsx)("div",{popover:"auto",id:a,ref:l,className:"dropdown__menu",style:{top:`calc(anchor(${m} bottom) + 4px)`,left:`anchor(${m} left)`,width:`anchor-size(${m} width)`},children:e.map(s=>(0,F.jsx)("div",{className:`dropdown__option${t===s.value?" dropdown__option--selected":""}`,onClick:()=>i(s),children:s.label},s.value))})]})}),ze=ft;var D=u(L(),1);(function(){let t=".slider{--fill-color: var(--spice-button-active, #1ed760);--track-color: var(--spice-button-disabled, #535353);--thumb-color: var(--spice-text, #ffffff);--text-color: var(--spice-subtext, #b3b3b3);display:flex;align-items:center;gap:8px;width:100%;&:disabled{opacity:.5;cursor:not-allowed}&:hover{.slider__thumb{opacity:1!important}.slider__fill{background-color:var(--fill-color)!important}}.slider-time{font-size:12px;color:var(--text-color);min-width:40px;text-align:center;user-select:none}.slider-container{flex-grow:1;height:12px;display:flex;align-items:center;cursor:pointer;.slider__track{position:relative;width:100%;height:4px;background-color:var(--track-color);border-radius:2px;.slider__fill{position:absolute;height:100%;background-color:var(--fill-color);border-radius:2px}.slider__thumb{position:absolute;top:50%;width:12px;height:12px;background-color:var(--thumb-color);border-radius:50%;transform:translate(-50%,-50%);opacity:0;transition:opacity .2s ease}}}}",e="shared-slider.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var q=u(y(),1),gt=(0,D.memo)(({value:t,min:e=0,max:o,step:r=1,defaultValue:a,onChange:l,onRelease:m,disabled:i=!1})=>{let c=(0,D.useRef)(null),s=(0,D.useRef)(!1),g=t!==void 0?t:a,N=o>e?(g-e)/(o-e)*100:0,x=(0,D.useCallback)((T,ae=!1)=>{if(!c.current||i)return;let H=c.current.getBoundingClientRect(),ue=ae?T.touches[0].clientX:T.clientX,b=Math.max(0,Math.min(ue-H.left,H.width))/H.width*(o-e)+e;b=Math.round(b/r)*r,b=Math.max(e,Math.min(b,o)),l(b)},[e,o,r,l,i]),A=(0,D.useCallback)(T=>{i||(s.current=!0,x(T,!1))},[x,i]),W=(0,D.useCallback)(T=>{i||(s.current=!0,x(T,!0))},[x,i]),X=(0,D.useCallback)(()=>{s.current&&m?.(),s.current=!1},[m]),G=X,J=(0,D.useCallback)(T=>{s.current&&(T.preventDefault(),x(T,!1))},[x]),j=(0,D.useCallback)(T=>{s.current&&x(T,!0)},[x]);return(0,D.useEffect)(()=>(window.addEventListener("mousemove",J),window.addEventListener("mouseup",X),window.addEventListener("touchmove",j),window.addEventListener("touchend",G),()=>{window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",X),window.removeEventListener("touchmove",j),window.removeEventListener("touchend",G)}),[J,X,j,G]),(0,q.jsx)("div",{className:"slider",disabled:i,children:(0,q.jsx)("div",{ref:c,className:"slider-container",onMouseDown:A,onTouchStart:W,children:(0,q.jsxs)("div",{className:"slider__track",children:[(0,q.jsx)("div",{className:"slider__fill",style:{width:`${N}%`}}),(0,q.jsx)("div",{className:"slider__thumb",style:{left:`${N}%`}})]})})})}),Ee=gt;var oe=u(L(),1);var $e=u(L(),1);(function(){let t=".input{background:rgba(var(--spice-rgb-selected-row),.1);border:0;border-radius:4px;color:rgba(var(--spice-rgb-text),.8);height:32px;width:128px;text-overflow:ellipsis;padding-left:10px;&:disabled{opacity:.5;cursor:not-allowed}}",e="shared-input.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var Oe=u(y(),1),ht=(0,$e.memo)(({value:t,onChange:e,placeholder:o,disabled:r})=>(0,Oe.jsx)("input",{className:"input",type:"text",value:t,onChange:e,placeholder:o,disabled:r})),We=ht;var Ve=u(L(),1);var Be=u(L(),1);var ye=u(y(),1),bt=(0,Be.memo)(({name:t,popupModal:e})=>e?(0,ye.jsx)("button",{className:"themeOptionPopupButton",onClick:()=>se({title:t,content:e,isLarge:!1}),"aria-label":"Open popup",children:(0,ye.jsx)(S.React.editButton,{size:16})}):null),Fe=bt;var He=u(L(),1);var ce=u(y(),1),yt=(0,He.memo)(({tippy:t})=>(0,ce.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:t,placement:"top",showDelay:0,children:(0,ce.jsx)("div",{className:"themeOptionTippy",children:(0,ce.jsx)(S.React.questionMark,{size:20,fill:"var(--spice-subtext)"})})})),Ue=yt;(function(){let t=".themeOptionRow{display:flex;height:32px;justify-content:space-between}.themeOptionDesc{display:flex;height:100%;align-items:center;font-size:15px;color:var(--spice-subtext)}.themeOptionControl{align-content:center;display:flex;gap:8px}",e="shared-optionRow.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var U=u(y(),1),_t=(0,Ve.memo)(({name:t,desc:e,tippy:o,children:r,popupModal:a})=>(0,U.jsxs)("div",{className:"themeOptionRow","data-name":`theme:${t}`,children:[(0,U.jsx)("div",{className:"themeOptionContent",children:(0,U.jsx)("div",{className:"themeOptionDesc",children:e})}),(0,U.jsxs)("div",{className:"themeOptionControl",children:[o&&(0,U.jsx)(Ue,{tippy:o}),(0,U.jsx)(Fe,{name:t,popupModal:a}),r]})]})),_e=_t;var Ze=u(L(),1);(function(){let t=".toggle{display:flex;align-items:center;border:none;background:none;cursor:pointer;&:disabled{opacity:.5;cursor:not-allowed}.toggle__background{width:42px;height:24px;background:rgba(var(--spice-rgb-selected-row),.1);border-radius:12px;display:flex;align-items:center;&:has(.toggle__slider--enabled){background:var(--spice-button)}.toggle__slider--enabled{margin-left:20px}}.toggle__slider{width:20px;height:20px;background:var(--spice-text);border-radius:50%;margin-left:2px;transition:.1s cubic-bezier(.45,.05,.55,.95);box-shadow:0 0 5px rgba(var(--spice-rgb-shadow),.3)}}",e="shared-toggle.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var de=u(y(),1),xt=(0,Ze.memo)(({value:t,onChange:e,disabled:o})=>(0,de.jsx)("button",{className:"toggle",onClick:e,disabled:o,children:(0,de.jsx)("span",{className:"toggle__background",children:(0,de.jsx)("span",{className:`toggle__slider${t?" toggle__slider--enabled":""}`})})})),qe=xt;var w=u(y(),1),Xe=["live","remix","mix","acoustic","instrumental","radio","version","ver","edit","mono","stereo","deluxe","intro","outro","remastered","bonus","feat","ft","explicit","clean","piano","guitar","cover","original","extended","album","single"],xe={groupSettings:{exact:!0,isrc:!0,likely:!0,possible:!0},confirmSettings:{exact:!1,isrc:!1,likely:!0,possible:!0},defaultNormalizeWords:Xe,customNormalizeWords:[]},Ge=()=>{try{let t=localStorage.getItem("findDupeTracks");if(t){let e=JSON.parse(t);return e.defaultNormalizeWords||(e.defaultNormalizeWords=[...Xe]),e}return xe}catch(t){return console.error("Error loading settings:",t),xe}},vt=t=>{localStorage.setItem("findDupeTracks",JSON.stringify(t))},pe=()=>Ge(),wt=()=>{let[t,e]=(0,oe.useState)(Ge()),[o,r]=(0,oe.useState)("");(0,oe.useEffect)(()=>{vt(t)},[t]);let a=(s,g,N)=>(0,w.jsxs)("section",{className:"duplicate-settings__section",children:[(0,w.jsx)("h3",{className:"duplicate-settings__section-title",children:s}),(0,w.jsx)("div",{className:"duplicate-settings__options",children:Object.entries(N).map(([x,A])=>(0,w.jsx)(_e,{name:`${x}-${g}`,desc:A,children:(0,w.jsx)(qe,{value:t[g][x],onChange:()=>e(W=>({...W,[g]:{...W[g],[x]:!W[g][x]}}))})},x))})]}),l=()=>{let s=o.trim().toLowerCase();s&&(t.customNormalizeWords.includes(s)||t.defaultNormalizeWords.includes(s)||(e(g=>({...g,customNormalizeWords:[...g.customNormalizeWords,s]})),r("")))},m=(s,g)=>{e(N=>g?{...N,defaultNormalizeWords:N.defaultNormalizeWords.filter(x=>x!==s)}:{...N,customNormalizeWords:N.customNormalizeWords.filter(x=>x!==s)})},i=()=>{le({titleText:"Are you sure?",descriptionText:"This will reset all settings to default!",confirmText:"Reset",onConfirm:()=>e(JSON.parse(JSON.stringify(xe)))})},c=[...t.defaultNormalizeWords.map(s=>({word:s,isDefault:!0})),...t.customNormalizeWords.map(s=>({word:s,isDefault:!1}))];return(0,w.jsxs)("div",{className:"duplicate-settings",children:[a("Duplicate Groups to Display","groupSettings",{exact:"Exact Duplicates (Same URI)",isrc:"ISRC Duplicates (Same Recording)",likely:"Likely Duplicates (Same Name)",possible:"Possible Duplicates (Similar Name)"}),a("Confirm Before Deleting","confirmSettings",{exact:"Exact Duplicates",isrc:"ISRC Duplicates",likely:"Likely Duplicates",possible:"Possible Duplicates"}),(0,w.jsxs)("section",{className:"duplicate-settings__section",children:[(0,w.jsx)("h3",{className:"duplicate-settings__section-title",children:"Normalization Words"}),(0,w.jsx)("p",{className:"duplicate-settings__description",children:"Add or remove words to be ignored when comparing track names for similarity."}),(0,w.jsxs)(_e,{name:"custom-words",desc:"Add a word to normalization list",children:[(0,w.jsx)(We,{value:o,onChange:s=>r(s.target.value),placeholder:"Enter word to normalize",disabled:!1,onKeyDown:s=>s.key==="Enter"&&l()}),(0,w.jsx)("button",{type:"button",onClick:l,style:{marginLeft:8},children:"Add"})]}),(0,w.jsx)("div",{className:"duplicate-settings__words-list",children:c.length>0?(0,w.jsx)("div",{className:"duplicate-settings__words-ul",children:c.map(({word:s,isDefault:g})=>(0,w.jsxs)("div",{className:"duplicate-settings__word-item",children:[s,(0,w.jsx)("button",{type:"button",className:"duplicate-settings__word-remove",onClick:()=>m(s,g),children:"Remove"})]},s))}):(0,w.jsx)("p",{className:"duplicate-settings__no-words",children:"No normalization words"})})]}),(0,w.jsx)("div",{className:"duplicate-settings__actions",children:(0,w.jsx)("button",{type:"button",className:"duplicate-settings__reset",onClick:i,children:"Reset to Defaults"})})]})},Je=wt;var n=u(y(),1),V=new kt("findDupeTracks");V.version(.1).stores({tracks:"&trackUri, trackName, trackDuration, albumUri, playCount, isrc, ignoreDuplicates"});async function Nt(){return(await De()).filter(e=>e.type==="playlist"&&e.canAddTo)}async function Ct(t){let{items:e}=await Re(t),o=e.map(m=>m.uri),r=await V.tracks.bulkGet(o),a=new Map(r.filter(Boolean).map(m=>[m.trackUri,m])),l=e.reduce((m,i)=>{let c=a.get(i.uri);return(!c||c.trackName!==i.name||c.albumUri!==i.album.uri)&&m.push({trackUri:i.uri,trackName:i.name,albumUri:i.album.uri,trackDuration:i.duration.milliseconds,playCount:c?.playCount??null,isrc:c?.isrc??null}),m},[]);return l.length>0&&await V.tracks.bulkPut(l),{items:e}}async function St(t){let e=new Map,o=[],r=t.filter(i=>i?.uri),a=r.map(i=>i.uri);if(a.length===0)return e;let l=await V.tracks.bulkGet(a),m=new Map(l.filter(Boolean).map(i=>[i.trackUri,i]));for(let i of r){let c=m.get(i.uri);c?.isrc?e.set(i.uri,c.isrc):o.push(i)}if(o.length>0){let i=await Ie(o),c=[];for(let[s,g]of i.entries())e.set(s,g),c.push({key:s,changes:{isrc:g}});c.length>0&&await V.tracks.bulkUpdate(c)}return e}async function Pt(t){let e=new Map,o=[],r=t.filter(i=>i?.uri),a=r.map(i=>i.uri);if(a.length===0)return e;let l=await V.tracks.bulkGet(a),m=new Map(l.filter(Boolean).map(i=>[i.trackUri,i]));for(let i of r){let c=m.get(i.uri);c?.playCount!=null?e.set(i.uri,c.playCount):o.push(i)}if(o.length>0){let i=await Ae(o),c=[];for(let[s,g]of i.entries())e.set(s,g),c.push({key:s,changes:{playCount:g}});c.length>0&&await V.tracks.bulkUpdate(c)}return e}var je=(t,e)=>e.get(t)??0,Tt=t=>{let e=pe(),o=[...e.defaultNormalizeWords,...e.customNormalizeWords],r=new RegExp(`\\b(${o.join("|")})\\b`,"gi");return t.toLowerCase().replace(/\(.*?\)|\[.*?\]/g,"").replace(r,"").replace(/-/g," ").replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g," ").trim()};function Mt({selectedPlaylist:t}){let[e,o]=(0,_.useState)([]),[r,a]=(0,_.useState)(t||null),[l,m]=(0,_.useState)([]),[i,c]=(0,_.useState)(new Map),[s,g]=(0,_.useState)(new Map),[N,x]=(0,_.useState)(new Map),[A,W]=(0,_.useState)({exact:[],isrc:[],likely:[],possible:[]});(0,_.useEffect)(()=>{let d=!0;return(async()=>{let b=await Nt();d&&(o(b),a(t||b[0]||null))})(),()=>{d=!1}},[t]);let X=d=>{let b=e.find(p=>p.uri===d.target.value);b&&a(b)},G=(0,_.useCallback)((d,b,p)=>{let E=new Set,v=(h,k,Z)=>{let C=new Map;for(let z of h){if(E.has(z.uri))continue;let $=Z(k(z));$&&(C.set($,C.get($)||[]),C.get($).push(z))}let Y=[];for(let z of C.values())if(z.length>1){z.sort(($,ve)=>je(ve.uri,b)-je($.uri,b));for(let $ of z)E.add($.uri);Y.push({mainTrack:z[0],duplicates:z.slice(1)})}return Y};W({exact:v(d,h=>h.uri,h=>h),isrc:v(d,h=>p.get(h.uri),h=>h),likely:v(d,h=>h.name,h=>h.trim()),possible:v(d,h=>h.name,Tt)})},[]),J=async d=>{await Spicetify.Platform.PlaylistAPI.remove(r.uri,[{uid:d.uid}]),m(b=>b.filter(p=>!(p.uri===d.uri&&p.uid===d.uid)))},j=async(d,b,p)=>{if(!pe().confirmSettings[d]){await J(p);return}le({titleText:"Remove Track",descriptionText:`Are you sure you want to remove "${p.name}"? This cannot be undone.`,confirmText:"Remove",onConfirm:()=>J(p)})};(0,_.useEffect)(()=>{m([]),W({exact:[],isrc:[],likely:[],possible:[]}),g(new Map),x(new Map),c(new Map),(async()=>{if(!r?.uri)return;let p=(await Ct(r.uri)).items;if(m(p),p.length>0){let[E,v,h]=await Promise.all([Pt(p),St(p),(async()=>{let k=new Map,Z=await V.tracks.bulkGet(p.map(C=>C.uri));for(let C of Z.filter(Boolean))C?.trackDuration!=null&&k.set(C.trackUri,C.trackDuration);return k})()]);g(E),x(v),c(h)}})()},[r]),(0,_.useEffect)(()=>{l.length>0?G(l,s,N):W({exact:[],isrc:[],likely:[],possible:[]})},[l,s,N,G]);let T=(0,_.memo)(({track:d})=>{let b=s.get(d.uri),p=b!=null?b.toLocaleString():"N/A",E=N.get(d.uri)||"N/A",v=d.album?.name||"N/A",h=d.artists?.map(k=>k.name).join(", ")||"N/A";return(0,n.jsxs)("div",{className:"track-details",children:[(0,n.jsxs)("div",{className:"track-details__line",children:[(0,n.jsxs)("span",{className:"track-details__artists",children:[" Artists: ",h]}),(0,n.jsxs)("span",{className:"track-details__album",children:[" Album: ",v]})]}),(0,n.jsxs)("div",{className:"track-details__line",children:[(0,n.jsxs)("span",{className:"track-details__playcount",children:[" Plays: ",p]}),(0,n.jsxs)("span",{className:"track-details__isrc",children:[" ISRC: ",E]})]})]})}),ae=(0,_.memo)(({trackUri:d,trackDuration:b})=>{let[p,E]=(0,_.useState)(Spicetify.Platform.PlayerAPI.getState()),[v,h]=(0,_.useState)(0),[k,Z]=(0,_.useState)(1),C=(0,_.useRef)(!1),Y=I=>{if(Number.isNaN(I)||I<0)return"0:00";let K=Math.floor(I/1e3),O=Math.floor(K/60),ie=K%60;return`${O}:${ie.toString().padStart(2,"0")}`};(0,_.useEffect)(()=>{let I=K=>{let O=K.data;E(O),O.item?.uri===d?(C.current||h(O.positionAsOfTimestamp),Z(O.duration)):O.item?.uri!==d&&(h(0),Z(1))};return Spicetify.Platform.PlayerAPI._events.addListener("update",I),()=>{Spicetify.Platform.PlayerAPI._events.removeListener("update",I)}},[d]),(0,_.useEffect)(()=>{let I=p.item?.uri===d;if(!(I&&!p.isPaused)){I||(h(0),Z(1));return}let O=setInterval(()=>{if(!C.current){let ie=p.positionAsOfTimestamp+(Date.now()-p.timestamp);h(ie<p.duration?ie:p.duration)}},1e3);return()=>clearInterval(O)},[p,d]);let z=(0,_.useCallback)(()=>{p.item?.uri===d?p.isPaused?Spicetify.Platform.PlayerAPI.resume():Spicetify.Platform.PlayerAPI.pause():Spicetify.Platform.PlayerAPI.play({uri:d},{},{})},[p,d]),$=(0,_.useCallback)(I=>{C.current=!0,h(I)},[]),Ye=!p.isPaused&&p.item?.uri===d,Ke=(0,_.useCallback)(()=>{C.current&&(p.item?.uri===d?Spicetify.Platform.PlayerAPI.seekTo(v):(Spicetify.Platform.PlayerAPI.play({uri:d},{},{}),setTimeout(()=>{Spicetify.Platform.PlayerAPI.seekTo(v)},500)),C.current=!1)},[v,d,p]),et=Y(v),tt=Y(b||k);return(0,n.jsxs)("div",{className:"duplicate-group__playback-controls",children:[(0,n.jsx)("button",{className:"duplicate-group__playback-button",onClick:z,children:Ye?(0,n.jsx)(S.React.pause,{}):(0,n.jsx)(S.React.play,{})}),(0,n.jsx)("span",{className:"slider-time",children:et}),(0,n.jsx)(Ee,{value:v,min:0,max:b||k,step:1,onChange:$,onRelease:Ke}),(0,n.jsx)("span",{className:"slider-time",children:tt})]})}),H=(d,b,p)=>pe().groupSettings[p]?(0,n.jsxs)("div",{className:"duplicate-group",children:[(0,n.jsxs)("p",{className:"duplicate-group__heading",children:[(0,n.jsx)("div",{className:"duplicate-group__heading-title",children:d}),(0,n.jsxs)("div",{className:"duplicate-group__heading-length",children:[b.length," found"]})]}),b.length>0?(0,n.jsx)("div",{className:"duplicate-group__list",children:b.map((v,h)=>(0,n.jsxs)("div",{className:`duplicate-group__item duplicate-group__item--${p}`,children:[(0,n.jsxs)("div",{className:`duplicate-group__duplicate-item duplicate-group__item--${p}`,children:[(0,n.jsxs)("div",{className:"duplicate-group__duplicate-info",children:[(0,n.jsxs)("div",{className:"duplicate-group__duplicate-content",children:[(0,n.jsxs)("span",{className:"duplicate-group__duplicate-name",children:["Source: ",v.mainTrack.name]}),(0,n.jsx)(T,{track:v.mainTrack})]}),(0,n.jsx)("button",{className:"duplicate-group__delete-button",onClick:()=>j(p,h,v.mainTrack),children:"Delete"})]}),(0,n.jsx)("div",{className:"duplicate-group__actions",children:(0,n.jsx)(ae,{trackUri:v.mainTrack.uri,trackDuration:i.get(v.mainTrack.uri)})})]}),(0,n.jsx)("div",{className:"duplicate-group__duplicates-label",children:"Duplicates:"}),(0,n.jsx)("div",{className:"duplicate-group__duplicates-list",children:v.duplicates.map(k=>(0,n.jsxs)("div",{className:"duplicate-group__duplicate-item",children:[(0,n.jsxs)("div",{className:"duplicate-group__duplicate-info",children:[(0,n.jsxs)("div",{className:"duplicate-group__duplicate-content",children:[(0,n.jsx)("span",{className:"duplicate-group__duplicate-name",children:k.name}),(0,n.jsx)(T,{track:k})]}),(0,n.jsx)("button",{className:"duplicate-group__delete-button",onClick:()=>j(p,h,k),children:"Delete"})]}),(0,n.jsx)("div",{className:"duplicate-group__actions",children:(0,n.jsx)(ae,{trackUri:k.uri,trackDuration:i.get(k.uri)})})]},`${k.uri}-${k.uid||k.uri}`))})]},`${v.mainTrack.uri}-${v.mainTrack.uid||h}`))}):(0,n.jsx)("p",{children:"No duplicates found in this category."})]}):null,ue=e.map(d=>({value:d.uri,label:d.name}));return(0,n.jsxs)("div",{className:"find-duplicates",children:[(0,n.jsxs)("div",{className:"find-duplicates__header",children:[(0,n.jsx)("span",{className:"find-duplicates__header-label",children:"Select Playlist:"}),(0,n.jsx)(ze,{value:r.uri,options:ue,onChange:X,disabled:e.length===0})]}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"find-duplicates__details",children:["Playlist: ",r.name," (",l.length," tracks analyzed)"]}),(0,n.jsxs)(n.Fragment,{children:[H("Exact Duplicates (Same URI)",A.exact,"exact"),H("ISRC Duplicates (Same Recording)",A.isrc,"isrc"),H("Likely Duplicates (Same Name)",A.likely,"likely"),H("Possible Duplicates (Similar Name)",A.possible,"possible")]})]})]})}var Qe=Mt;(function(){let t=".find-duplicates{display:flex;flex-direction:column;gap:10px;width:100%;.find-duplicates__header{display:flex;align-items:center;gap:10px;.find-duplicates__header-label{color:var(--spice-text);font-weight:700}}.find-duplicates__details{font-size:1.25em;color:var(--spice-text)}}.duplicate-group{display:flex;flex-direction:column;gap:10px;background-color:var(--spice-player);border:1px solid rgba(var(--spice-rgb-selected-row),.1);border-radius:6px;padding:12px;.duplicate-group__heading{display:flex;justify-content:space-between;font-weight:700;font-size:1.2em;color:var(--spice-text);.duplicate-group__heading-length{background:#ff676746;border:1px solid #ff575766;font-size:12px;font-weight:400;border-radius:100px;padding:0 12px;align-content:center}}.duplicate-group__list{display:flex;flex-direction:column;gap:10px}.duplicate-group__item{display:flex;flex-direction:column;gap:5px;padding:15px;border-radius:4px;border:1px solid rgba(var(--spice-rgb-selected-row),.1);border-left:4px solid;&.duplicate-group__item--exact{border-left-color:#ff5a5a}&.duplicate-group__item--isrc{border-left-color:#ff9050}&.duplicate-group__item--likely{border-left-color:#eaea66}&.duplicate-group__item--possible{border-left-color:#80ef80}}.duplicate-group__playback-controls{display:flex;align-items:center;gap:8px;width:100%;flex-grow:1}.duplicate-group__playback-button{background:none;color:#fff;border:none;cursor:pointer;padding:0;display:flex;flex-shrink:0;align-items:center;justify-content:center;width:32px;height:32px;svg{width:100%;height:100%}}.slider-time{font-size:14px}.duplicate-group__duplicates-label{color:var(--spice-subtext);font-size:20px;font-weight:600;padding-left:15px}.duplicate-group__duplicates-list{padding-left:15px}.duplicate-group__duplicate-name{font-weight:600}.duplicate-group__duplicate-item{font-size:1em;border-bottom:1px solid rgba(var(--spice-rgb-selected-row),.1);display:flex;flex-direction:column;gap:10px;&:last-child{border-bottom:none}}.duplicate-group__actions{padding-bottom:8px}.duplicate-group__duplicate-info{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.duplicate-group__duplicate-content{display:flex;flex-direction:column}.duplicate-group__delete-button{background-color:#ff5a5a;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:.85em;font-weight:700;&:hover{background-color:#d34f4f}&:active{background-color:#c72c2c;transform:scale(.98)}}}.track-details{display:flex;flex-direction:column;color:var(--spice-subtext);font-size:.9em;.track-details__line{display:flex;gap:8px}}.duplicate-settings{width:100%;.duplicate-settings__section{margin-bottom:24px;.duplicate-settings__section-title{font-size:16px;font-weight:700;margin-bottom:16px;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:8px}}.duplicate-settings__description{margin-bottom:12px;opacity:.7;font-size:13px}.duplicate-settings__options{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px}.duplicate-settings__option{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background-color:#0003;border-radius:4px}.duplicate-settings__words-list{max-height:200px;overflow-y:auto;.duplicate-settings__no-words{padding:12px;text-align:center;background-color:#0003;border-radius:4px;opacity:.7}}.duplicate-settings__words-ul{padding:0;margin:0}.duplicate-settings__word-item{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background-color:#0003;border-radius:4px;margin-bottom:8px;.duplicate-settings__word-remove{background-color:#ff5a5a;border:none;color:#fff;padding:4px 8px;border-radius:4px;cursor:pointer;font-size:12px;&:hover{background-color:#d34f4f}}}.duplicate-settings__actions{display:flex;justify-content:flex-end;margin-top:24px;.duplicate-settings__reset{background-color:#ff32324d;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;&:hover{background-color:#ff323299}}}}",e="findDupeTracks-styles.css";if(document.getElementById(e))return;let o=document.createElement("style");o.id=e,o.textContent=t,document.head.appendChild(o)})();var R=u(y(),1),Dt=(t,e="main")=>{let o=r=>{let a=r==="settings";se({title:a?"Find Duplicates Settings":"Find Duplicates",content:a?(0,R.jsx)(Je,{}):(0,R.jsx)(Qe,{selectedPlaylist:t}),isLarge:!0,buttons:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:a?"Back to Duplicates":"Settings",placement:"top",children:(0,R.jsx)("button",{className:`modal__button modal__button--${a?"back":"settings"}`,onClick:()=>o(a?"main":"settings"),children:a?(0,R.jsx)(S.React.duplicate,{size:18}):(0,R.jsx)(S.React.settings,{size:18})})}),(0,R.jsx)(Spicetify.ReactComponent.TooltipWrapper,{label:"GitHub",placement:"top",children:(0,R.jsx)("button",{className:"modal__button modal__button--github",onClick:()=>window.open("https://github.com/veryboringhwl/spicetify-extensions"),children:(0,R.jsx)(S.React.github,{size:18})})})]})})};o(e)},Rt=new Spicetify.ContextMenuV2.Item({children:"Find Duplicates",leadingIcon:S.HTML.duplicate,onClick:async(t,e,o)=>{let r=fe(t.props),a=r.uri,l=r.name,m={uri:a,name:l||(await Spicetify.Platform.PlaylistAPI.getMetadata(a))?.name};Dt(m)},shouldAdd:(t,e,o)=>{let r=fe(t),a=Spicetify.URI.from(r.uri)?.type;return a===Spicetify.URI.Type.PLAYLIST||a===Spicetify.URI.Type.PLAYLIST_V2}});Rt.register();
