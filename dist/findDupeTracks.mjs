await new Promise((resolve) => Spicetify.Events.webpackLoaded.on(resolve));
var Fh=Object.create;var sa=Object.defineProperty;var Kh=Object.getOwnPropertyDescriptor;var Uh=Object.getOwnPropertyNames;var Zh=Object.getPrototypeOf,Wh=Object.prototype.hasOwnProperty;var qh=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ps=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Hh=(t,e)=>{for(var n in e)sa(t,n,{get:e[n],enumerable:!0})},Lc=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Uh(e))!Wh.call(t,a)&&a!==n&&sa(t,a,{get:()=>e[a],enumerable:!(o=Kh(e,a))||o.enumerable});return t};var qt=(t,e,n)=>(n=t!=null?Fh(Zh(t)):{},Lc(e||!t||!t.__esModule?sa(n,"default",{value:t,enumerable:!0}):n,t)),Gh=t=>Lc(sa({},"__esModule",{value:!0}),t);var Yc={};Hh(Yc,{Children:()=>Qh,Component:()=>Vh,Fragment:()=>Xh,Profiler:()=>Jh,PureComponent:()=>em,StrictMode:()=>tm,Suspense:()=>nm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>rm,act:()=>im,cloneElement:()=>om,createContext:()=>am,createElement:()=>sm,createFactory:()=>um,createRef:()=>cm,default:()=>Em,forwardRef:()=>lm,isValidElement:()=>$s,lazy:()=>fm,memo:()=>st,startTransition:()=>dm,unstable_act:()=>hm,useCallback:()=>mm,useContext:()=>pm,useDebugValue:()=>ym,useDeferredValue:()=>gm,useEffect:()=>nr,useId:()=>Ns,useImperativeHandle:()=>vm,useInsertionEffect:()=>_m,useLayoutEffect:()=>bm,useMemo:()=>js,useReducer:()=>wm,useRef:()=>nn,useState:()=>hn,useSyncExternalStore:()=>ua,useTransition:()=>Dm,version:()=>xm});var Qh,Vh,Xh,Jh,em,tm,nm,rm,im,om,am,sm,um,cm,lm,$s,fm,st,dm,hm,mm,pm,ym,gm,nr,Ns,vm,_m,bm,js,wm,nn,hn,ua,Dm,xm,Em,rn=qh(()=>{({Children:Qh,Component:Vh,Fragment:Xh,Profiler:Jh,PureComponent:em,StrictMode:tm,Suspense:nm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rm,act:im,cloneElement:om,createContext:am,createElement:sm,createFactory:um,createRef:cm,forwardRef:lm,isValidElement:$s,lazy:fm,memo:st,startTransition:dm,unstable_act:hm,useCallback:mm,useContext:pm,useDebugValue:ym,useDeferredValue:gm,useEffect:nr,useId:Ns,useImperativeHandle:vm,useInsertionEffect:_m,useLayoutEffect:bm,useMemo:js,useReducer:wm,useRef:nn,useState:hn,useSyncExternalStore:ua,useTransition:Dm,version:xm}=Spicetify.React),Em=Spicetify.React});var on=Ps((_0,Wc)=>{"use no memo";"use strict";var Cm=Object.create,fa=Object.defineProperty,Sm=Object.getOwnPropertyDescriptor,Tm=Object.getOwnPropertyNames,km=Object.getPrototypeOf,Im=Object.prototype.hasOwnProperty,Mm=(t,e)=>{for(var n in e)fa(t,n,{get:e[n],enumerable:!0})},Uc=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Tm(e))!Im.call(t,a)&&a!==n&&fa(t,a,{get:()=>e[a],enumerable:!(o=Sm(e,a))||o.enumerable});return t},Om=(t,e,n)=>(n=t!=null?Cm(km(t)):{},Uc(e||!t||!t.__esModule?fa(n,"default",{value:t,enumerable:!0}):n,t)),Rm=t=>Uc(fa({},"__esModule",{value:!0}),t),Zc={};Mm(Zc,{$dispatcherGuard:()=>Nm,$makeReadOnly:()=>Bm,$reset:()=>jm,$structuralCheck:()=>Km,c:()=>$m,clearRenderCounterRegistry:()=>Lm,renderCounterRegistry:()=>$i,useRenderCounter:()=>Fm});Wc.exports=Rm(Zc);var Vr=Om((rn(),Gh(Yc))),{useRef:Pm,useEffect:Am,isValidElement:Gr}=Vr,zc,Bs=(zc=Vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)!=null?zc:Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.memo_cache_sentinel"),Fc,$m=typeof((Fc=Vr.__COMPILER_RUNTIME)==null?void 0:Fc.c)=="function"?Vr.__COMPILER_RUNTIME.c:function(e){return Vr.useMemo(()=>{let n=new Array(e);for(let o=0;o<e;o++)n[o]=Ls;return n[Ls]=!0,n},[])},la={};["readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","getCacheSignal","getCacheForType","useCacheRefresh"].forEach(t=>{la[t]=()=>{throw new Error(`[React] Unexpected React hook call (${t}) from a React compiled function. Check that all hooks are called directly and named according to convention ('use[A-Z]') `)}});var Ai=null;la.useMemoCache=t=>{if(Ai==null)throw new Error("React Compiler internal invariant violation: unexpected null dispatcher");return Ai.useMemoCache(t)};function ca(t){return Bs.ReactCurrentDispatcher.current=t,Bs.ReactCurrentDispatcher.current}var Qr=[];function Nm(t){let e=Bs.ReactCurrentDispatcher.current;if(t===0){if(Qr.push(e),Qr.length===1&&(Ai=e),e===la)throw new Error("[React] Unexpected call to custom hook or component from a React compiled function. Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') and (2) components are returned as JSX instead of being directly invoked.");ca(la)}else if(t===1){let n=Qr.pop();if(n==null)throw new Error("React Compiler internal error: unexpected null in guard stack");Qr.length===0&&(Ai=null),ca(n)}else if(t===2)Qr.push(e),ca(Ai);else if(t===3){let n=Qr.pop();if(n==null)throw new Error("React Compiler internal error: unexpected null in guard stack");ca(n)}else throw new Error("React Compiler internal error: unreachable block"+t)}function jm(t){for(let e=0;e<t.length;e++)t[e]=Ls}function Bm(){throw new Error("TODO: implement $makeReadOnly in react-compiler-runtime")}var $i=new Map;function Lm(){for(let t of $i.values())t.forEach(e=>{e.count=0})}function Ym(t,e){let n=$i.get(t);n==null&&(n=new Set,$i.set(t,n)),n.add(e)}function zm(t,e){let n=$i.get(t);n?.delete(e)}function Fm(t){let e=Pm(null);e.current!=null&&(e.current.count+=1),Am(()=>{if(e.current==null){let n={count:0};Ym(t,n),e.current=n}return()=>{e.current!==null&&zm(t,e.current)}})}var Kc=new Set;function Km(t,e,n,o,a,s){function c(m,g,b,x){let T=`${o}:${s} [${a}] ${n}${b} changed from ${m} to ${g} at depth ${x}`;Kc.has(T)||(Kc.add(T),console.error(T))}let l=2;function y(m,g,b,x){if(!(x>l)){if(m===g)return;if(typeof m!=typeof g)c(`type ${typeof m}`,`type ${typeof g}`,b,x);else if(typeof m=="object"){let T=Array.isArray(m),O=Array.isArray(g);if(m===null&&g!==null)c("null",`type ${typeof g}`,b,x);else if(g===null)c(`type ${typeof m}`,"null",b,x);else if(m instanceof Map)if(!(g instanceof Map))c("Map instance","other value",b,x);else if(m.size!==g.size)c(`Map instance with size ${m.size}`,`Map instance with size ${g.size}`,b,x);else for(let[A,j]of m)g.has(A)?y(j,g.get(A),`${b}.get(${A})`,x+1):c(`Map instance with key ${A}`,`Map instance without key ${A}`,b,x);else if(g instanceof Map)c("other value","Map instance",b,x);else if(m instanceof Set)if(!(g instanceof Set))c("Set instance","other value",b,x);else if(m.size!==g.size)c(`Set instance with size ${m.size}`,`Set instance with size ${g.size}`,b,x);else for(let A of g)m.has(A)||c(`Set instance without element ${A}`,`Set instance with element ${A}`,b,x);else if(g instanceof Set)c("other value","Set instance",b,x);else if(T||O)if(T!==O)c(`type ${T?"array":"object"}`,`type ${O?"array":"object"}`,b,x);else if(m.length!==g.length)c(`array with length ${m.length}`,`array with length ${g.length}`,b,x);else for(let A=0;A<m.length;A++)y(m[A],g[A],`${b}[${A}]`,x+1);else if(Gr(m)||Gr(g))Gr(m)!==Gr(g)?c(`type ${Gr(m)?"React element":"object"}`,`type ${Gr(g)?"React element":"object"}`,b,x):m.type!==g.type?c(`React element of type ${m.type}`,`React element of type ${g.type}`,b,x):y(m.props,g.props,`[props of ${b}]`,x+1);else{for(let A in g)A in m||c(`object without key ${A}`,`object with key ${A}`,b,x);for(let A in m)A in g?y(m[A],g[A],`${b}.${A}`,x+1):c(`object with key ${A}`,`object without key ${A}`,b,x)}}else{if(typeof m=="function")return;isNaN(m)||isNaN(g)?isNaN(m)!==isNaN(g)&&c(`${isNaN(m)?"NaN":"non-NaN value"}`,`${isNaN(g)?"NaN":"non-NaN value"}`,b,x):m!==g&&c(m,g,b,x)}}}y(t,e,"",0)}});var Xc=Ps((Ks,Us)=>{(function(t,e){typeof Ks=="object"&&typeof Us<"u"?Us.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(Ks,function(){"use strict";var t=Math.imul,e=Math.clz32;function n(U,V){(V==null||V>U.length)&&(V=U.length);for(var H=0,fe=Array(V);H<V;H++)fe[H]=U[H];return fe}function o(U){if(Array.isArray(U))return U}function a(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function s(U,V,H){return V=b(V),Q(U,O()?Reflect.construct(V,H||[],b(U).constructor):V.apply(U,H))}function c(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")}function l(U,V,H){if(O())return Reflect.construct.apply(null,arguments);var fe=[null];fe.push.apply(fe,V);var D=new(U.bind.apply(U,fe));return H&&ne(D,H.prototype),D}function y(U,V){for(var H,fe=0;fe<V.length;fe++)H=V[fe],H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(U,me(H.key),H)}function m(U,V,H){return V&&y(U.prototype,V),H&&y(U,H),Object.defineProperty(U,"prototype",{writable:!1}),U}function g(U,V){var H=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!H){if(Array.isArray(U)||(H=xe(U))||V&&U&&typeof U.length=="number"){H&&(U=H);var fe=0,D=function(){};return{s:D,n:function(){return fe>=U.length?{done:!0}:{done:!1,value:U[fe++]}},e:function(E){throw E},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,f=!0,p=!1;return{s:function(){H=H.call(U)},n:function(){var E=H.next();return f=E.done,E},e:function(E){p=!0,B=E},f:function(){try{f||H.return==null||H.return()}finally{if(p)throw B}}}}function b(U){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},b(U)}function x(U,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(V&&V.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),V&&ne(U,V)}function T(U){try{return Function.toString.call(U).indexOf("[native code]")!==-1}catch{return typeof U=="function"}}function O(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!U})()}function A(U,V){var H=U==null?null:typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(H!=null){var fe,D,B,f,p=[],E=!0,I=!1;try{if(B=(H=H.call(U)).next,V===0){if(Object(H)!==H)return;E=!1}else for(;!(E=(fe=B.call(H)).done)&&(p.push(fe.value),p.length!==V);E=!0);}catch(k){I=!0,D=k}finally{try{if(!E&&H.return!=null&&(f=H.return(),Object(f)!==f))return}finally{if(I)throw D}}return p}}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(U,V){if(V&&(typeof V=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(U)}function ne(U,V){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,fe){return H.__proto__=fe,H},ne(U,V)}function re(U,V){return o(U)||A(U,V)||xe(U,V)||j()}function ce(U,V){if(typeof U!="object"||!U)return U;var H=U[Symbol.toPrimitive];if(H!==void 0){var fe=H.call(U,V||"default");if(typeof fe!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(U)}function me(U){var V=ce(U,"string");return typeof V=="symbol"?V:V+""}function ge(U){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},ge(U)}function xe(U,V){if(U){if(typeof U=="string")return n(U,V);var H={}.toString.call(U).slice(8,-1);return H==="Object"&&U.constructor&&(H=U.constructor.name),H==="Map"||H==="Set"?Array.from(U):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?n(U,V):void 0}}function we(U){var V=typeof Map=="function"?new Map:void 0;return we=function(H){function fe(){return l(H,arguments,b(this).constructor)}if(H===null||!T(H))return H;if(typeof H!="function")throw new TypeError("Super expression must either be null or a function");if(V!==void 0){if(V.has(H))return V.get(H);V.set(H,fe)}return fe.prototype=Object.create(H.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),ne(fe,H)},we(U)}var ye=(function(U){var V=Math.abs,H=Math.max,fe=Math.floor;function D(B,f){var p;if(c(this,D),p=s(this,D,[B]),p.sign=f,Object.setPrototypeOf(p,D.prototype),B>D.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return p}return x(D,U),m(D,[{key:"toDebugString",value:function(){var f,p=["BigInt["],E=g(this);try{for(E.s();!(f=E.n()).done;){var I=f.value;p.push((I&&(I>>>0).toString(16))+", ")}}catch(k){E.e(k)}finally{E.f()}return p.push("]"),p.join("")}},{key:"toString",value:function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>f||36<f)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(f&f-1)==0?D.__toStringBasePowerOfTwo(this,f):D.__toStringGeneric(this,f,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var f=new D(this.length,this.sign),p=0;p<this.length;p++)f[p]=this[p];return f}},{key:"__trim",value:function(){for(var f=this.length,p=this[f-1];p===0;)f--,p=this[f-1],this.pop();return f===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var f=0;f<this.length;f++)this[f]=0}},{key:"__clzmsd",value:function(){return D.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(f,p,E){E>this.length&&(E=this.length);for(var I=32767&f,k=f>>>15,P=0,z=p,Y=0;Y<E;Y++){var J=this.__digit(Y),W=32767&J,le=J>>>15,De=D.__imul(W,I),ve=D.__imul(W,k),oe=D.__imul(le,I),Ie=D.__imul(le,k),Pe=z+De+P;P=Pe>>>30,Pe&=1073741823,Pe+=((32767&ve)<<15)+((32767&oe)<<15),P+=Pe>>>30,z=Ie+(ve>>>15)+(oe>>>15),this.__setDigit(Y,1073741823&Pe)}if(P!==0||z!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(f,p,E){for(var I,k=0,P=0;P<E;P++)I=this.__halfDigit(p+P)+f.__halfDigit(P)+k,k=I>>>15,this.__setHalfDigit(p+P,32767&I);return k}},{key:"__inplaceSub",value:function(f,p,E){var I=E-1>>>1,k=0;if(1&p){p>>=1;for(var P=this.__digit(p),z=32767&P,Y=0;Y<I;Y++){var J=f.__digit(Y),W=(P>>>15)-(32767&J)-k;k=1&W>>>15,this.__setDigit(p+Y,(32767&W)<<15|32767&z),P=this.__digit(p+Y+1),z=(32767&P)-(J>>>15)-k,k=1&z>>>15}var le=f.__digit(Y),De=(P>>>15)-(32767&le)-k;k=1&De>>>15,this.__setDigit(p+Y,(32767&De)<<15|32767&z);var ve=le>>>15;if(p+Y+1>=this.length)throw new RangeError("out of bounds");(1&E)==0&&(P=this.__digit(p+Y+1),z=(32767&P)-ve-k,k=1&z>>>15,this.__setDigit(p+f.length,1073709056&P|32767&z))}else{p>>=1;for(var oe=0;oe<f.length-1;oe++){var Ie=this.__digit(p+oe),Pe=f.__digit(oe),Ne=(32767&Ie)-(32767&Pe)-k;k=1&Ne>>>15;var ze=(Ie>>>15)-(Pe>>>15)-k;k=1&ze>>>15,this.__setDigit(p+oe,(32767&ze)<<15|32767&Ne)}var He=this.__digit(p+oe),Xe=f.__digit(oe),ct=(32767&He)-(32767&Xe)-k;k=1&ct>>>15;var fn=0;(1&E)==0&&(fn=(He>>>15)-(Xe>>>15)-k,k=1&fn>>>15),this.__setDigit(p+oe,(32767&fn)<<15|32767&ct)}return k}},{key:"__inplaceRightShift",value:function(f){if(f!==0){for(var p,E=this.__digit(0)>>>f,I=this.length-1,k=0;k<I;k++)p=this.__digit(k+1),this.__setDigit(k,1073741823&p<<30-f|E),E=p>>>f;this.__setDigit(I,E)}}},{key:"__digit",value:function(f){return this[f]}},{key:"__unsignedDigit",value:function(f){return this[f]>>>0}},{key:"__setDigit",value:function(f,p){this[f]=0|p}},{key:"__setDigitGrow",value:function(f,p){this[f]=0|p}},{key:"__halfDigitLength",value:function(){var f=this.length;return 32767>=this.__unsignedDigit(f-1)?2*f-1:2*f}},{key:"__halfDigit",value:function(f){return 32767&this[f>>>1]>>>15*(1&f)}},{key:"__setHalfDigit",value:function(f,p){var E=f>>>1,I=this.__digit(E),k=1&f?32767&I|p<<15:1073709056&I|32767&p;this.__setDigit(E,k)}}],[{key:"BigInt",value:function(f){var p=Number.isFinite;if(typeof f=="number"){if(f===0)return D.__zero();if(D.__isOneDigitInt(f))return 0>f?D.__oneDigit(-f,!0):D.__oneDigit(f,!1);if(!p(f)||fe(f)!==f)throw new RangeError("The number "+f+" cannot be converted to BigInt because it is not an integer");return D.__fromDouble(f)}if(typeof f=="string"){var E=D.__fromString(f);if(E===null)throw new SyntaxError("Cannot convert "+f+" to a BigInt");return E}if(typeof f=="boolean")return f===!0?D.__oneDigit(1,!1):D.__zero();if(ge(f)==="object"){if(f.constructor===D)return f;var I=D.__toPrimitive(f);return D.BigInt(I)}throw new TypeError("Cannot convert "+f+" to a BigInt")}},{key:"toNumber",value:function(f){var p=f.length;if(p===0)return 0;if(p===1){var E=f.__unsignedDigit(0);return f.sign?-E:E}var I=f.__digit(p-1),k=D.__clz30(I),P=30*p-k;if(1024<P)return f.sign?-1/0:1/0;var z=P-1,Y=I,J=p-1,W=k+3,le=W===32?0:Y<<W;le>>>=12;var De=W-12,ve=12<=W?0:Y<<20+W,oe=20+W;for(0<De&&0<J&&(J--,Y=f.__digit(J),le|=Y>>>30-De,ve=Y<<De+2,oe=De+2);0<oe&&0<J;)J--,Y=f.__digit(J),ve|=30<=oe?Y<<oe-30:Y>>>30-oe,oe-=30;var Ie=D.__decideRounding(f,oe,J,Y);if((Ie===1||Ie===0&&(1&ve)==1)&&(ve=ve+1>>>0,ve===0&&(le++,le>>>20!=0&&(le=0,z++,1023<z))))return f.sign?-1/0:1/0;var Pe=f.sign?-2147483648:0;return z=z+1023<<20,D.__kBitConversionInts[D.__kBitConversionIntHigh]=Pe|z|le,D.__kBitConversionInts[D.__kBitConversionIntLow]=ve,D.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(f){if(f.length===0)return f;var p=f.__copy();return p.sign=!f.sign,p}},{key:"bitwiseNot",value:function(f){return f.sign?D.__absoluteSubOne(f).__trim():D.__absoluteAddOne(f,!0)}},{key:"exponentiate",value:function(f,p){if(p.sign)throw new RangeError("Exponent must be positive");if(p.length===0)return D.__oneDigit(1,!1);if(f.length===0)return f;if(f.length===1&&f.__digit(0)===1)return f.sign&&(1&p.__digit(0))==0?D.unaryMinus(f):f;if(1<p.length)throw new RangeError("BigInt too big");var E=p.__unsignedDigit(0);if(E===1)return f;if(E>=D.__kMaxLengthBits)throw new RangeError("BigInt too big");if(f.length===1&&f.__digit(0)===2){var I=1+(0|E/30),k=f.sign&&(1&E)!=0,P=new D(I,k);P.__initializeDigits();var z=1<<E%30;return P.__setDigit(I-1,z),P}var Y=null,J=f;for((1&E)!=0&&(Y=f),E>>=1;E!==0;E>>=1)J=D.multiply(J,J),(1&E)!=0&&(Y===null?Y=J:Y=D.multiply(Y,J));return Y}},{key:"multiply",value:function(f,p){if(f.length===0)return f;if(p.length===0)return p;var E=f.length+p.length;30<=f.__clzmsd()+p.__clzmsd()&&E--;var I=new D(E,f.sign!==p.sign);I.__initializeDigits();for(var k=0;k<f.length;k++)D.__multiplyAccumulate(p,f.__digit(k),I,k);return I.__trim()}},{key:"divide",value:function(f,p){if(p.length===0)throw new RangeError("Division by zero");if(0>D.__absoluteCompare(f,p))return D.__zero();var E,I=f.sign!==p.sign,k=p.__unsignedDigit(0);if(p.length===1&&32767>=k){if(k===1)return I===f.sign?f:D.unaryMinus(f);E=D.__absoluteDivSmall(f,k,null)}else E=D.__absoluteDivLarge(f,p,!0,!1);return E.sign=I,E.__trim()}},{key:"remainder",value:function(f,p){if(p.length===0)throw new RangeError("Division by zero");if(0>D.__absoluteCompare(f,p))return f;var E=p.__unsignedDigit(0);if(p.length===1&&32767>=E){if(E===1)return D.__zero();var I=D.__absoluteModSmall(f,E);return I===0?D.__zero():D.__oneDigit(I,f.sign)}var k=D.__absoluteDivLarge(f,p,!1,!0);return k.sign=f.sign,k.__trim()}},{key:"add",value:function(f,p){var E=f.sign;return E===p.sign?D.__absoluteAdd(f,p,E):0<=D.__absoluteCompare(f,p)?D.__absoluteSub(f,p,E):D.__absoluteSub(p,f,!E)}},{key:"subtract",value:function(f,p){var E=f.sign;return E===p.sign?0<=D.__absoluteCompare(f,p)?D.__absoluteSub(f,p,E):D.__absoluteSub(p,f,!E):D.__absoluteAdd(f,p,E)}},{key:"leftShift",value:function(f,p){return p.length===0||f.length===0?f:p.sign?D.__rightShiftByAbsolute(f,p):D.__leftShiftByAbsolute(f,p)}},{key:"signedRightShift",value:function(f,p){return p.length===0||f.length===0?f:p.sign?D.__leftShiftByAbsolute(f,p):D.__rightShiftByAbsolute(f,p)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(f,p){return 0>D.__compareToBigInt(f,p)}},{key:"lessThanOrEqual",value:function(f,p){return 0>=D.__compareToBigInt(f,p)}},{key:"greaterThan",value:function(f,p){return 0<D.__compareToBigInt(f,p)}},{key:"greaterThanOrEqual",value:function(f,p){return 0<=D.__compareToBigInt(f,p)}},{key:"equal",value:function(f,p){if(f.sign!==p.sign||f.length!==p.length)return!1;for(var E=0;E<f.length;E++)if(f.__digit(E)!==p.__digit(E))return!1;return!0}},{key:"notEqual",value:function(f,p){return!D.equal(f,p)}},{key:"bitwiseAnd",value:function(f,p){if(!f.sign&&!p.sign)return D.__absoluteAnd(f,p).__trim();if(f.sign&&p.sign){var E=H(f.length,p.length)+1,I=D.__absoluteSubOne(f,E),k=D.__absoluteSubOne(p);return I=D.__absoluteOr(I,k,I),D.__absoluteAddOne(I,!0,I).__trim()}if(f.sign){var P=[p,f];f=P[0],p=P[1]}return D.__absoluteAndNot(f,D.__absoluteSubOne(p)).__trim()}},{key:"bitwiseXor",value:function(f,p){if(!f.sign&&!p.sign)return D.__absoluteXor(f,p).__trim();if(f.sign&&p.sign){var E=H(f.length,p.length),I=D.__absoluteSubOne(f,E),k=D.__absoluteSubOne(p);return D.__absoluteXor(I,k,I).__trim()}var P=H(f.length,p.length)+1;if(f.sign){var z=[p,f];f=z[0],p=z[1]}var Y=D.__absoluteSubOne(p,P);return Y=D.__absoluteXor(Y,f,Y),D.__absoluteAddOne(Y,!0,Y).__trim()}},{key:"bitwiseOr",value:function(f,p){var E=H(f.length,p.length);if(!f.sign&&!p.sign)return D.__absoluteOr(f,p).__trim();if(f.sign&&p.sign){var I=D.__absoluteSubOne(f,E),k=D.__absoluteSubOne(p);return I=D.__absoluteAnd(I,k,I),D.__absoluteAddOne(I,!0,I).__trim()}if(f.sign){var P=[p,f];f=P[0],p=P[1]}var z=D.__absoluteSubOne(p,E);return z=D.__absoluteAndNot(z,f,z),D.__absoluteAddOne(z,!0,z).__trim()}},{key:"asIntN",value:function(f,p){if(p.length===0)return p;if(f=fe(f),0>f)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(f===0)return D.__zero();if(f>=D.__kMaxLengthBits)return p;var E=0|(f+29)/30;if(p.length<E)return p;var I=p.__unsignedDigit(E-1),k=1<<(f-1)%30;if(p.length===E&&I<k)return p;var P=(I&k)===k;if(!P)return D.__truncateToNBits(f,p);if(!p.sign)return D.__truncateAndSubFromPowerOfTwo(f,p,!0);if((I&k-1)==0){for(var z=E-2;0<=z;z--)if(p.__digit(z)!==0)return D.__truncateAndSubFromPowerOfTwo(f,p,!1);return p.length===E&&I===k?p:D.__truncateToNBits(f,p)}return D.__truncateAndSubFromPowerOfTwo(f,p,!1)}},{key:"asUintN",value:function(f,p){if(p.length===0)return p;if(f=fe(f),0>f)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(f===0)return D.__zero();if(p.sign){if(f>D.__kMaxLengthBits)throw new RangeError("BigInt too big");return D.__truncateAndSubFromPowerOfTwo(f,p,!1)}if(f>=D.__kMaxLengthBits)return p;var E=0|(f+29)/30;if(p.length<E)return p;var I=f%30;if(p.length==E){if(I===0)return p;var k=p.__digit(E-1);if(!(k>>>I))return p}return D.__truncateToNBits(f,p)}},{key:"ADD",value:function(f,p){if(f=D.__toPrimitive(f),p=D.__toPrimitive(p),typeof f=="string")return typeof p!="string"&&(p=p.toString()),f+p;if(typeof p=="string")return f.toString()+p;if(f=D.__toNumeric(f),p=D.__toNumeric(p),D.__isBigInt(f)&&D.__isBigInt(p))return D.add(f,p);if(typeof f=="number"&&typeof p=="number")return f+p;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(f,p){return D.__compare(f,p,0)}},{key:"LE",value:function(f,p){return D.__compare(f,p,1)}},{key:"GT",value:function(f,p){return D.__compare(f,p,2)}},{key:"GE",value:function(f,p){return D.__compare(f,p,3)}},{key:"EQ",value:function(f,p){for(;;){if(D.__isBigInt(f))return D.__isBigInt(p)?D.equal(f,p):D.EQ(p,f);if(typeof f=="number"){if(D.__isBigInt(p))return D.__equalToNumber(p,f);if(ge(p)!=="object")return f==p;p=D.__toPrimitive(p)}else if(typeof f=="string"){if(D.__isBigInt(p))return f=D.__fromString(f),f!==null&&D.equal(f,p);if(ge(p)!=="object")return f==p;p=D.__toPrimitive(p)}else if(typeof f=="boolean"){if(D.__isBigInt(p))return D.__equalToNumber(p,+f);if(ge(p)!=="object")return f==p;p=D.__toPrimitive(p)}else if(ge(f)==="symbol"){if(D.__isBigInt(p))return!1;if(ge(p)!=="object")return f==p;p=D.__toPrimitive(p)}else if(ge(f)==="object"){if(ge(p)==="object"&&p.constructor!==D)return f==p;f=D.__toPrimitive(f)}else return f==p}}},{key:"NE",value:function(f,p){return!D.EQ(f,p)}},{key:"DataViewGetBigInt64",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return D.asIntN(64,D.DataViewGetBigUint64(f,p,E))}},{key:"DataViewGetBigUint64",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0&&arguments[2],I=E?[4,0]:[0,4],k=re(I,2),P=k[0],z=k[1],Y=f.getUint32(p+P,E),J=f.getUint32(p+z,E),W=new D(3,!1);return W.__setDigit(0,1073741823&J),W.__setDigit(1,(268435455&Y)<<2|J>>>30),W.__setDigit(2,Y>>>28),W.__trim()}},{key:"DataViewSetBigInt64",value:function(f,p,E){var I=3<arguments.length&&arguments[3]!==void 0&&arguments[3];D.DataViewSetBigUint64(f,p,E,I)}},{key:"DataViewSetBigUint64",value:function(f,p,E){var I=3<arguments.length&&arguments[3]!==void 0&&arguments[3];E=D.asUintN(64,E);var k=0,P=0;if(0<E.length&&(P=E.__digit(0),1<E.length)){var z=E.__digit(1);P|=z<<30,k=z>>>2,2<E.length&&(k|=E.__digit(2)<<28)}var Y=I?[4,0]:[0,4],J=re(Y,2),W=J[0],le=J[1];f.setUint32(p+W,k,I),f.setUint32(p+le,P,I)}},{key:"__zero",value:function(){return new D(0,!1)}},{key:"__oneDigit",value:function(f,p){var E=new D(1,p);return E.__setDigit(0,f),E}},{key:"__decideRounding",value:function(f,p,E,I){if(0<p)return-1;var k;if(0>p)k=-p-1;else{if(E===0)return-1;E--,I=f.__digit(E),k=29}var P=1<<k;if((I&P)==0)return-1;if(P-=1,(I&P)!=0)return 1;for(;0<E;)if(E--,f.__digit(E)!==0)return 1;return 0}},{key:"__fromDouble",value:function(f){var p=0>f;D.__kBitConversionDouble[0]=f;var E,I=2047&D.__kBitConversionInts[D.__kBitConversionIntHigh]>>>20,k=I-1023,P=(0|k/30)+1,z=new D(P,p),Y=1048576,J=1048575&D.__kBitConversionInts[D.__kBitConversionIntHigh]|Y,W=D.__kBitConversionInts[D.__kBitConversionIntLow],le=20,De=k%30,ve=0;if(De<le){var oe=le-De;ve=oe+32,E=J>>>oe,J=J<<32-oe|W>>>oe,W<<=32-oe}else if(De===le)ve=32,E=J,J=W,W=0;else{var Ie=De-le;ve=32-Ie,E=J<<Ie|W>>>32-Ie,J=W<<Ie,W=0}z.__setDigit(P-1,E);for(var Pe=P-2;0<=Pe;Pe--)0<ve?(ve-=30,E=J>>>2,J=J<<30|W>>>2,W<<=30):E=0,z.__setDigit(Pe,E);return z.__trim()}},{key:"__isWhitespace",value:function(f){return 13>=f&&9<=f||(159>=f?f==32:131071>=f?f==160||f==5760:196607>=f?(f&=131071,10>=f||f==40||f==41||f==47||f==95||f==4096):f==65279)}},{key:"__fromString",value:function(f){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,E=0,I=f.length,k=0;if(k===I)return D.__zero();for(var P=f.charCodeAt(k);D.__isWhitespace(P);){if(++k===I)return D.__zero();P=f.charCodeAt(k)}if(P===43){if(++k===I)return null;P=f.charCodeAt(k),E=1}else if(P===45){if(++k===I)return null;P=f.charCodeAt(k),E=-1}if(p===0){if(p=10,P===48){if(++k===I)return D.__zero();if(P=f.charCodeAt(k),P===88||P===120){if(p=16,++k===I)return null;P=f.charCodeAt(k)}else if(P===79||P===111){if(p=8,++k===I)return null;P=f.charCodeAt(k)}else if(P===66||P===98){if(p=2,++k===I)return null;P=f.charCodeAt(k)}}}else if(p===16&&P===48){if(++k===I)return D.__zero();if(P=f.charCodeAt(k),P===88||P===120){if(++k===I)return null;P=f.charCodeAt(k)}}if(E!==0&&p!==10)return null;for(;P===48;){if(++k===I)return D.__zero();P=f.charCodeAt(k)}var z=I-k,Y=D.__kMaxBitsPerChar[p],J=D.__kBitsPerCharTableMultiplier-1;if(z>1073741824/Y)return null;var W=Y*z+J>>>D.__kBitsPerCharTableShift,le=0|(W+29)/30,De=new D(le,!1),ve=10>p?p:10,oe=10<p?p-10:0;if((p&p-1)==0){Y>>=D.__kBitsPerCharTableShift;var Ie=[],Pe=[],Ne=!1;do{for(var ze,He=0,Xe=0;;){if(ze=void 0,P-48>>>0<ve)ze=P-48;else if((32|P)-97>>>0<oe)ze=(32|P)-87;else{Ne=!0;break}if(Xe+=Y,He=He<<Y|ze,++k===I){Ne=!0;break}if(P=f.charCodeAt(k),30<Xe+Y)break}Ie.push(He),Pe.push(Xe)}while(!Ne);D.__fillFromParts(De,Ie,Pe)}else{De.__initializeDigits();var ct=!1,fn=0;do{for(var Ee,Fr=0,_i=1;;){if(Ee=void 0,P-48>>>0<ve)Ee=P-48;else if((32|P)-97>>>0<oe)Ee=(32|P)-87;else{ct=!0;break}var gr=_i*p;if(1073741823<gr)break;if(_i=gr,Fr=Fr*p+Ee,fn++,++k===I){ct=!0;break}P=f.charCodeAt(k)}J=30*D.__kBitsPerCharTableMultiplier-1;var qe=0|(Y*fn+J>>>D.__kBitsPerCharTableShift)/30;De.__inplaceMultiplyAdd(_i,Fr,qe)}while(!ct)}if(k!==I){if(!D.__isWhitespace(P))return null;for(k++;k<I;k++)if(P=f.charCodeAt(k),!D.__isWhitespace(P))return null}return De.sign=E===-1,De.__trim()}},{key:"__fillFromParts",value:function(f,p,E){for(var I=0,k=0,P=0,z=p.length-1;0<=z;z--){var Y=p[z],J=E[z];k|=Y<<P,P+=J,P===30?(f.__setDigit(I++,k),P=0,k=0):30<P&&(f.__setDigit(I++,1073741823&k),P-=30,k=Y>>>J-P)}if(k!==0){if(I>=f.length)throw new Error("implementation bug");f.__setDigit(I++,k)}for(;I<f.length;I++)f.__setDigit(I,0)}},{key:"__toStringBasePowerOfTwo",value:function(f,p){var E=f.length,I=p-1;I=(85&I>>>1)+(85&I),I=(51&I>>>2)+(51&I),I=(15&I>>>4)+(15&I);var k=I,P=p-1,z=f.__digit(E-1),Y=D.__clz30(z),J=30*E-Y,W=0|(J+k-1)/k;if(f.sign&&W++,268435456<W)throw new Error("string too long");for(var le=Array(W),De=W-1,ve=0,oe=0,Ie=0;Ie<E-1;Ie++){var Pe=f.__digit(Ie),Ne=(ve|Pe<<oe)&P;le[De--]=D.__kConversionChars[Ne];var ze=k-oe;for(ve=Pe>>>ze,oe=30-ze;oe>=k;)le[De--]=D.__kConversionChars[ve&P],ve>>>=k,oe-=k}var He=(ve|z<<oe)&P;for(le[De--]=D.__kConversionChars[He],ve=z>>>k-oe;ve!==0;)le[De--]=D.__kConversionChars[ve&P],ve>>>=k;if(f.sign&&(le[De--]="-"),De!==-1)throw new Error("implementation bug");return le.join("")}},{key:"__toStringGeneric",value:function(f,p,E){var I=f.length;if(I===0)return"";if(I===1){var k=f.__unsignedDigit(0).toString(p);return E===!1&&f.sign&&(k="-"+k),k}var P=30*I-D.__clz30(f.__digit(I-1)),z=D.__kMaxBitsPerChar[p],Y=z-1,J=P*D.__kBitsPerCharTableMultiplier;J+=Y-1,J=0|J/Y;var W,le,De=J+1>>1,ve=D.exponentiate(D.__oneDigit(p,!1),D.__oneDigit(De,!1)),oe=ve.__unsignedDigit(0);if(ve.length===1&&32767>=oe){W=new D(f.length,!1),W.__initializeDigits();for(var Ie,Pe=0,Ne=2*f.length-1;0<=Ne;Ne--)Ie=Pe<<15|f.__halfDigit(Ne),W.__setHalfDigit(Ne,0|Ie/oe),Pe=0|Ie%oe;le=Pe.toString(p)}else{var ze=D.__absoluteDivLarge(f,ve,!0,!0);W=ze.quotient;var He=ze.remainder.__trim();le=D.__toStringGeneric(He,p,!0)}W.__trim();for(var Xe=D.__toStringGeneric(W,p,!0);le.length<De;)le="0"+le;return E===!1&&f.sign&&(Xe="-"+Xe),Xe+le}},{key:"__unequalSign",value:function(f){return f?-1:1}},{key:"__absoluteGreater",value:function(f){return f?-1:1}},{key:"__absoluteLess",value:function(f){return f?1:-1}},{key:"__compareToBigInt",value:function(f,p){var E=f.sign;if(E!==p.sign)return D.__unequalSign(E);var I=D.__absoluteCompare(f,p);return 0<I?D.__absoluteGreater(E):0>I?D.__absoluteLess(E):0}},{key:"__compareToNumber",value:function(f,p){if(D.__isOneDigitInt(p)){var E=f.sign,I=0>p;if(E!==I)return D.__unequalSign(E);if(f.length===0){if(I)throw new Error("implementation bug");return p===0?0:-1}if(1<f.length)return D.__absoluteGreater(E);var k=V(p),P=f.__unsignedDigit(0);return P>k?D.__absoluteGreater(E):P<k?D.__absoluteLess(E):0}return D.__compareToDouble(f,p)}},{key:"__compareToDouble",value:function(f,p){if(p!==p)return p;if(p===1/0)return-1;if(p===-1/0)return 1;var E=f.sign,I=0>p;if(E!==I)return D.__unequalSign(E);if(p===0)throw new Error("implementation bug: should be handled elsewhere");if(f.length===0)return-1;D.__kBitConversionDouble[0]=p;var k=2047&D.__kBitConversionInts[D.__kBitConversionIntHigh]>>>20;if(k==2047)throw new Error("implementation bug: handled elsewhere");var P=k-1023;if(0>P)return D.__absoluteGreater(E);var z=f.length,Y=f.__digit(z-1),J=D.__clz30(Y),W=30*z-J,le=P+1;if(W<le)return D.__absoluteLess(E);if(W>le)return D.__absoluteGreater(E);var De=1048576,ve=1048576|1048575&D.__kBitConversionInts[D.__kBitConversionIntHigh],oe=D.__kBitConversionInts[D.__kBitConversionIntLow],Ie=20,Pe=29-J;if(Pe!==(0|(W-1)%30))throw new Error("implementation bug");var Ne,ze=0;if(Pe<Ie){var He=Ie-Pe;ze=He+32,Ne=ve>>>He,ve=ve<<32-He|oe>>>He,oe<<=32-He}else if(Pe===Ie)ze=32,Ne=ve,ve=oe,oe=0;else{var Xe=Pe-Ie;ze=32-Xe,Ne=ve<<Xe|oe>>>32-Xe,ve=oe<<Xe,oe=0}if(Y>>>=0,Ne>>>=0,Y>Ne)return D.__absoluteGreater(E);if(Y<Ne)return D.__absoluteLess(E);for(var ct=z-2;0<=ct;ct--){0<ze?(ze-=30,Ne=ve>>>2,ve=ve<<30|oe>>>2,oe<<=30):Ne=0;var fn=f.__unsignedDigit(ct);if(fn>Ne)return D.__absoluteGreater(E);if(fn<Ne)return D.__absoluteLess(E)}if(ve!==0||oe!==0){if(ze===0)throw new Error("implementation bug");return D.__absoluteLess(E)}return 0}},{key:"__equalToNumber",value:function(f,p){return D.__isOneDigitInt(p)?p===0?f.length===0:f.length===1&&f.sign===0>p&&f.__unsignedDigit(0)===V(p):D.__compareToDouble(f,p)===0}},{key:"__comparisonResultToBool",value:function(f,p){return p===0?0>f:p===1?0>=f:p===2?0<f:p===3?0<=f:void 0}},{key:"__compare",value:function(f,p,E){if(f=D.__toPrimitive(f),p=D.__toPrimitive(p),typeof f=="string"&&typeof p=="string")switch(E){case 0:return f<p;case 1:return f<=p;case 2:return f>p;case 3:return f>=p}if(D.__isBigInt(f)&&typeof p=="string")return p=D.__fromString(p),p!==null&&D.__comparisonResultToBool(D.__compareToBigInt(f,p),E);if(typeof f=="string"&&D.__isBigInt(p))return f=D.__fromString(f),f!==null&&D.__comparisonResultToBool(D.__compareToBigInt(f,p),E);if(f=D.__toNumeric(f),p=D.__toNumeric(p),D.__isBigInt(f)){if(D.__isBigInt(p))return D.__comparisonResultToBool(D.__compareToBigInt(f,p),E);if(typeof p!="number")throw new Error("implementation bug");return D.__comparisonResultToBool(D.__compareToNumber(f,p),E)}if(typeof f!="number")throw new Error("implementation bug");if(D.__isBigInt(p))return D.__comparisonResultToBool(D.__compareToNumber(p,f),2^E);if(typeof p!="number")throw new Error("implementation bug");return E===0?f<p:E===1?f<=p:E===2?f>p:E===3?f>=p:void 0}},{key:"__absoluteAdd",value:function(f,p,E){if(f.length<p.length)return D.__absoluteAdd(p,f,E);if(f.length===0)return f;if(p.length===0)return f.sign===E?f:D.unaryMinus(f);var I=f.length;(f.__clzmsd()===0||p.length===f.length&&p.__clzmsd()===0)&&I++;for(var k,P=new D(I,E),z=0,Y=0;Y<p.length;Y++)k=f.__digit(Y)+p.__digit(Y)+z,z=k>>>30,P.__setDigit(Y,1073741823&k);for(;Y<f.length;Y++){var J=f.__digit(Y)+z;z=J>>>30,P.__setDigit(Y,1073741823&J)}return Y<P.length&&P.__setDigit(Y,z),P.__trim()}},{key:"__absoluteSub",value:function(f,p,E){if(f.length===0)return f;if(p.length===0)return f.sign===E?f:D.unaryMinus(f);for(var I,k=new D(f.length,E),P=0,z=0;z<p.length;z++)I=f.__digit(z)-p.__digit(z)-P,P=1&I>>>30,k.__setDigit(z,1073741823&I);for(;z<f.length;z++){var Y=f.__digit(z)-P;P=1&Y>>>30,k.__setDigit(z,1073741823&Y)}return k.__trim()}},{key:"__absoluteAddOne",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,I=f.length;E===null?E=new D(I,p):E.sign=p;for(var k,P=1,z=0;z<I;z++)k=f.__digit(z)+P,P=k>>>30,E.__setDigit(z,1073741823&k);return P!==0&&E.__setDigitGrow(I,1),E}},{key:"__absoluteSubOne",value:function(f,p){var E=f.length;p=p||E;for(var I,k=new D(p,!1),P=1,z=0;z<E;z++)I=f.__digit(z)-P,P=1&I>>>30,k.__setDigit(z,1073741823&I);if(P!==0)throw new Error("implementation bug");for(var Y=E;Y<p;Y++)k.__setDigit(Y,0);return k}},{key:"__absoluteAnd",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,I=f.length,k=p.length,P=k;if(I<k){P=I;var z=f,Y=I;f=p,I=k,p=z,k=Y}var J=P;E===null?E=new D(J,!1):J=E.length;for(var W=0;W<P;W++)E.__setDigit(W,f.__digit(W)&p.__digit(W));for(;W<J;W++)E.__setDigit(W,0);return E}},{key:"__absoluteAndNot",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,I=f.length,k=p.length,P=k;I<k&&(P=I);var z=I;E===null?E=new D(z,!1):z=E.length;for(var Y=0;Y<P;Y++)E.__setDigit(Y,f.__digit(Y)&~p.__digit(Y));for(;Y<I;Y++)E.__setDigit(Y,f.__digit(Y));for(;Y<z;Y++)E.__setDigit(Y,0);return E}},{key:"__absoluteOr",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,I=f.length,k=p.length,P=k;if(I<k){P=I;var z=f,Y=I;f=p,I=k,p=z,k=Y}var J=I;E===null?E=new D(J,!1):J=E.length;for(var W=0;W<P;W++)E.__setDigit(W,f.__digit(W)|p.__digit(W));for(;W<I;W++)E.__setDigit(W,f.__digit(W));for(;W<J;W++)E.__setDigit(W,0);return E}},{key:"__absoluteXor",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,I=f.length,k=p.length,P=k;if(I<k){P=I;var z=f,Y=I;f=p,I=k,p=z,k=Y}var J=I;E===null?E=new D(J,!1):J=E.length;for(var W=0;W<P;W++)E.__setDigit(W,f.__digit(W)^p.__digit(W));for(;W<I;W++)E.__setDigit(W,f.__digit(W));for(;W<J;W++)E.__setDigit(W,0);return E}},{key:"__absoluteCompare",value:function(f,p){var E=f.length-p.length;if(E!=0)return E;for(var I=f.length-1;0<=I&&f.__digit(I)===p.__digit(I);)I--;return 0>I?0:f.__unsignedDigit(I)>p.__unsignedDigit(I)?1:-1}},{key:"__multiplyAccumulate",value:function(f,p,E,I){if(p!==0){for(var k=32767&p,P=p>>>15,z=0,Y=0,J=0;J<f.length;J++,I++){var W=E.__digit(I),le=f.__digit(J),De=32767&le,ve=le>>>15,oe=D.__imul(De,k),Ie=D.__imul(De,P),Pe=D.__imul(ve,k),Ne=D.__imul(ve,P);W+=Y+oe+z,z=W>>>30,W&=1073741823,W+=((32767&Ie)<<15)+((32767&Pe)<<15),z+=W>>>30,Y=Ne+(Ie>>>15)+(Pe>>>15),E.__setDigit(I,1073741823&W)}for(;z!==0||Y!==0;I++){var ze=E.__digit(I);ze+=z+Y,Y=0,z=ze>>>30,E.__setDigit(I,1073741823&ze)}}}},{key:"__internalMultiplyAdd",value:function(f,p,E,I,k){for(var P=E,z=0,Y=0;Y<I;Y++){var J=f.__digit(Y),W=D.__imul(32767&J,p),le=D.__imul(J>>>15,p),De=W+((32767&le)<<15)+z+P;P=De>>>30,z=le>>>15,k.__setDigit(Y,1073741823&De)}if(k.length>I)for(k.__setDigit(I++,P+z);I<k.length;)k.__setDigit(I++,0);else if(P+z!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(f,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;E===null&&(E=new D(f.length,!1));for(var I=0,k=2*f.length-1;0<=k;k-=2){var P=(I<<15|f.__halfDigit(k))>>>0,z=0|P/p;I=0|P%p,P=(I<<15|f.__halfDigit(k-1))>>>0;var Y=0|P/p;I=0|P%p,E.__setDigit(k>>>1,z<<15|Y)}return E}},{key:"__absoluteModSmall",value:function(f,p){for(var E,I=0,k=2*f.length-1;0<=k;k--)E=(I<<15|f.__halfDigit(k))>>>0,I=0|E%p;return I}},{key:"__absoluteDivLarge",value:function(f,p,E,I){var k=p.__halfDigitLength(),P=p.length,z=f.__halfDigitLength()-k,Y=null;E&&(Y=new D(z+2>>>1,!1),Y.__initializeDigits());var J=new D(k+2>>>1,!1);J.__initializeDigits();var W=D.__clz15(p.__halfDigit(k-1));0<W&&(p=D.__specialLeftShift(p,W,0));for(var le=D.__specialLeftShift(f,W,1),De=p.__halfDigit(k-1),ve=0,oe=z;0<=oe;oe--){var Ie=32767,Pe=le.__halfDigit(oe+k);if(Pe!==De){var Ne=(Pe<<15|le.__halfDigit(oe+k-1))>>>0;Ie=0|Ne/De;for(var ze=0|Ne%De,He=p.__halfDigit(k-2),Xe=le.__halfDigit(oe+k-2);D.__imul(Ie,He)>>>0>(ze<<16|Xe)>>>0&&(Ie--,ze+=De,!(32767<ze)););}D.__internalMultiplyAdd(p,Ie,0,P,J);var ct=le.__inplaceSub(J,oe,k+1);ct!==0&&(ct=le.__inplaceAdd(p,oe,k),le.__setHalfDigit(oe+k,32767&le.__halfDigit(oe+k)+ct),Ie--),E&&(1&oe?ve=Ie<<15:Y.__setDigit(oe>>>1,ve|Ie))}if(I)return le.__inplaceRightShift(W),E?{quotient:Y,remainder:le}:le;if(E)return Y;throw new Error("unreachable")}},{key:"__clz15",value:function(f){return D.__clz30(f)-15}},{key:"__specialLeftShift",value:function(f,p,E){var I=f.length,k=I+E,P=new D(k,!1);if(p===0){for(var z=0;z<I;z++)P.__setDigit(z,f.__digit(z));return 0<E&&P.__setDigit(I,0),P}for(var Y,J=0,W=0;W<I;W++)Y=f.__digit(W),P.__setDigit(W,1073741823&Y<<p|J),J=Y>>>30-p;return 0<E&&P.__setDigit(I,J),P}},{key:"__leftShiftByAbsolute",value:function(f,p){var E=D.__toShiftAmount(p);if(0>E)throw new RangeError("BigInt too big");var I=0|E/30,k=E%30,P=f.length,z=k!==0&&f.__digit(P-1)>>>30-k!=0,Y=P+I+(z?1:0),J=new D(Y,f.sign);if(k===0){for(var W=0;W<I;W++)J.__setDigit(W,0);for(;W<Y;W++)J.__setDigit(W,f.__digit(W-I))}else{for(var le=0,De=0;De<I;De++)J.__setDigit(De,0);for(var ve,oe=0;oe<P;oe++)ve=f.__digit(oe),J.__setDigit(oe+I,1073741823&ve<<k|le),le=ve>>>30-k;if(z)J.__setDigit(P+I,le);else if(le!==0)throw new Error("implementation bug")}return J.__trim()}},{key:"__rightShiftByAbsolute",value:function(f,p){var E=f.length,I=f.sign,k=D.__toShiftAmount(p);if(0>k)return D.__rightShiftByMaximum(I);var P=0|k/30,z=k%30,Y=E-P;if(0>=Y)return D.__rightShiftByMaximum(I);var J=!1;if(I){var W=(1<<z)-1;if((f.__digit(P)&W)!=0)J=!0;else for(var le=0;le<P;le++)if(f.__digit(le)!==0){J=!0;break}}if(J&&z===0){var De=f.__digit(E-1),ve=~De==0;ve&&Y++}var oe=new D(Y,I);if(z===0){oe.__setDigit(Y-1,0);for(var Ie=P;Ie<E;Ie++)oe.__setDigit(Ie-P,f.__digit(Ie))}else{for(var Pe,Ne=f.__digit(P)>>>z,ze=E-P-1,He=0;He<ze;He++)Pe=f.__digit(He+P+1),oe.__setDigit(He,1073741823&Pe<<30-z|Ne),Ne=Pe>>>z;oe.__setDigit(ze,Ne)}return J&&(oe=D.__absoluteAddOne(oe,!0,oe)),oe.__trim()}},{key:"__rightShiftByMaximum",value:function(f){return f?D.__oneDigit(1,!0):D.__zero()}},{key:"__toShiftAmount",value:function(f){if(1<f.length)return-1;var p=f.__unsignedDigit(0);return p>D.__kMaxLengthBits?-1:p}},{key:"__toPrimitive",value:function(f){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(ge(f)!=="object"||f.constructor===D)return f;if(typeof Symbol<"u"&&ge(Symbol.toPrimitive)==="symbol"&&f[Symbol.toPrimitive]){var E=f[Symbol.toPrimitive](p);if(ge(E)!=="object")return E;throw new TypeError("Cannot convert object to primitive value")}var I=f.valueOf;if(I){var k=I.call(f);if(ge(k)!=="object")return k}var P=f.toString;if(P){var z=P.call(f);if(ge(z)!=="object")return z}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(f){return D.__isBigInt(f)?f:+f}},{key:"__isBigInt",value:function(f){return ge(f)==="object"&&f!==null&&f.constructor===D}},{key:"__truncateToNBits",value:function(f,p){for(var E=0|(f+29)/30,I=new D(E,p.sign),k=E-1,P=0;P<k;P++)I.__setDigit(P,p.__digit(P));var z=p.__digit(k);if(f%30!=0){var Y=32-f%30;z=z<<Y>>>Y}return I.__setDigit(k,z),I.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(f,p,E){for(var I=Math.min,k,P=0|(f+29)/30,z=new D(P,E),Y=0,J=P-1,W=0,le=I(J,p.length);Y<le;Y++)k=0-p.__digit(Y)-W,W=1&k>>>30,z.__setDigit(Y,1073741823&k);for(;Y<J;Y++)z.__setDigit(Y,0|1073741823&-W);var De,ve=J<p.length?p.__digit(J):0,oe=f%30;if(oe===0)De=0-ve-W,De&=1073741823;else{var Ie=32-oe;ve=ve<<Ie>>>Ie;var Pe=1<<32-Ie;De=Pe-ve-W,De&=Pe-1}return z.__setDigit(J,De),z.__trim()}},{key:"__digitPow",value:function(f,p){for(var E=1;0<p;)1&p&&(E*=f),p>>>=1,f*=f;return E}},{key:"__detectBigEndian",value:function(){return D.__kBitConversionDouble[0]=-0,D.__kBitConversionInts[0]!==0}},{key:"__isOneDigitInt",value:function(f){return(1073741823&f)===f}}])})(we(Array));return ye.__kMaxLength=33554432,ye.__kMaxLengthBits=ye.__kMaxLength<<5,ye.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ye.__kBitsPerCharTableShift=5,ye.__kBitsPerCharTableMultiplier=1<<ye.__kBitsPerCharTableShift,ye.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ye.__kBitConversionBuffer=new ArrayBuffer(8),ye.__kBitConversionDouble=new Float64Array(ye.__kBitConversionBuffer),ye.__kBitConversionInts=new Int32Array(ye.__kBitConversionBuffer),ye.__kBitConversionIntHigh=ye.__detectBigEndian()?0:1,ye.__kBitConversionIntLow=ye.__detectBigEndian()?1:0,ye.__clz30=e?function(U){return e(U)-2}:function(U){var V=Math.LN2,H=Math.log;return U===0?30:0|29-(0|H(U>>>0)/V)},ye.__imul=t||function(U,V){return 0|U*V},ye})});var Af=Ps((Qu,Vu)=>{(function(t,e){typeof Qu=="object"&&typeof Vu<"u"?Vu.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Dexie=e())})(Qu,function(){"use strict";var t=function(r,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])},t(r,i)};function e(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(r,i);function u(){this.constructor=r}r.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}var n=function(){return n=Object.assign||function(i){for(var u,d=1,h=arguments.length;d<h;d++){u=arguments[d];for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(i[v]=u[v])}return i},n.apply(this,arguments)};function o(r,i,u){if(u||arguments.length===2)for(var d=0,h=i.length,v;d<h;d++)(v||!(d in i))&&(v||(v=Array.prototype.slice.call(i,0,d)),v[d]=i[d]);return r.concat(v||Array.prototype.slice.call(i))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s=Object.keys,c=Array.isArray;typeof Promise<"u"&&!a.Promise&&(a.Promise=Promise);function l(r,i){return typeof i!="object"||s(i).forEach(function(u){r[u]=i[u]}),r}var y=Object.getPrototypeOf,m={}.hasOwnProperty;function g(r,i){return m.call(r,i)}function b(r,i){typeof i=="function"&&(i=i(y(r))),(typeof Reflect>"u"?s:Reflect.ownKeys)(i).forEach(function(u){T(r,u,i[u])})}var x=Object.defineProperty;function T(r,i,u,d){x(r,i,l(u&&g(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function O(r){return{from:function(i){return r.prototype=Object.create(i.prototype),T(r.prototype,"constructor",r),{extend:b.bind(null,r.prototype)}}}}var A=Object.getOwnPropertyDescriptor;function j(r,i){var u=A(r,i),d;return u||(d=y(r))&&j(d,i)}var Q=[].slice;function ne(r,i,u){return Q.call(r,i,u)}function re(r,i){return i(r)}function ce(r){if(!r)throw new Error("Assertion Failed")}function me(r){a.setImmediate?setImmediate(r):setTimeout(r,0)}function ge(r,i){return r.reduce(function(u,d,h){var v=i(d,h);return v&&(u[v[0]]=v[1]),u},{})}function xe(r,i){if(typeof i=="string"&&g(r,i))return r[i];if(!i)return r;if(typeof i!="string"){for(var u=[],d=0,h=i.length;d<h;++d){var v=xe(r,i[d]);u.push(v)}return u}var w=i.indexOf(".");if(w!==-1){var C=r[i.substr(0,w)];return C==null?void 0:xe(C,i.substr(w+1))}}function we(r,i,u){if(!(!r||i===void 0)&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof i!="string"&&"length"in i){ce(typeof u!="string"&&"length"in u);for(var d=0,h=i.length;d<h;++d)we(r,i[d],u[d])}else{var v=i.indexOf(".");if(v!==-1){var w=i.substr(0,v),C=i.substr(v+1);if(C==="")u===void 0?c(r)&&!isNaN(parseInt(w))?r.splice(w,1):delete r[w]:r[w]=u;else{var S=r[w];(!S||!g(r,w))&&(S=r[w]={}),we(S,C,u)}}else u===void 0?c(r)&&!isNaN(parseInt(i))?r.splice(i,1):delete r[i]:r[i]=u}}function ye(r,i){typeof i=="string"?we(r,i,void 0):"length"in i&&[].map.call(i,function(u){we(r,u,void 0)})}function U(r){var i={};for(var u in r)g(r,u)&&(i[u]=r[u]);return i}var V=[].concat;function H(r){return V.apply([],r)}var fe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(H([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(i){return i+r+"Array"})}))).filter(function(r){return a[r]}),D=new Set(fe.map(function(r){return a[r]}));function B(r){var i={};for(var u in r)if(g(r,u)){var d=r[u];i[u]=!d||typeof d!="object"||D.has(d.constructor)?d:B(d)}return i}function f(r){for(var i in r)if(g(r,i))return!1;return!0}var p=null;function E(r){p=new WeakMap;var i=I(r);return p=null,i}function I(r){if(!r||typeof r!="object")return r;var i=p.get(r);if(i)return i;if(c(r)){i=[],p.set(r,i);for(var u=0,d=r.length;u<d;++u)i.push(I(r[u]))}else if(D.has(r.constructor))i=r;else{var h=y(r);i=h===Object.prototype?{}:Object.create(h),p.set(r,i);for(var v in r)g(r,v)&&(i[v]=I(r[v]))}return i}var k={}.toString;function P(r){return k.call(r).slice(8,-1)}var z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y=typeof z=="symbol"?function(r){var i;return r!=null&&(i=r[z])&&i.apply(r)}:function(){return null};function J(r,i){var u=r.indexOf(i);return u>=0&&r.splice(u,1),u>=0}var W={};function le(r){var i,u,d,h;if(arguments.length===1){if(c(r))return r.slice();if(this===W&&typeof r=="string")return[r];if(h=Y(r)){for(u=[];d=h.next(),!d.done;)u.push(d.value);return u}if(r==null)return[r];if(i=r.length,typeof i=="number"){for(u=new Array(i);i--;)u[i]=r[i];return u}return[r]}for(i=arguments.length,u=new Array(i);i--;)u[i]=arguments[i];return u}var De=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ve=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],oe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ie=ve.concat(oe),Pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ne(r,i){this.name=r,this.message=i}O(Ne).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ze(r,i){return r+". Errors: "+Object.keys(i).map(function(u){return i[u].toString()}).filter(function(u,d,h){return h.indexOf(u)===d}).join(`
`)}function He(r,i,u,d){this.failures=i,this.failedKeys=d,this.successCount=u,this.message=ze(r,i)}O(He).from(Ne);function Xe(r,i){this.name="BulkError",this.failures=Object.keys(i).map(function(u){return i[u]}),this.failuresByPos=i,this.message=ze(r,this.failures)}O(Xe).from(Ne);var ct=Ie.reduce(function(r,i){return r[i]=i+"Error",r},{}),fn=Ne,Ee=Ie.reduce(function(r,i){var u=i+"Error";function d(h,v){this.name=u,h?typeof h=="string"?(this.message="".concat(h).concat(v?`
 `+v:""),this.inner=v||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=Pe[i]||u,this.inner=null)}return O(d).from(fn),r[i]=d,r},{});Ee.Syntax=SyntaxError,Ee.Type=TypeError,Ee.Range=RangeError;var Fr=oe.reduce(function(r,i){return r[i+"Error"]=Ee[i],r},{});function _i(r,i){if(!r||r instanceof Ne||r instanceof TypeError||r instanceof SyntaxError||!r.name||!Fr[r.name])return r;var u=new Fr[r.name](i||r.message,r);return"stack"in r&&T(u,"stack",{get:function(){return this.inner.stack}}),u}var gr=Ie.reduce(function(r,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(r[i+"Error"]=Ee[i]),r},{});gr.ModifyError=He,gr.DexieError=Ne,gr.BulkError=Xe;function qe(){}function bi(r){return r}function bd(r,i){return r==null||r===bi?i:function(u){return i(r(u))}}function vr(r,i){return function(){r.apply(this,arguments),i.apply(this,arguments)}}function wd(r,i){return r===qe?i:function(){var u=r.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var v=i.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?vr(d,this.onsuccess):d),h&&(this.onerror=this.onerror?vr(h,this.onerror):h),v!==void 0?v:u}}function Dd(r,i){return r===qe?i:function(){r.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?vr(u,this.onsuccess):u),d&&(this.onerror=this.onerror?vr(d,this.onerror):d)}}function xd(r,i){return r===qe?i:function(u){var d=r.apply(this,arguments);l(u,d);var h=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var w=i.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?vr(h,this.onsuccess):h),v&&(this.onerror=this.onerror?vr(v,this.onerror):v),d===void 0?w===void 0?void 0:w:l(d,w)}}function Ed(r,i){return r===qe?i:function(){return i.apply(this,arguments)===!1?!1:r.apply(this,arguments)}}function Ga(r,i){return r===qe?i:function(){var u=r.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,h=arguments.length,v=new Array(h);h--;)v[h]=arguments[h];return u.then(function(){return i.apply(d,v)})}return i.apply(this,arguments)}}var vn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function tc(r,i){vn=r}var wi={},nc=100,Qa=typeof Promise>"u"?[]:(function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,y(r),r];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,y(i),r]})(),rc=Qa[0],ic=Qa[1],Cd=Qa[2],Sd=ic&&ic.then,_r=rc&&rc.constructor,Va=!!Cd;function Td(){queueMicrotask(Id)}var Di=function(r,i){xi.push([r,i]),$o&&(Td(),$o=!1)},Xa=!0,$o=!0,br=[],No=[],Ja=bi,qn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qe,pgp:!1,env:{},finalize:qe},Ce=qn,xi=[],wr=0,jo=[];function pe(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=Ce;if(typeof r!="function"){if(r!==wi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ts(this,this._value);return}this._state=null,this._value=null,++i.ref,ac(this,r)}var es={get:function(){var r=Ce,i=zo;function u(d,h){var v=this,w=!r.global&&(r!==Ce||i!==zo),C=w&&!Gn(),S=new pe(function(M,N){ns(v,new oc(cc(d,r,w,C),cc(h,r,w,C),M,N,r))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return u.prototype=wi,u},set:function(r){T(this,"then",r&&r.prototype===wi?es:{get:function(){return r},set:es.set})}};b(pe.prototype,{then:es,_then:function(r,i){ns(this,new oc(null,null,r,i,Ce))},catch:function(r){if(arguments.length===1)return this.then(null,r);var i=arguments[0],u=arguments[1];return typeof i=="function"?this.then(null,function(d){return d instanceof i?u(d):Bo(d)}):this.then(null,function(d){return d&&d.name===i?u(d):Bo(d)})},finally:function(r){return this.then(function(i){return pe.resolve(r()).then(function(){return i})},function(i){return pe.resolve(r()).then(function(){return Bo(i)})})},timeout:function(r,i){var u=this;return r<1/0?new pe(function(d,h){var v=setTimeout(function(){return h(new Ee.Timeout(i))},r);u.then(d,h).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&T(pe.prototype,Symbol.toStringTag,"Dexie.Promise"),qn.env=uc();function oc(r,i,u,d,h){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof i=="function"?i:null,this.resolve=u,this.reject=d,this.psd=h}b(pe,{all:function(){var r=le.apply(null,arguments).map(Fo);return new pe(function(i,u){r.length===0&&i([]);var d=r.length;r.forEach(function(h,v){return pe.resolve(h).then(function(w){r[v]=w,--d||i(r)},u)})})},resolve:function(r){if(r instanceof pe)return r;if(r&&typeof r.then=="function")return new pe(function(u,d){r.then(u,d)});var i=new pe(wi,!0,r);return i},reject:Bo,race:function(){var r=le.apply(null,arguments).map(Fo);return new pe(function(i,u){r.map(function(d){return pe.resolve(d).then(i,u)})})},PSD:{get:function(){return Ce},set:function(r){return Ce=r}},totalEchoes:{get:function(){return zo}},newPSD:Hn,usePSD:Dr,scheduler:{get:function(){return Di},set:function(r){Di=r}},rejectionMapper:{get:function(){return Ja},set:function(r){Ja=r}},follow:function(r,i){return new pe(function(u,d){return Hn(function(h,v){var w=Ce;w.unhandleds=[],w.onunhandled=v,w.finalize=vr(function(){var C=this;Md(function(){C.unhandleds.length===0?h():v(C.unhandleds[0])})},w.finalize),r()},i,u,d)})}}),_r&&(_r.allSettled&&T(pe,"allSettled",function(){var r=le.apply(null,arguments).map(Fo);return new pe(function(i){r.length===0&&i([]);var u=r.length,d=new Array(u);r.forEach(function(h,v){return pe.resolve(h).then(function(w){return d[v]={status:"fulfilled",value:w}},function(w){return d[v]={status:"rejected",reason:w}}).then(function(){return--u||i(d)})})})}),_r.any&&typeof AggregateError<"u"&&T(pe,"any",function(){var r=le.apply(null,arguments).map(Fo);return new pe(function(i,u){r.length===0&&u(new AggregateError([]));var d=r.length,h=new Array(d);r.forEach(function(v,w){return pe.resolve(v).then(function(C){return i(C)},function(C){h[w]=C,--d||u(new AggregateError(h))})})})}),_r.withResolvers&&(pe.withResolvers=_r.withResolvers));function ac(r,i){try{i(function(u){if(r._state===null){if(u===r)throw new TypeError("A promise cannot be resolved with itself.");var d=r._lib&&Kr();u&&typeof u.then=="function"?ac(r,function(h,v){u instanceof pe?u._then(h,v):u.then(h,v)}):(r._state=!0,r._value=u,sc(r)),d&&Ur()}},ts.bind(null,r))}catch(u){ts(r,u)}}function ts(r,i){if(No.push(i),r._state===null){var u=r._lib&&Kr();i=Ja(i),r._state=!1,r._value=i,Od(r),sc(r),u&&Ur()}}function sc(r){var i=r._listeners;r._listeners=[];for(var u=0,d=i.length;u<d;++u)ns(r,i[u]);var h=r._PSD;--h.ref||h.finalize(),wr===0&&(++wr,Di(function(){--wr===0&&rs()},[]))}function ns(r,i){if(r._state===null){r._listeners.push(i);return}var u=r._state?i.onFulfilled:i.onRejected;if(u===null)return(r._state?i.resolve:i.reject)(r._value);++i.psd.ref,++wr,Di(kd,[u,r,i])}function kd(r,i,u){try{var d,h=i._value;!i._state&&No.length&&(No=[]),d=vn&&i._consoleTask?i._consoleTask.run(function(){return r(h)}):r(h),!i._state&&No.indexOf(h)===-1&&Rd(i),u.resolve(d)}catch(v){u.reject(v)}finally{--wr===0&&rs(),--u.psd.ref||u.psd.finalize()}}function Id(){Dr(qn,function(){Kr()&&Ur()})}function Kr(){var r=Xa;return Xa=!1,$o=!1,r}function Ur(){var r,i,u;do for(;xi.length>0;)for(r=xi,xi=[],u=r.length,i=0;i<u;++i){var d=r[i];d[0].apply(null,d[1])}while(xi.length>0);Xa=!0,$o=!0}function rs(){var r=br;br=[],r.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var i=jo.slice(0),u=i.length;u;)i[--u]()}function Md(r){function i(){r(),jo.splice(jo.indexOf(i),1)}jo.push(i),++wr,Di(function(){--wr===0&&rs()},[])}function Od(r){br.some(function(i){return i._value===r._value})||br.push(r)}function Rd(r){for(var i=br.length;i;)if(br[--i]._value===r._value){br.splice(i,1);return}}function Bo(r){return new pe(wi,!1,r)}function Je(r,i){var u=Ce;return function(){var d=Kr(),h=Ce;try{return Qn(u,!0),r.apply(this,arguments)}catch(v){i&&i(v)}finally{Qn(h,!1),d&&Ur()}}}var lt={awaits:0,echoes:0,id:0},Pd=0,Lo=[],Yo=0,zo=0,Ad=0;function Hn(r,i,u,d){var h=Ce,v=Object.create(h);v.parent=h,v.ref=0,v.global=!1,v.id=++Ad,qn.env,v.env=Va?{Promise:pe,PromiseProp:{value:pe,configurable:!0,writable:!0},all:pe.all,race:pe.race,allSettled:pe.allSettled,any:pe.any,resolve:pe.resolve,reject:pe.reject}:{},i&&l(v,i),++h.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()};var w=Dr(v,r,u,d);return v.ref===0&&v.finalize(),w}function Zr(){return lt.id||(lt.id=++Pd),++lt.awaits,lt.echoes+=nc,lt.id}function Gn(){return lt.awaits?(--lt.awaits===0&&(lt.id=0),lt.echoes=lt.awaits*nc,!0):!1}(""+Sd).indexOf("[native code]")===-1&&(Zr=Gn=qe);function Fo(r){return lt.echoes&&r&&r.constructor===_r?(Zr(),r.then(function(i){return Gn(),i},function(i){return Gn(),at(i)})):r}function $d(r){++zo,(!lt.echoes||--lt.echoes===0)&&(lt.echoes=lt.awaits=lt.id=0),Lo.push(Ce),Qn(r,!0)}function Nd(){var r=Lo[Lo.length-1];Lo.pop(),Qn(r,!1)}function Qn(r,i){var u=Ce;if((i?lt.echoes&&(!Yo++||r!==Ce):Yo&&(!--Yo||r!==Ce))&&queueMicrotask(i?$d.bind(null,r):Nd),r!==Ce&&(Ce=r,u===qn&&(qn.env=uc()),Va)){var d=qn.env.Promise,h=r.env;(u.global||r.global)&&(Object.defineProperty(a,"Promise",h.PromiseProp),d.all=h.all,d.race=h.race,d.resolve=h.resolve,d.reject=h.reject,h.allSettled&&(d.allSettled=h.allSettled),h.any&&(d.any=h.any))}}function uc(){var r=a.Promise;return Va?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function Dr(r,i,u,d,h){var v=Ce;try{return Qn(r,!0),i(u,d,h)}finally{Qn(v,!1)}}function cc(r,i,u,d){return typeof r!="function"?r:function(){var h=Ce;u&&Zr(),Qn(i,!0);try{return r.apply(this,arguments)}finally{Qn(h,!1),d&&queueMicrotask(Gn)}}}function is(r){Promise===_r&&lt.echoes===0?Yo===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}var at=pe.reject;function os(r,i,u,d){if(!r.idbdb||!r._state.openComplete&&!Ce.letThrough&&!r._vip){if(r._state.openComplete)return at(new Ee.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._state.autoOpen)return at(new Ee.DatabaseClosed);r.open().catch(qe)}return r._state.dbReadyPromise.then(function(){return os(r,i,u,d)})}else{var h=r._createTransaction(i,u,r._dbSchema);try{h.create(),r._state.PR1398_maxLoop=3}catch(v){return v.name===ct.InvalidState&&r.isOpen()&&--r._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),r.close({disableAutoOpen:!1}),r.open().then(function(){return os(r,i,u,d)})):at(v)}return h._promise(i,function(v,w){return Hn(function(){return Ce.trans=h,d(v,w,h)})}).then(function(v){if(i==="readwrite")try{h.idbtrans.commit()}catch{}return i==="readonly"?v:h._completion.then(function(){return v})})}}var lc="4.2.1",xr="\uFFFF",as=-1/0,On="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fc="String expected.",Wr=[],Ko="__dbnames",ss="readonly",us="readwrite";function Er(r,i){return r?i?function(){return r.apply(this,arguments)&&i.apply(this,arguments)}:r:i}var dc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Uo(r){return typeof r=="string"&&!/\./.test(r)?function(i){return i[r]===void 0&&r in i&&(i=E(i),delete i[r]),i}:function(i){return i}}function hc(){throw Ee.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ye(r,i){try{var u=mc(r),d=mc(i);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return r>i?1:r<i?-1:0;case"binary":return Bd(pc(r),pc(i));case"Array":return jd(r,i)}}catch{}return NaN}function jd(r,i){for(var u=r.length,d=i.length,h=u<d?u:d,v=0;v<h;++v){var w=Ye(r[v],i[v]);if(w!==0)return w}return u===d?0:u<d?-1:1}function Bd(r,i){for(var u=r.length,d=i.length,h=u<d?u:d,v=0;v<h;++v)if(r[v]!==i[v])return r[v]<i[v]?-1:1;return u===d?0:u<d?-1:1}function mc(r){var i=typeof r;if(i!=="object")return i;if(ArrayBuffer.isView(r))return"binary";var u=P(r);return u==="ArrayBuffer"?"binary":u}function pc(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}function Zo(r,i,u){var d=r.schema.yProps;return d?(i&&u.numFailures>0&&(i=i.filter(function(h,v){return!u.failures[v]})),Promise.all(d.map(function(h){var v=h.updatesTable;return i?r.db.table(v).where("k").anyOf(i).delete():r.db.table(v).clear()})).then(function(){return u})):u}var Ei=(function(){function r(i){this["@@propmod"]=i}return r.prototype.execute=function(i){var u,d=this["@@propmod"];if(d.add!==void 0){var h=d.add;if(c(h))return o(o([],c(i)?i:[],!0),h,!0).sort();if(typeof h=="number")return(Number(i)||0)+h;if(typeof h=="bigint")try{return BigInt(i)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(d.remove!==void 0){var v=d.remove;if(c(v))return c(i)?i.filter(function(C){return!v.includes(C)}).sort():[];if(typeof v=="number")return Number(i)-v;if(typeof v=="bigint")try{return BigInt(i)-v}catch{return BigInt(0)-v}throw new TypeError("Invalid subtrahend ".concat(v))}var w=(u=d.replacePrefix)===null||u===void 0?void 0:u[0];return w&&typeof i=="string"&&i.startsWith(w)?d.replacePrefix[1]+i.substring(w.length):i},r})();function yc(r,i){for(var u=s(i),d=u.length,h=!1,v=0;v<d;++v){var w=u[v],C=i[w],S=xe(r,w);C instanceof Ei?(we(r,w,C.execute(S)),h=!0):S!==C&&(we(r,w,C),h=!0)}return h}var gc=(function(){function r(){}return r.prototype._trans=function(i,u,d){var h=this._tx||Ce.trans,v=this.name,w=vn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function C(N,R,q){if(!q.schema[v])throw new Ee.NotFound("Table "+v+" not part of transaction");return u(q.idbtrans,q)}var S=Kr();try{var M=h&&h.db._novip===this.db._novip?h===Ce.trans?h._promise(i,C,d):Hn(function(){return h._promise(i,C,d)},{trans:h,transless:Ce.transless||Ce}):os(this.db,i,[this.name],C);return w&&(M._consoleTask=w,M=M.catch(function(N){return console.trace(N),at(N)})),M}finally{S&&Ur()}},r.prototype.get=function(i,u){var d=this;return i&&i.constructor===Object?this.where(i).first(u):i==null?at(new Ee.Type("Invalid argument to Table.get()")):this._trans("readonly",function(h){return d.core.get({trans:h,key:i}).then(function(v){return d.hook.reading.fire(v)})}).then(u)},r.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(c(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var u=s(i);if(u.length===1)return this.where(u[0]).equals(i[u[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(N){if(N.compound&&u.every(function(q){return N.keyPath.indexOf(q)>=0})){for(var R=0;R<u.length;++R)if(u.indexOf(N.keyPath[R])===-1)return!1;return!0}return!1}).sort(function(N,R){return N.keyPath.length-R.keyPath.length})[0];if(d&&this.db._maxKey!==xr){var h=d.keyPath.slice(0,u.length);return this.where(h).equals(h.map(function(N){return i[N]}))}!d&&vn&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(u.join("+"),"]"));var v=this.schema.idxByName;function w(N,R){return Ye(N,R)===0}var C=u.reduce(function(N,R){var q=N[0],ae=N[1],$=v[R],L=i[R];return[q||$,q||!$?Er(ae,$&&$.multi?function(Z){var G=xe(Z,R);return c(G)&&G.some(function(ee){return w(L,ee)})}:function(Z){return w(L,xe(Z,R))}):ae]},[null,null]),S=C[0],M=C[1];return S?this.where(S.name).equals(i[S.keyPath]).filter(M):d?this.filter(M):this.where(u).equals("")},r.prototype.filter=function(i){return this.toCollection().and(i)},r.prototype.count=function(i){return this.toCollection().count(i)},r.prototype.offset=function(i){return this.toCollection().offset(i)},r.prototype.limit=function(i){return this.toCollection().limit(i)},r.prototype.each=function(i){return this.toCollection().each(i)},r.prototype.toArray=function(i){return this.toCollection().toArray(i)},r.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},r.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,c(i)?"[".concat(i.join("+"),"]"):i))},r.prototype.reverse=function(){return this.toCollection().reverse()},r.prototype.mapToClass=function(i){var u=this,d=u.db,h=u.name;this.schema.mappedClass=i,i.prototype instanceof hc&&(i=(function(S){e(M,S);function M(){return S!==null&&S.apply(this,arguments)||this}return Object.defineProperty(M.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),M.prototype.table=function(){return h},M})(i));for(var v=new Set,w=i.prototype;w;w=y(w))Object.getOwnPropertyNames(w).forEach(function(S){return v.add(S)});var C=function(S){if(!S)return S;var M=Object.create(i.prototype);for(var N in S)if(!v.has(N))try{M[N]=S[N]}catch{}return M};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=C,this.hook("reading",C),i},r.prototype.defineClass=function(){function i(u){l(this,u)}return this.mapToClass(i)},r.prototype.add=function(i,u){var d=this,h=this.schema.primKey,v=h.auto,w=h.keyPath,C=i;return w&&v&&(C=Uo(w)(i)),this._trans("readwrite",function(S){return d.core.mutate({trans:S,type:"add",keys:u!=null?[u]:null,values:[C]})}).then(function(S){return S.numFailures?pe.reject(S.failures[0]):S.lastResult}).then(function(S){if(w)try{we(i,w,S)}catch{}return S})},r.prototype.upsert=function(i,u){var d=this,h=this.schema.primKey.keyPath;return this._trans("readwrite",function(v){return d.core.get({trans:v,key:i}).then(function(w){var C=w??{};return yc(C,u),h&&we(C,h,i),d.core.mutate({trans:v,type:"put",values:[C],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[u]}}).then(function(S){return S.numFailures?pe.reject(S.failures[0]):!!w})})})},r.prototype.update=function(i,u){if(typeof i=="object"&&!c(i)){var d=xe(i,this.schema.primKey.keyPath);return d===void 0?at(new Ee.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(u)}else return this.where(":id").equals(i).modify(u)},r.prototype.put=function(i,u){var d=this,h=this.schema.primKey,v=h.auto,w=h.keyPath,C=i;return w&&v&&(C=Uo(w)(i)),this._trans("readwrite",function(S){return d.core.mutate({trans:S,type:"put",values:[C],keys:u!=null?[u]:null})}).then(function(S){return S.numFailures?pe.reject(S.failures[0]):S.lastResult}).then(function(S){if(w)try{we(i,w,S)}catch{}return S})},r.prototype.delete=function(i){var u=this;return this._trans("readwrite",function(d){return u.core.mutate({trans:d,type:"delete",keys:[i]}).then(function(h){return Zo(u,[i],h)}).then(function(h){return h.numFailures?pe.reject(h.failures[0]):void 0})})},r.prototype.clear=function(){var i=this;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"deleteRange",range:dc}).then(function(d){return Zo(i,null,d)})}).then(function(u){return u.numFailures?pe.reject(u.failures[0]):void 0})},r.prototype.bulkGet=function(i){var u=this;return this._trans("readonly",function(d){return u.core.getMany({keys:i,trans:d}).then(function(h){return h.map(function(v){return u.hook.reading.fire(v)})})})},r.prototype.bulkAdd=function(i,u,d){var h=this,v=Array.isArray(u)?u:void 0;d=d||(v?void 0:u);var w=d?d.allKeys:void 0;return this._trans("readwrite",function(C){var S=h.schema.primKey,M=S.auto,N=S.keyPath;if(N&&v)throw new Ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(v&&v.length!==i.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var R=i.length,q=N&&M?i.map(Uo(N)):i;return h.core.mutate({trans:C,type:"add",keys:v,values:q,wantResults:w}).then(function(ae){var $=ae.numFailures,L=ae.results,Z=ae.lastResult,G=ae.failures,ee=w?L:Z;if($===0)return ee;throw new Xe("".concat(h.name,".bulkAdd(): ").concat($," of ").concat(R," operations failed"),G)})})},r.prototype.bulkPut=function(i,u,d){var h=this,v=Array.isArray(u)?u:void 0;d=d||(v?void 0:u);var w=d?d.allKeys:void 0;return this._trans("readwrite",function(C){var S=h.schema.primKey,M=S.auto,N=S.keyPath;if(N&&v)throw new Ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(v&&v.length!==i.length)throw new Ee.InvalidArgument("Arguments objects and keys must have the same length");var R=i.length,q=N&&M?i.map(Uo(N)):i;return h.core.mutate({trans:C,type:"put",keys:v,values:q,wantResults:w}).then(function(ae){var $=ae.numFailures,L=ae.results,Z=ae.lastResult,G=ae.failures,ee=w?L:Z;if($===0)return ee;throw new Xe("".concat(h.name,".bulkPut(): ").concat($," of ").concat(R," operations failed"),G)})})},r.prototype.bulkUpdate=function(i){var u=this,d=this.core,h=i.map(function(C){return C.key}),v=i.map(function(C){return C.changes}),w=[];return this._trans("readwrite",function(C){return d.getMany({trans:C,keys:h,cache:"clone"}).then(function(S){var M=[],N=[];i.forEach(function(q,ae){var $=q.key,L=q.changes,Z=S[ae];if(Z){for(var G=0,ee=Object.keys(L);G<ee.length;G++){var te=ee[G],ie=L[te];if(te===u.schema.primKey.keyPath){if(Ye(ie,$)!==0)throw new Ee.Constraint("Cannot update primary key in bulkUpdate()")}else we(Z,te,ie)}w.push(ae),M.push($),N.push(Z)}});var R=M.length;return d.mutate({trans:C,type:"put",keys:M,values:N,updates:{keys:h,changeSpecs:v}}).then(function(q){var ae=q.numFailures,$=q.failures;if(ae===0)return R;for(var L=0,Z=Object.keys($);L<Z.length;L++){var G=Z[L],ee=w[Number(G)];if(ee!=null){var te=$[G];delete $[G],$[ee]=te}}throw new Xe("".concat(u.name,".bulkUpdate(): ").concat(ae," of ").concat(R," operations failed"),$)})})})},r.prototype.bulkDelete=function(i){var u=this,d=i.length;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"delete",keys:i}).then(function(v){return Zo(u,i,v)})}).then(function(h){var v=h.numFailures,w=h.lastResult,C=h.failures;if(v===0)return w;throw new Xe("".concat(u.name,".bulkDelete(): ").concat(v," of ").concat(d," operations failed"),C)})},r})();function Ci(r){var i={},u=function(C,S){if(S){for(var M=arguments.length,N=new Array(M-1);--M;)N[M-1]=arguments[M];return i[C].subscribe.apply(null,N),r}else if(typeof C=="string")return i[C]};u.addEventType=v;for(var d=1,h=arguments.length;d<h;++d)v(arguments[d]);return u;function v(C,S,M){if(typeof C=="object")return w(C);S||(S=Ed),M||(M=qe);var N={subscribers:[],fire:M,subscribe:function(R){N.subscribers.indexOf(R)===-1&&(N.subscribers.push(R),N.fire=S(N.fire,R))},unsubscribe:function(R){N.subscribers=N.subscribers.filter(function(q){return q!==R}),N.fire=N.subscribers.reduce(S,M)}};return i[C]=u[C]=N,N}function w(C){s(C).forEach(function(S){var M=C[S];if(c(M))v(S,C[S][0],C[S][1]);else if(M==="asap")var N=v(S,bi,function(){for(var q=arguments.length,ae=new Array(q);q--;)ae[q]=arguments[q];N.subscribers.forEach(function($){me(function(){$.apply(null,ae)})})});else throw new Ee.InvalidArgument("Invalid event config")})}}function Si(r,i){return O(i).from({prototype:r}),i}function Ld(r){return Si(gc.prototype,function(u,d,h){this.db=r,this._tx=h,this.name=u,this.schema=d,this.hook=r._allTables[u]?r._allTables[u].hook:Ci(null,{creating:[wd,qe],reading:[bd,bi],updating:[xd,qe],deleting:[Dd,qe]})})}function qr(r,i){return!(r.filter||r.algorithm||r.or)&&(i?r.justLimit:!r.replayFilter)}function cs(r,i){r.filter=Er(r.filter,i)}function ls(r,i,u){var d=r.replayFilter;r.replayFilter=d?function(){return Er(d(),i())}:i,r.justLimit=u&&!d}function Yd(r,i){r.isMatch=Er(r.isMatch,i)}function Wo(r,i){if(r.isPrimKey)return i.primaryKey;var u=i.getIndexByKeyPath(r.index);if(!u)throw new Ee.Schema("KeyPath "+r.index+" on object store "+i.name+" is not indexed");return u}function vc(r,i,u){var d=Wo(r,i.schema);return i.openCursor({trans:u,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:d,range:r.range}})}function qo(r,i,u,d){var h=r.replayFilter?Er(r.filter,r.replayFilter()):r.filter;if(r.or){var v={},w=function(C,S,M){if(!h||h(S,M,function(q){return S.stop(q)},function(q){return S.fail(q)})){var N=S.primaryKey,R=""+N;R==="[object ArrayBuffer]"&&(R=""+new Uint8Array(N)),g(v,R)||(v[R]=!0,i(C,S,M))}};return Promise.all([r.or._iterate(w,u),_c(vc(r,d,u),r.algorithm,w,!r.keysOnly&&r.valueMapper)])}else return _c(vc(r,d,u),Er(r.algorithm,h),i,!r.keysOnly&&r.valueMapper)}function _c(r,i,u,d){var h=d?function(w,C,S){return u(d(w),C,S)}:u,v=Je(h);return r.then(function(w){if(w)return w.start(function(){var C=function(){return w.continue()};(!i||i(w,function(S){return C=S},function(S){w.stop(S),C=qe},function(S){w.fail(S),C=qe}))&&v(w.value,w,function(S){return C=S}),C()})})}var zd=(function(){function r(){}return r.prototype._read=function(i,u){var d=this._ctx;return d.error?d.table._trans(null,at.bind(null,d.error)):d.table._trans("readonly",i).then(u)},r.prototype._write=function(i){var u=this._ctx;return u.error?u.table._trans(null,at.bind(null,u.error)):u.table._trans("readwrite",i,"locked")},r.prototype._addAlgorithm=function(i){var u=this._ctx;u.algorithm=Er(u.algorithm,i)},r.prototype._iterate=function(i,u){return qo(this._ctx,i,u,this._ctx.table.core)},r.prototype.clone=function(i){var u=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return i&&l(d,i),u._ctx=d,u},r.prototype.raw=function(){return this._ctx.valueMapper=null,this},r.prototype.each=function(i){var u=this._ctx;return this._read(function(d){return qo(u,i,d,u.table.core)})},r.prototype.count=function(i){var u=this;return this._read(function(d){var h=u._ctx,v=h.table.core;if(qr(h,!0))return v.count({trans:d,query:{index:Wo(h,v.schema),range:h.range}}).then(function(C){return Math.min(C,h.limit)});var w=0;return qo(h,function(){return++w,!1},d,v).then(function(){return w})}).then(i)},r.prototype.sortBy=function(i,u){var d=i.split(".").reverse(),h=d[0],v=d.length-1;function w(M,N){return N?w(M[d[N]],N-1):M[h]}var C=this._ctx.dir==="next"?1:-1;function S(M,N){var R=w(M,v),q=w(N,v);return Ye(R,q)*C}return this.toArray(function(M){return M.sort(S)}).then(u)},r.prototype.toArray=function(i){var u=this;return this._read(function(d){var h=u._ctx;if(h.dir==="next"&&qr(h,!0)&&h.limit>0){var v=h.valueMapper,w=Wo(h,h.table.core.schema);return h.table.core.query({trans:d,limit:h.limit,values:!0,query:{index:w,range:h.range}}).then(function(S){var M=S.result;return v?M.map(v):M})}else{var C=[];return qo(h,function(S){return C.push(S)},d,h.table.core).then(function(){return C})}},i)},r.prototype.offset=function(i){var u=this._ctx;return i<=0?this:(u.offset+=i,qr(u)?ls(u,function(){var d=i;return function(h,v){return d===0?!0:d===1?(--d,!1):(v(function(){h.advance(d),d=0}),!1)}}):ls(u,function(){var d=i;return function(){return--d<0}}),this)},r.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),ls(this._ctx,function(){var u=i;return function(d,h,v){return--u<=0&&h(v),u>=0}},!0),this},r.prototype.until=function(i,u){return cs(this._ctx,function(d,h,v){return i(d.value)?(h(v),u):!0}),this},r.prototype.first=function(i){return this.limit(1).toArray(function(u){return u[0]}).then(i)},r.prototype.last=function(i){return this.reverse().first(i)},r.prototype.filter=function(i){return cs(this._ctx,function(u){return i(u.value)}),Yd(this._ctx,i),this},r.prototype.and=function(i){return this.filter(i)},r.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},r.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},r.prototype.desc=function(){return this.reverse()},r.prototype.eachKey=function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(d,h){i(h.key,h)})},r.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},r.prototype.eachPrimaryKey=function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(d,h){i(h.primaryKey,h)})},r.prototype.keys=function(i){var u=this._ctx;u.keysOnly=!u.isMatch;var d=[];return this.each(function(h,v){d.push(v.key)}).then(function(){return d}).then(i)},r.prototype.primaryKeys=function(i){var u=this._ctx;if(u.dir==="next"&&qr(u,!0)&&u.limit>0)return this._read(function(h){var v=Wo(u,u.table.core.schema);return u.table.core.query({trans:h,values:!1,limit:u.limit,query:{index:v,range:u.range}})}).then(function(h){var v=h.result;return v}).then(i);u.keysOnly=!u.isMatch;var d=[];return this.each(function(h,v){d.push(v.primaryKey)}).then(function(){return d}).then(i)},r.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},r.prototype.firstKey=function(i){return this.limit(1).keys(function(u){return u[0]}).then(i)},r.prototype.lastKey=function(i){return this.reverse().firstKey(i)},r.prototype.distinct=function(){var i=this._ctx,u=i.index&&i.table.schema.idxByName[i.index];if(!u||!u.multi)return this;var d={};return cs(this._ctx,function(h){var v=h.primaryKey.toString(),w=g(d,v);return d[v]=!0,!w}),this},r.prototype.modify=function(i){var u=this,d=this._ctx;return this._write(function(h){var v;typeof i=="function"?v=i:v=function(G){return yc(G,i)};var w=d.table.core,C=w.schema.primaryKey,S=C.outbound,M=C.extractKey,N=200,R=u.db._options.modifyChunkSize;R&&(typeof R=="object"?N=R[w.name]||R["*"]||200:N=R);var q=[],ae=0,$=[],L=function(G,ee){var te=ee.failures,ie=ee.numFailures;ae+=G-ie;for(var X=0,de=s(te);X<de.length;X++){var _e=de[X];q.push(te[_e])}},Z=i===bc;return u.clone().primaryKeys().then(function(G){var ee=qr(d)&&d.limit===1/0&&(typeof i!="function"||Z)&&{index:d.index,range:d.range},te=function(ie){var X=Math.min(N,G.length-ie),de=G.slice(ie,ie+X);return(Z?Promise.resolve([]):w.getMany({trans:h,keys:de,cache:"immutable"})).then(function(_e){var he=[],ke=[],je=S?[]:null,be=Z?de:[];if(!Z)for(var $e=0;$e<X;++$e){var Me=_e[$e],Fe={value:E(Me),primKey:G[ie+$e]};v.call(Fe,Fe.value,Fe)!==!1&&(Fe.value==null?be.push(G[ie+$e]):!S&&Ye(M(Me),M(Fe.value))!==0?(be.push(G[ie+$e]),he.push(Fe.value)):(ke.push(Fe.value),S&&je.push(G[ie+$e])))}return Promise.resolve(he.length>0&&w.mutate({trans:h,type:"add",values:he}).then(function(Te){for(var it in Te.failures)be.splice(parseInt(it),1);L(he.length,Te)})).then(function(){return(ke.length>0||ee&&typeof i=="object")&&w.mutate({trans:h,type:"put",keys:je,values:ke,criteria:ee,changeSpec:typeof i!="function"&&i,isAdditionalChunk:ie>0}).then(function(Te){return L(ke.length,Te)})}).then(function(){return(be.length>0||ee&&Z)&&w.mutate({trans:h,type:"delete",keys:be,criteria:ee,isAdditionalChunk:ie>0}).then(function(Te){return Zo(d.table,be,Te)}).then(function(Te){return L(be.length,Te)})}).then(function(){return G.length>ie+X&&te(ie+N)})})};return te(0).then(function(){if(q.length>0)throw new He("Error modifying one or more objects",q,ae,$);return G.length})})})},r.prototype.delete=function(){var i=this._ctx,u=i.range;return qr(i)&&!i.table.schema.yProps&&(i.isPrimKey||u.type===3)?this._write(function(d){var h=i.table.core.schema.primaryKey,v=u;return i.table.core.count({trans:d,query:{index:h,range:v}}).then(function(w){return i.table.core.mutate({trans:d,type:"deleteRange",range:v}).then(function(C){var S=C.failures,M=C.numFailures;if(M)throw new He("Could not delete some values",Object.keys(S).map(function(N){return S[N]}),w-M);return w-M})})}):this.modify(bc)},r})(),bc=function(r,i){return i.value=null};function Fd(r){return Si(zd.prototype,function(u,d){this.db=r;var h=dc,v=null;if(d)try{h=d()}catch(M){v=M}var w=u._ctx,C=w.table,S=C.hook.reading.fire;this._ctx={table:C,index:w.index,isPrimKey:!w.index||C.schema.primKey.keyPath&&w.index===C.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:v,or:w.or,valueMapper:S!==bi?S:null}})}function Kd(r,i){return r<i?-1:r===i?0:1}function Ud(r,i){return r>i?-1:r===i?0:1}function Wt(r,i,u){var d=r instanceof Dc?new r.Collection(r):r;return d._ctx.error=u?new u(i):new TypeError(i),d}function Hr(r){return new r.Collection(r,function(){return wc("")}).limit(0)}function Zd(r){return r==="next"?function(i){return i.toUpperCase()}:function(i){return i.toLowerCase()}}function Wd(r){return r==="next"?function(i){return i.toLowerCase()}:function(i){return i.toUpperCase()}}function qd(r,i,u,d,h,v){for(var w=Math.min(r.length,d.length),C=-1,S=0;S<w;++S){var M=i[S];if(M!==d[S])return h(r[S],u[S])<0?r.substr(0,S)+u[S]+u.substr(S+1):h(r[S],d[S])<0?r.substr(0,S)+d[S]+u.substr(S+1):C>=0?r.substr(0,C)+i[C]+u.substr(C+1):null;h(r[S],M)<0&&(C=S)}return w<d.length&&v==="next"?r+u.substr(r.length):w<r.length&&v==="prev"?r.substr(0,u.length):C<0?null:r.substr(0,C)+d[C]+u.substr(C+1)}function Ho(r,i,u,d){var h,v,w,C,S,M,N,R=u.length;if(!u.every(function(L){return typeof L=="string"}))return Wt(r,fc);function q(L){h=Zd(L),v=Wd(L),w=L==="next"?Kd:Ud;var Z=u.map(function(G){return{lower:v(G),upper:h(G)}}).sort(function(G,ee){return w(G.lower,ee.lower)});C=Z.map(function(G){return G.upper}),S=Z.map(function(G){return G.lower}),M=L,N=L==="next"?"":d}q("next");var ae=new r.Collection(r,function(){return Vn(C[0],S[R-1]+d)});ae._ondirectionchange=function(L){q(L)};var $=0;return ae._addAlgorithm(function(L,Z,G){var ee=L.key;if(typeof ee!="string")return!1;var te=v(ee);if(i(te,S,$))return!0;for(var ie=null,X=$;X<R;++X){var de=qd(ee,te,C[X],S[X],w,M);de===null&&ie===null?$=X+1:(ie===null||w(ie,de)>0)&&(ie=de)}return Z(ie!==null?function(){L.continue(ie+N)}:G),!1}),ae}function Vn(r,i,u,d){return{type:2,lower:r,upper:i,lowerOpen:u,upperOpen:d}}function wc(r){return{type:1,lower:r,upper:r}}var Dc=(function(){function r(){}return Object.defineProperty(r.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),r.prototype.between=function(i,u,d,h){d=d!==!1,h=h===!0;try{return this._cmp(i,u)>0||this._cmp(i,u)===0&&(d||h)&&!(d&&h)?Hr(this):new this.Collection(this,function(){return Vn(i,u,!d,!h)})}catch{return Wt(this,On)}},r.prototype.equals=function(i){return i==null?Wt(this,On):new this.Collection(this,function(){return wc(i)})},r.prototype.above=function(i){return i==null?Wt(this,On):new this.Collection(this,function(){return Vn(i,void 0,!0)})},r.prototype.aboveOrEqual=function(i){return i==null?Wt(this,On):new this.Collection(this,function(){return Vn(i,void 0,!1)})},r.prototype.below=function(i){return i==null?Wt(this,On):new this.Collection(this,function(){return Vn(void 0,i,!1,!0)})},r.prototype.belowOrEqual=function(i){return i==null?Wt(this,On):new this.Collection(this,function(){return Vn(void 0,i)})},r.prototype.startsWith=function(i){return typeof i!="string"?Wt(this,fc):this.between(i,i+xr,!0,!0)},r.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):Ho(this,function(u,d){return u.indexOf(d[0])===0},[i],xr)},r.prototype.equalsIgnoreCase=function(i){return Ho(this,function(u,d){return u===d[0]},[i],"")},r.prototype.anyOfIgnoreCase=function(){var i=le.apply(W,arguments);return i.length===0?Hr(this):Ho(this,function(u,d){return d.indexOf(u)!==-1},i,"")},r.prototype.startsWithAnyOfIgnoreCase=function(){var i=le.apply(W,arguments);return i.length===0?Hr(this):Ho(this,function(u,d){return d.some(function(h){return u.indexOf(h)===0})},i,xr)},r.prototype.anyOf=function(){var i=this,u=le.apply(W,arguments),d=this._cmp;try{u.sort(d)}catch{return Wt(this,On)}if(u.length===0)return Hr(this);var h=new this.Collection(this,function(){return Vn(u[0],u[u.length-1])});h._ondirectionchange=function(w){d=w==="next"?i._ascending:i._descending,u.sort(d)};var v=0;return h._addAlgorithm(function(w,C,S){for(var M=w.key;d(M,u[v])>0;)if(++v,v===u.length)return C(S),!1;return d(M,u[v])===0?!0:(C(function(){w.continue(u[v])}),!1)}),h},r.prototype.notEqual=function(i){return this.inAnyRange([[as,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},r.prototype.noneOf=function(){var i=le.apply(W,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return Wt(this,On)}var u=i.reduce(function(d,h){return d?d.concat([[d[d.length-1][1],h]]):[[as,h]]},null);return u.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(u,{includeLowers:!1,includeUppers:!1})},r.prototype.inAnyRange=function(i,u){var d=this,h=this._cmp,v=this._ascending,w=this._descending,C=this._min,S=this._max;if(i.length===0)return Hr(this);if(!i.every(function(X){return X[0]!==void 0&&X[1]!==void 0&&v(X[0],X[1])<=0}))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ee.InvalidArgument);var M=!u||u.includeLowers!==!1,N=u&&u.includeUppers===!0;function R(X,de){for(var _e=0,he=X.length;_e<he;++_e){var ke=X[_e];if(h(de[0],ke[1])<0&&h(de[1],ke[0])>0){ke[0]=C(ke[0],de[0]),ke[1]=S(ke[1],de[1]);break}}return _e===he&&X.push(de),X}var q=v;function ae(X,de){return q(X[0],de[0])}var $;try{$=i.reduce(R,[]),$.sort(ae)}catch{return Wt(this,On)}var L=0,Z=N?function(X){return v(X,$[L][1])>0}:function(X){return v(X,$[L][1])>=0},G=M?function(X){return w(X,$[L][0])>0}:function(X){return w(X,$[L][0])>=0};function ee(X){return!Z(X)&&!G(X)}var te=Z,ie=new this.Collection(this,function(){return Vn($[0][0],$[$.length-1][1],!M,!N)});return ie._ondirectionchange=function(X){X==="next"?(te=Z,q=v):(te=G,q=w),$.sort(ae)},ie._addAlgorithm(function(X,de,_e){for(var he=X.key;te(he);)if(++L,L===$.length)return de(_e),!1;return ee(he)?!0:(d._cmp(he,$[L][1])===0||d._cmp(he,$[L][0])===0||de(function(){q===v?X.continue($[L][0]):X.continue($[L][1])}),!1)}),ie},r.prototype.startsWithAnyOf=function(){var i=le.apply(W,arguments);return i.every(function(u){return typeof u=="string"})?i.length===0?Hr(this):this.inAnyRange(i.map(function(u){return[u,u+xr]})):Wt(this,"startsWithAnyOf() only works with strings")},r})();function Hd(r){return Si(Dc.prototype,function(u,d,h){if(this.db=r,this._ctx={table:u,index:d===":id"?null:d,or:h},this._cmp=this._ascending=Ye,this._descending=function(v,w){return Ye(w,v)},this._max=function(v,w){return Ye(v,w)>0?v:w},this._min=function(v,w){return Ye(v,w)<0?v:w},this._IDBKeyRange=r._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ee.MissingAPI})}function _n(r){return Je(function(i){return Ti(i),r(i.target.error),!1})}function Ti(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var ki="storagemutated",fs="x-storagemutated-1",Xn=Ci(null,ki),Gd=(function(){function r(){}return r.prototype._lock=function(){return ce(!Ce.global),++this._reculock,this._reculock===1&&!Ce.global&&(Ce.lockOwnerFor=this),this},r.prototype._unlock=function(){if(ce(!Ce.global),--this._reculock===0)for(Ce.global||(Ce.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var i=this._blockedFuncs.shift();try{Dr(i[1],i[0])}catch{}}return this},r.prototype._locked=function(){return this._reculock&&Ce.lockOwnerFor!==this},r.prototype.create=function(i){var u=this;if(!this.mode)return this;var d=this.db.idbdb,h=this.db._state.dbOpenError;if(ce(!this.idbtrans),!i&&!d)switch(h&&h.name){case"DatabaseClosedError":throw new Ee.DatabaseClosed(h);case"MissingAPIError":throw new Ee.MissingAPI(h.message,h);default:throw new Ee.OpenFailed(h)}if(!this.active)throw new Ee.TransactionInactive;return ce(this._completion._state===null),i=this.idbtrans=i||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):d.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),i.onerror=Je(function(v){Ti(v),u._reject(i.error)}),i.onabort=Je(function(v){Ti(v),u.active&&u._reject(new Ee.Abort(i.error)),u.active=!1,u.on("abort").fire(v)}),i.oncomplete=Je(function(){u.active=!1,u._resolve(),"mutatedParts"in i&&Xn.storagemutated.fire(i.mutatedParts)}),this},r.prototype._promise=function(i,u,d){var h=this;if(i==="readwrite"&&this.mode!=="readwrite")return at(new Ee.ReadOnly("Transaction is readonly"));if(!this.active)return at(new Ee.TransactionInactive);if(this._locked())return new pe(function(w,C){h._blockedFuncs.push([function(){h._promise(i,u,d).then(w,C)},Ce])});if(d)return Hn(function(){var w=new pe(function(C,S){h._lock();var M=u(C,S,h);M&&M.then&&M.then(C,S)});return w.finally(function(){return h._unlock()}),w._lib=!0,w});var v=new pe(function(w,C){var S=u(w,C,h);S&&S.then&&S.then(w,C)});return v._lib=!0,v},r.prototype._root=function(){return this.parent?this.parent._root():this},r.prototype.waitFor=function(i){var u=this._root(),d=pe.resolve(i);if(u._waitingFor)u._waitingFor=u._waitingFor.then(function(){return d});else{u._waitingFor=d,u._waitingQueue=[];var h=u.idbtrans.objectStore(u.storeNames[0]);(function w(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(h.get(-1/0).onsuccess=w)})()}var v=u._waitingFor;return new pe(function(w,C){d.then(function(S){return u._waitingQueue.push(Je(w.bind(null,S)))},function(S){return u._waitingQueue.push(Je(C.bind(null,S)))}).finally(function(){u._waitingFor===v&&(u._waitingFor=null)})})},r.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ee.Abort))},r.prototype.table=function(i){var u=this._memoizedTables||(this._memoizedTables={});if(g(u,i))return u[i];var d=this.schema[i];if(!d)throw new Ee.NotFound("Table "+i+" not part of transaction");var h=new this.db.Table(i,d,this);return h.core=this.db.core.table(i),u[i]=h,h},r})();function Qd(r){return Si(Gd.prototype,function(u,d,h,v,w){var C=this;u!=="readonly"&&d.forEach(function(S){var M,N=(M=h[S])===null||M===void 0?void 0:M.yProps;N&&(d=d.concat(N.map(function(R){return R.updatesTable})))}),this.db=r,this.mode=u,this.storeNames=d,this.schema=h,this.chromeTransactionDurability=v,this.idbtrans=null,this.on=Ci(this,"complete","error","abort"),this.parent=w||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new pe(function(S,M){C._resolve=S,C._reject=M}),this._completion.then(function(){C.active=!1,C.on.complete.fire()},function(S){var M=C.active;return C.active=!1,C.on.error.fire(S),C.parent?C.parent._reject(S):M&&C.idbtrans&&C.idbtrans.abort(),at(S)})})}function ds(r,i,u,d,h,v,w,C){return{name:r,keyPath:i,unique:u,multi:d,auto:h,compound:v,src:(u&&!w?"&":"")+(d?"*":"")+(h?"++":"")+xc(i),type:C}}function xc(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function hs(r,i,u){return{name:r,primKey:i,indexes:u,mappedClass:null,idxByName:ge(u,function(d){return[d.name,d]})}}function Vd(r){return r.length===1?r[0]:r}var Ii=function(r){try{return r.only([[]]),Ii=function(){return[[]]},[[]]}catch{return Ii=function(){return xr},xr}};function ms(r){return r==null?function(){}:typeof r=="string"?Xd(r):function(i){return xe(i,r)}}function Xd(r){var i=r.split(".");return i.length===1?function(u){return u[r]}:function(u){return xe(u,r)}}function Ec(r){return[].slice.call(r)}var Jd=0;function Mi(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function eh(r,i,u){function d(R,q){var ae=Ec(R.objectStoreNames);return{schema:{name:R.name,tables:ae.map(function($){return q.objectStore($)}).map(function($){var L=$.keyPath,Z=$.autoIncrement,G=c(L),ee=L==null,te={},ie={name:$.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ee,compound:G,keyPath:L,autoIncrement:Z,unique:!0,extractKey:ms(L)},indexes:Ec($.indexNames).map(function(X){return $.index(X)}).map(function(X){var de=X.name,_e=X.unique,he=X.multiEntry,ke=X.keyPath,je=c(ke),be={name:de,compound:je,keyPath:ke,unique:_e,multiEntry:he,extractKey:ms(ke)};return te[Mi(ke)]=be,be}),getIndexByKeyPath:function(X){return te[Mi(X)]}};return te[":id"]=ie.primaryKey,L!=null&&(te[Mi(L)]=ie.primaryKey),ie})},hasGetAll:ae.length>0&&"getAll"in q.objectStore(ae[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function h(R){if(R.type===3)return null;if(R.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=R.lower,ae=R.upper,$=R.lowerOpen,L=R.upperOpen,Z=q===void 0?ae===void 0?null:i.upperBound(ae,!!L):ae===void 0?i.lowerBound(q,!!$):i.bound(q,ae,!!$,!!L);return Z}function v(R){var q=R.name;function ae(Z){var G=Z.trans,ee=Z.type,te=Z.keys,ie=Z.values,X=Z.range;return new Promise(function(de,_e){de=Je(de);var he=G.objectStore(q),ke=he.keyPath==null,je=ee==="put"||ee==="add";if(!je&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var be=(te||ie||{length:1}).length;if(te&&ie&&te.length!==ie.length)throw new Error("Given keys array must have same length as given values array.");if(be===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});var $e,Me=[],Fe=[],Te=0,it=function(wn){++Te,Ti(wn)};if(ee==="deleteRange"){if(X.type===4)return de({numFailures:Te,failures:Fe,results:[],lastResult:void 0});X.type===3?Me.push($e=he.clear()):Me.push($e=he.delete(h(X)))}else{var gt=je?ke?[ie,te]:[ie,null]:[te,null],bn=gt[0],Lt=gt[1];if(je)for(var tn=0;tn<be;++tn)Me.push($e=Lt&&Lt[tn]!==void 0?he[ee](bn[tn],Lt[tn]):he[ee](bn[tn])),$e.onerror=it;else for(var tn=0;tn<be;++tn)Me.push($e=he[ee](bn[tn])),$e.onerror=it}var tr=function(wn){var Pi=wn.target.result;Me.forEach(function(dn,aa){return dn.error!=null&&(Fe[aa]=dn.error)}),de({numFailures:Te,failures:Fe,results:ee==="delete"?te:Me.map(function(dn){return dn.result}),lastResult:Pi})};$e.onerror=function(wn){it(wn),tr(wn)},$e.onsuccess=tr})}function $(Z){var G=Z.trans,ee=Z.values,te=Z.query,ie=Z.reverse,X=Z.unique;return new Promise(function(de,_e){de=Je(de);var he=te.index,ke=te.range,je=G.objectStore(q),be=he.isPrimaryKey?je:je.index(he.name),$e=ie?X?"prevunique":"prev":X?"nextunique":"next",Me=ee||!("openKeyCursor"in be)?be.openCursor(h(ke),$e):be.openKeyCursor(h(ke),$e);Me.onerror=_n(_e),Me.onsuccess=Je(function(Fe){var Te=Me.result;if(!Te){de(null);return}Te.___id=++Jd,Te.done=!1;var it=Te.continue.bind(Te),gt=Te.continuePrimaryKey;gt&&(gt=gt.bind(Te));var bn=Te.advance.bind(Te),Lt=function(){throw new Error("Cursor not started")},tn=function(){throw new Error("Cursor not stopped")};Te.trans=G,Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=Lt,Te.fail=Je(_e),Te.next=function(){var tr=this,wn=1;return this.start(function(){return wn--?tr.continue():tr.stop()}).then(function(){return tr})},Te.start=function(tr){var wn=new Promise(function(dn,aa){dn=Je(dn),Me.onerror=_n(aa),Te.fail=aa,Te.stop=function(zh){Te.stop=Te.continue=Te.continuePrimaryKey=Te.advance=tn,dn(zh)}}),Pi=function(){if(Me.result)try{tr()}catch(dn){Te.fail(dn)}else Te.done=!0,Te.start=function(){throw new Error("Cursor behind last entry")},Te.stop()};return Me.onsuccess=Je(function(dn){Me.onsuccess=Pi,Pi()}),Te.continue=it,Te.continuePrimaryKey=gt,Te.advance=bn,Pi(),wn},de(Te)},_e)})}function L(Z){return function(G){return new Promise(function(ee,te){ee=Je(ee);var ie=G.trans,X=G.values,de=G.limit,_e=G.query,he=de===1/0?void 0:de,ke=_e.index,je=_e.range,be=ie.objectStore(q),$e=ke.isPrimaryKey?be:be.index(ke.name),Me=h(je);if(de===0)return ee({result:[]});if(Z){var Fe=X?$e.getAll(Me,he):$e.getAllKeys(Me,he);Fe.onsuccess=function(bn){return ee({result:bn.target.result})},Fe.onerror=_n(te)}else{var Te=0,it=X||!("openKeyCursor"in $e)?$e.openCursor(Me):$e.openKeyCursor(Me),gt=[];it.onsuccess=function(bn){var Lt=it.result;if(!Lt)return ee({result:gt});if(gt.push(X?Lt.value:Lt.primaryKey),++Te===de)return ee({result:gt});Lt.continue()},it.onerror=_n(te)}})}}return{name:q,schema:R,mutate:ae,getMany:function(Z){var G=Z.trans,ee=Z.keys;return new Promise(function(te,ie){te=Je(te);for(var X=G.objectStore(q),de=ee.length,_e=new Array(de),he=0,ke=0,je,be=function(Te){var it=Te.target;(_e[it._pos]=it.result)!=null,++ke===he&&te(_e)},$e=_n(ie),Me=0;Me<de;++Me){var Fe=ee[Me];Fe!=null&&(je=X.get(ee[Me]),je._pos=Me,je.onsuccess=be,je.onerror=$e,++he)}he===0&&te(_e)})},get:function(Z){var G=Z.trans,ee=Z.key;return new Promise(function(te,ie){te=Je(te);var X=G.objectStore(q),de=X.get(ee);de.onsuccess=function(_e){return te(_e.target.result)},de.onerror=_n(ie)})},query:L(S),openCursor:$,count:function(Z){var G=Z.query,ee=Z.trans,te=G.index,ie=G.range;return new Promise(function(X,de){var _e=ee.objectStore(q),he=te.isPrimaryKey?_e:_e.index(te.name),ke=h(ie),je=ke?he.count(ke):he.count();je.onsuccess=Je(function(be){return X(be.target.result)}),je.onerror=_n(de)})}}}var w=d(r,u),C=w.schema,S=w.hasGetAll,M=C.tables.map(function(R){return v(R)}),N={};return M.forEach(function(R){return N[R.name]=R}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(R){var q=N[R];if(!q)throw new Error("Table '".concat(R,"' not found"));return N[R]},MIN_KEY:-1/0,MAX_KEY:Ii(i),schema:C}}function th(r,i){return i.reduce(function(u,d){var h=d.create;return n(n({},u),h(u))},r)}function nh(r,i,u,d){var h=u.IDBKeyRange;u.indexedDB;var v=th(eh(i,h,d),r.dbcore);return{dbcore:v}}function Go(r,i){var u=i.db,d=nh(r._middlewares,u,r._deps,i);r.core=d.dbcore,r.tables.forEach(function(h){var v=h.name;r.core.schema.tables.some(function(w){return w.name===v})&&(h.core=r.core.table(v),r[v]instanceof r.Table&&(r[v].core=h.core))})}function Qo(r,i,u,d){u.forEach(function(h){var v=d[h];i.forEach(function(w){var C=j(w,h);(!C||"value"in C&&C.value===void 0)&&(w===r.Transaction.prototype||w instanceof r.Transaction?T(w,h,{get:function(){return this.table(h)},set:function(S){x(this,h,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):w[h]=new r.Table(h,v))})})}function ps(r,i){i.forEach(function(u){for(var d in u)u[d]instanceof r.Table&&delete u[d]})}function rh(r,i){return r._cfg.version-i._cfg.version}function ih(r,i,u,d){var h=r._dbSchema;u.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=hs("$meta",Sc("")[0],[]),r._storeNames.push("$meta"));var v=r._createTransaction("readwrite",r._storeNames,h);v.create(u),v._completion.catch(d);var w=v._reject.bind(v),C=Ce.transless||Ce;Hn(function(){if(Ce.trans=v,Ce.transless=C,i===0)s(h).forEach(function(S){gs(u,S,h[S].primKey,h[S].indexes)}),Go(r,u),pe.follow(function(){return r.on.populate.fire(v)}).catch(w);else return Go(r,u),ah(r,v,i).then(function(S){return sh(r,S,v,u)}).catch(w)})}function oh(r,i){Cc(r._dbSchema,i),i.db.version%10===0&&!i.objectStoreNames.contains("$meta")&&i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var u=Xo(r,r.idbdb,i);Jo(r,r._dbSchema,i);for(var d=ys(u,r._dbSchema),h=function(M){if(M.change.length||M.recreate)return console.warn("Unable to patch indexes of table ".concat(M.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=i.objectStore(M.name);M.add.forEach(function(R){vn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(M.name,".").concat(R.src)),Vo(N,R)})},v=0,w=d.change;v<w.length;v++){var C=w[v],S=h(C);if(typeof S=="object")return S.value}}function ah(r,i,u){return i.storeNames.includes("$meta")?i.table("$meta").get("version").then(function(d){return d??u}):pe.resolve(u)}function sh(r,i,u,d){var h=[],v=r._versions,w=r._dbSchema=Xo(r,r.idbdb,d),C=v.filter(function(M){return M._cfg.version>=i});if(C.length===0)return pe.resolve();C.forEach(function(M){h.push(function(){var N=w,R=M._cfg.dbschema;Jo(r,N,d),Jo(r,R,d),w=r._dbSchema=R;var q=ys(N,R);q.add.forEach(function(ee){gs(d,ee[0],ee[1].primKey,ee[1].indexes)}),q.change.forEach(function(ee){if(ee.recreate)throw new Ee.Upgrade("Not yet support for changing primary key");var te=d.objectStore(ee.name);ee.add.forEach(function(ie){return Vo(te,ie)}),ee.change.forEach(function(ie){te.deleteIndex(ie.name),Vo(te,ie)}),ee.del.forEach(function(ie){return te.deleteIndex(ie)})});var ae=M._cfg.contentUpgrade;if(ae&&M._cfg.version>i){Go(r,d),u._memoizedTables={};var $=U(R);q.del.forEach(function(ee){$[ee]=N[ee]}),ps(r,[r.Transaction.prototype]),Qo(r,[r.Transaction.prototype],s($),$),u.schema=$;var L=De(ae);L&&Zr();var Z,G=pe.follow(function(){if(Z=ae(u),Z&&L){var ee=Gn.bind(null,null);Z.then(ee,ee)}});return Z&&typeof Z.then=="function"?pe.resolve(Z):G.then(function(){return Z})}}),h.push(function(N){var R=M._cfg.dbschema;uh(R,N),ps(r,[r.Transaction.prototype]),Qo(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),u.schema=r._dbSchema}),h.push(function(N){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===M._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter(function(R){return R!=="$meta"})):N.objectStore("$meta").put(M._cfg.version,"version"))})});function S(){return h.length?pe.resolve(h.shift()(u.idbtrans)).then(S):pe.resolve()}return S().then(function(){Cc(w,d)})}function ys(r,i){var u={del:[],add:[],change:[]},d;for(d in r)i[d]||u.del.push(d);for(d in i){var h=r[d],v=i[d];if(!h)u.add.push([d,v]);else{var w={name:d,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||h.primKey.auto!==v.primKey.auto)w.recreate=!0,u.change.push(w);else{var C=h.idxByName,S=v.idxByName,M=void 0;for(M in C)S[M]||w.del.push(M);for(M in S){var N=C[M],R=S[M];N?N.src!==R.src&&w.change.push(R):w.add.push(R)}(w.del.length>0||w.add.length>0||w.change.length>0)&&u.change.push(w)}}}return u}function gs(r,i,u,d){var h=r.db.createObjectStore(i,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(v){return Vo(h,v)}),h}function Cc(r,i){s(r).forEach(function(u){i.db.objectStoreNames.contains(u)||(vn&&console.debug("Dexie: Creating missing table",u),gs(i,u,r[u].primKey,r[u].indexes))})}function uh(r,i){[].slice.call(i.db.objectStoreNames).forEach(function(u){return r[u]==null&&i.db.deleteObjectStore(u)})}function Vo(r,i){r.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function Xo(r,i,u){var d={},h=ne(i.objectStoreNames,0);return h.forEach(function(v){for(var w=u.objectStore(v),C=w.keyPath,S=ds(xc(C),C||"",!0,!1,!!w.autoIncrement,C&&typeof C!="string",!0),M=[],N=0;N<w.indexNames.length;++N){var R=w.index(w.indexNames[N]);C=R.keyPath;var q=ds(R.name,C,!!R.unique,!!R.multiEntry,!1,C&&typeof C!="string",!1);M.push(q)}d[v]=hs(v,S,M)}),d}function ch(r,i,u){r.verno=i.version/10;var d=r._dbSchema=Xo(r,i,u);r._storeNames=ne(i.objectStoreNames,0),Qo(r,[r._allTables],s(d),d)}function lh(r,i){var u=Xo(r,r.idbdb,i),d=ys(u,r._dbSchema);return!(d.add.length||d.change.some(function(h){return h.add.length||h.change.length}))}function Jo(r,i,u){for(var d=u.db.objectStoreNames,h=0;h<d.length;++h){var v=d[h],w=u.objectStore(v);r._hasGetAll="getAll"in w;for(var C=0;C<w.indexNames.length;++C){var S=w.indexNames[C],M=w.index(S).keyPath,N=typeof M=="string"?M:"["+ne(M).join("+")+"]";if(i[v]){var R=i[v].idxByName[N];R&&(R.name=S,delete i[v].idxByName[N],i[v].idxByName[S]=R)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Sc(r){return r.split(",").map(function(i,u){var d,h=i.split(":"),v=(d=h[1])===null||d===void 0?void 0:d.trim();i=h[0].trim();var w=i.replace(/([&*]|\+\+)/g,""),C=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return ds(w,C||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),c(C),u===0,v)})}var fh=(function(){function r(){}return r.prototype._createTableSchema=function(i,u,d){return hs(i,u,d)},r.prototype._parseIndexSyntax=function(i){return Sc(i)},r.prototype._parseStoresSpec=function(i,u){var d=this;s(i).forEach(function(h){if(i[h]!==null){var v=d._parseIndexSyntax(i[h]),w=v.shift();if(!w)throw new Ee.Schema("Invalid schema for table "+h+": "+i[h]);if(w.unique=!0,w.multi)throw new Ee.Schema("Primary key cannot be multiEntry*");v.forEach(function(S){if(S.auto)throw new Ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!S.keyPath)throw new Ee.Schema("Index must have a name and cannot be an empty string")});var C=d._createTableSchema(h,w,v);u[h]=C}})},r.prototype.stores=function(i){var u=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,i):i;var d=u._versions,h={},v={};return d.forEach(function(w){l(h,w._cfg.storesSource),v=w._cfg.dbschema={},w._parseStoresSpec(h,v)}),u._dbSchema=v,ps(u,[u._allTables,u,u.Transaction.prototype]),Qo(u,[u._allTables,u,u.Transaction.prototype,this._cfg.tables],s(v),v),u._storeNames=s(v),this},r.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Ga(this._cfg.contentUpgrade||qe,i),this},r})();function dh(r){return Si(fh.prototype,function(u){this.db=r,this._cfg={version:u,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function vs(r,i){var u=r._dbNamesDB;return u||(u=r._dbNamesDB=new Rn(Ko,{addons:[],indexedDB:r,IDBKeyRange:i}),u.version(1).stores({dbnames:"name"})),u.table("dbnames")}function _s(r){return r&&typeof r.databases=="function"}function hh(r){var i=r.indexedDB,u=r.IDBKeyRange;return _s(i)?Promise.resolve(i.databases()).then(function(d){return d.map(function(h){return h.name}).filter(function(h){return h!==Ko})}):vs(i,u).toCollection().primaryKeys()}function mh(r,i){var u=r.indexedDB,d=r.IDBKeyRange;!_s(u)&&i!==Ko&&vs(u,d).put({name:i}).catch(qe)}function ph(r,i){var u=r.indexedDB,d=r.IDBKeyRange;!_s(u)&&i!==Ko&&vs(u,d).delete(i).catch(qe)}function bs(r){return Hn(function(){return Ce.letThrough=!0,r()})}function yh(){var r=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!r||!indexedDB.databases)return Promise.resolve();var i;return new Promise(function(u){var d=function(){return indexedDB.databases().finally(u)};i=setInterval(d,100),d()}).finally(function(){return clearInterval(i)})}var ws;function Ds(r){return!("from"in r)}var yt=function(r,i){if(this)l(this,arguments.length?{d:1,from:r,to:arguments.length>1?i:r}:{d:0});else{var u=new yt;return r&&"d"in r&&l(u,r),u}};b(yt.prototype,(ws={add:function(r){return Ri(this,r),this},addKey:function(r){return Oi(this,r,r),this},addKeys:function(r){var i=this;return r.forEach(function(u){return Oi(i,u,u)}),this},hasKey:function(r){var i=ea(this).next(r).value;return i&&Ye(i.from,r)<=0&&Ye(i.to,r)>=0}},ws[z]=function(){return ea(this)},ws));function Oi(r,i,u){var d=Ye(i,u);if(!isNaN(d)){if(d>0)throw RangeError();if(Ds(r))return l(r,{from:i,to:u,d:1});var h=r.l,v=r.r;if(Ye(u,r.from)<0)return h?Oi(h,i,u):r.l={from:i,to:u,d:1,l:null,r:null},kc(r);if(Ye(i,r.to)>0)return v?Oi(v,i,u):r.r={from:i,to:u,d:1,l:null,r:null},kc(r);Ye(i,r.from)<0&&(r.from=i,r.l=null,r.d=v?v.d+1:1),Ye(u,r.to)>0&&(r.to=u,r.r=null,r.d=r.l?r.l.d+1:1);var w=!r.r;h&&!r.l&&Ri(r,h),v&&w&&Ri(r,v)}}function Ri(r,i){function u(d,h){var v=h.from,w=h.to,C=h.l,S=h.r;Oi(d,v,w),C&&u(d,C),S&&u(d,S)}Ds(i)||u(r,i)}function Tc(r,i){var u=ea(i),d=u.next();if(d.done)return!1;for(var h=d.value,v=ea(r),w=v.next(h.from),C=w.value;!d.done&&!w.done;){if(Ye(C.from,h.to)<=0&&Ye(C.to,h.from)>=0)return!0;Ye(h.from,C.from)<0?h=(d=u.next(C.from)).value:C=(w=v.next(h.from)).value}return!1}function ea(r){var i=Ds(r)?null:{s:0,n:r};return{next:function(u){for(var d=arguments.length>0;i;)switch(i.s){case 0:if(i.s=1,d)for(;i.n.l&&Ye(u,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!d||Ye(u,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function kc(r){var i,u,d=(((i=r.r)===null||i===void 0?void 0:i.d)||0)-(((u=r.l)===null||u===void 0?void 0:u.d)||0),h=d>1?"r":d<-1?"l":"";if(h){var v=h==="r"?"l":"r",w=n({},r),C=r[h];r.from=C.from,r.to=C.to,r[h]=C[h],w[h]=C[v],r[v]=w,w.d=Ic(w)}r.d=Ic(r)}function Ic(r){var i=r.r,u=r.l;return(i?u?Math.max(i.d,u.d):i.d:u?u.d:0)+1}function ta(r,i){return s(i).forEach(function(u){r[u]?Ri(r[u],i[u]):r[u]=B(i[u])}),r}function xs(r,i){return r.all||i.all||Object.keys(r).some(function(u){return i[u]&&Tc(i[u],r[u])})}var Cr={},Es={},Cs=!1;function na(r,i){ta(Es,r),Cs||(Cs=!0,setTimeout(function(){Cs=!1;var u=Es;Es={},Ss(u,!1)},0))}function Ss(r,i){i===void 0&&(i=!1);var u=new Set;if(r.all)for(var d=0,h=Object.values(Cr);d<h.length;d++){var v=h[d];Mc(v,r,u,i)}else for(var w in r){var C=/^idb\:\/\/(.*)\/(.*)\//.exec(w);if(C){var S=C[1],M=C[2],v=Cr["idb://".concat(S,"/").concat(M)];v&&Mc(v,r,u,i)}}u.forEach(function(N){return N()})}function Mc(r,i,u,d){for(var h=[],v=0,w=Object.entries(r.queries.query);v<w.length;v++){for(var C=w[v],S=C[0],M=C[1],N=[],R=0,q=M;R<q.length;R++){var ae=q[R];xs(i,ae.obsSet)?ae.subscribers.forEach(function(G){return u.add(G)}):d&&N.push(ae)}d&&h.push([S,N])}if(d)for(var $=0,L=h;$<L.length;$++){var Z=L[$],S=Z[0],N=Z[1];r.queries.query[S]=N}}function gh(r){var i=r._state,u=r._deps.indexedDB;if(i.isBeingOpened||r.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?at(i.dbOpenError):r});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var d=i.openCanceller,h=Math.round(r.verno*10),v=!1;function w(){if(i.openCanceller!==d)throw new Ee.DatabaseClosed("db.open() was cancelled")}var C=i.dbReadyResolve,S=null,M=!1,N=function(){return new pe(function(R,q){if(w(),!u)throw new Ee.MissingAPI;var ae=r.name,$=i.autoSchema||!h?u.open(ae):u.open(ae,h);if(!$)throw new Ee.MissingAPI;$.onerror=_n(q),$.onblocked=Je(r._fireOnBlocked),$.onupgradeneeded=Je(function(L){if(S=$.transaction,i.autoSchema&&!r._options.allowEmptyDB){$.onerror=Ti,S.abort(),$.result.close();var Z=u.deleteDatabase(ae);Z.onsuccess=Z.onerror=Je(function(){q(new Ee.NoSuchDatabase("Database ".concat(ae," doesnt exist")))})}else{S.onerror=_n(q);var G=L.oldVersion>Math.pow(2,62)?0:L.oldVersion;M=G<1,r.idbdb=$.result,v&&oh(r,S),ih(r,G/10,S,q)}},q),$.onsuccess=Je(function(){S=null;var L=r.idbdb=$.result,Z=ne(L.objectStoreNames);if(Z.length>0)try{var G=L.transaction(Vd(Z),"readonly");if(i.autoSchema)ch(r,L,G);else if(Jo(r,r._dbSchema,G),!lh(r,G)&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),L.close(),h=L.version+1,v=!0,R(N());Go(r,G)}catch{}Wr.push(r),L.onversionchange=Je(function(ee){i.vcFired=!0,r.on("versionchange").fire(ee)}),L.onclose=Je(function(){r.close({disableAutoOpen:!1})}),M&&mh(r._deps,ae),R()},q)}).catch(function(R){switch(R?.name){case"UnknownError":if(i.PR1398_maxLoop>0)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(h>0)return h=0,N();break}return pe.reject(R)})};return pe.race([d,(typeof navigator>"u"?pe.resolve():yh()).then(N)]).then(function(){return w(),i.onReadyBeingFired=[],pe.resolve(bs(function(){return r.on.ready.fire(r.vip)})).then(function R(){if(i.onReadyBeingFired.length>0){var q=i.onReadyBeingFired.reduce(Ga,qe);return i.onReadyBeingFired=[],pe.resolve(bs(function(){return q(r.vip)})).then(R)}})}).finally(function(){i.openCanceller===d&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(R){i.dbOpenError=R;try{S&&S.abort()}catch{}return d===i.openCanceller&&r._close(),at(R)}).finally(function(){i.openComplete=!0,C()}).then(function(){if(M){var R={};r.tables.forEach(function(q){q.schema.indexes.forEach(function(ae){ae.name&&(R["idb://".concat(r.name,"/").concat(q.name,"/").concat(ae.name)]=new yt(-1/0,[[[]]]))}),R["idb://".concat(r.name,"/").concat(q.name,"/")]=R["idb://".concat(r.name,"/").concat(q.name,"/:dels")]=new yt(-1/0,[[[]]])}),Xn(ki).fire(R),Ss(R,!0)}return r})}function Ts(r){var i=function(w){return r.next(w)},u=function(w){return r.throw(w)},d=v(i),h=v(u);function v(w){return function(C){var S=w(C),M=S.value;return S.done?M:!M||typeof M.then!="function"?c(M)?Promise.all(M).then(d,h):d(M):M.then(d,h)}}return v(i)()}function vh(r,i,u){var d=arguments.length;if(d<2)throw new Ee.InvalidArgument("Too few arguments");for(var h=new Array(d-1);--d;)h[d-1]=arguments[d];u=h.pop();var v=H(h);return[r,v,u]}function Oc(r,i,u,d,h){return pe.resolve().then(function(){var v=Ce.transless||Ce,w=r._createTransaction(i,u,r._dbSchema,d);w.explicit=!0;var C={trans:w,transless:v};if(d)w.idbtrans=d.idbtrans;else try{w.create(),w.idbtrans._explicit=!0,r._state.PR1398_maxLoop=3}catch(R){return R.name===ct.InvalidState&&r.isOpen()&&--r._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),r.close({disableAutoOpen:!1}),r.open().then(function(){return Oc(r,i,u,null,h)})):at(R)}var S=De(h);S&&Zr();var M,N=pe.follow(function(){if(M=h.call(w,w),M)if(S){var R=Gn.bind(null,null);M.then(R,R)}else typeof M.next=="function"&&typeof M.throw=="function"&&(M=Ts(M))},C);return(M&&typeof M.then=="function"?pe.resolve(M).then(function(R){return w.active?R:at(new Ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):N.then(function(){return M})).then(function(R){return d&&w._resolve(),w._completion.then(function(){return R})}).catch(function(R){return w._reject(R),at(R)})})}function ra(r,i,u){for(var d=c(r)?r.slice():[r],h=0;h<u;++h)d.push(i);return d}function _h(r){return n(n({},r),{table:function(i){var u=r.table(i),d=u.schema,h={},v=[];function w(L,Z,G){var ee=Mi(L),te=h[ee]=h[ee]||[],ie=L==null?0:typeof L=="string"?1:L.length,X=Z>0,de=n(n({},G),{name:X?"".concat(ee,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:X,keyTail:Z,keyLength:ie,extractKey:ms(L),unique:!X&&G.unique});if(te.push(de),de.isPrimaryKey||v.push(de),ie>1){var _e=ie===2?L[0]:L.slice(0,ie-1);w(_e,Z+1,G)}return te.sort(function(he,ke){return he.keyTail-ke.keyTail}),de}var C=w(d.primaryKey.keyPath,0,d.primaryKey);h[":id"]=[C];for(var S=0,M=d.indexes;S<M.length;S++){var N=M[S];w(N.keyPath,0,N)}function R(L){var Z=h[Mi(L)];return Z&&Z[0]}function q(L,Z){return{type:L.type===1?2:L.type,lower:ra(L.lower,L.lowerOpen?r.MAX_KEY:r.MIN_KEY,Z),lowerOpen:!0,upper:ra(L.upper,L.upperOpen?r.MIN_KEY:r.MAX_KEY,Z),upperOpen:!0}}function ae(L){var Z=L.query.index;return Z.isVirtual?n(n({},L),{query:{index:Z.lowLevelIndex,range:q(L.query.range,Z.keyTail)}}):L}var $=n(n({},u),{schema:n(n({},d),{primaryKey:C,indexes:v,getIndexByKeyPath:R}),count:function(L){return u.count(ae(L))},query:function(L){return u.query(ae(L))},openCursor:function(L){var Z=L.query.index,G=Z.keyTail,ee=Z.isVirtual,te=Z.keyLength;if(!ee)return u.openCursor(L);function ie(X){function de(he){he!=null?X.continue(ra(he,L.reverse?r.MAX_KEY:r.MIN_KEY,G)):L.unique?X.continue(X.key.slice(0,te).concat(L.reverse?r.MIN_KEY:r.MAX_KEY,G)):X.continue()}var _e=Object.create(X,{continue:{value:de},continuePrimaryKey:{value:function(he,ke){X.continuePrimaryKey(ra(he,r.MAX_KEY,G),ke)}},primaryKey:{get:function(){return X.primaryKey}},key:{get:function(){var he=X.key;return te===1?he[0]:he.slice(0,te)}},value:{get:function(){return X.value}}});return _e}return u.openCursor(ae(L)).then(function(X){return X&&ie(X)})}});return $}})}var bh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:_h};function ks(r,i,u,d){return u=u||{},d=d||"",s(r).forEach(function(h){if(!g(i,h))u[d+h]=void 0;else{var v=r[h],w=i[h];if(typeof v=="object"&&typeof w=="object"&&v&&w){var C=P(v),S=P(w);C!==S?u[d+h]=i[h]:C==="Object"?ks(v,w,u,d+h+"."):v!==w&&(u[d+h]=i[h])}else v!==w&&(u[d+h]=i[h])}}),s(i).forEach(function(h){g(r,h)||(u[d+h]=i[h])}),u}function Is(r,i){return i.type==="delete"?i.keys:i.keys||i.values.map(r.extractKey)}var wh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return n(n({},r),{table:function(i){var u=r.table(i),d=u.schema.primaryKey,h=n(n({},u),{mutate:function(v){var w=Ce.trans,C=w.table(i).hook,S=C.deleting,M=C.creating,N=C.updating;switch(v.type){case"add":if(M.fire===qe)break;return w._promise("readwrite",function(){return R(v)},!0);case"put":if(M.fire===qe&&N.fire===qe)break;return w._promise("readwrite",function(){return R(v)},!0);case"delete":if(S.fire===qe)break;return w._promise("readwrite",function(){return R(v)},!0);case"deleteRange":if(S.fire===qe)break;return w._promise("readwrite",function(){return q(v)},!0)}return u.mutate(v);function R($){var L=Ce.trans,Z=$.keys||Is(d,$);if(!Z)throw new Error("Keys missing");return $=$.type==="add"||$.type==="put"?n(n({},$),{keys:Z}):n({},$),$.type!=="delete"&&($.values=o([],$.values,!0)),$.keys&&($.keys=o([],$.keys,!0)),Dh(u,$,Z).then(function(G){var ee=Z.map(function(te,ie){var X=G[ie],de={onerror:null,onsuccess:null};if($.type==="delete")S.fire.call(de,te,X,L);else if($.type==="add"||X===void 0){var _e=M.fire.call(de,te,$.values[ie],L);te==null&&_e!=null&&(te=_e,$.keys[ie]=te,d.outbound||we($.values[ie],d.keyPath,te))}else{var he=ks(X,$.values[ie]),ke=N.fire.call(de,he,te,X,L);if(ke){var je=$.values[ie];Object.keys(ke).forEach(function(be){g(je,be)?je[be]=ke[be]:we(je,be,ke[be])})}}return de});return u.mutate($).then(function(te){for(var ie=te.failures,X=te.results,de=te.numFailures,_e=te.lastResult,he=0;he<Z.length;++he){var ke=X?X[he]:Z[he],je=ee[he];ke==null?je.onerror&&je.onerror(ie[he]):je.onsuccess&&je.onsuccess($.type==="put"&&G[he]?$.values[he]:ke)}return{failures:ie,results:X,numFailures:de,lastResult:_e}}).catch(function(te){return ee.forEach(function(ie){return ie.onerror&&ie.onerror(te)}),Promise.reject(te)})})}function q($){return ae($.trans,$.range,1e4)}function ae($,L,Z){return u.query({trans:$,values:!1,query:{index:d,range:L},limit:Z}).then(function(G){var ee=G.result;return R({type:"delete",keys:ee,trans:$}).then(function(te){return te.numFailures>0?Promise.reject(te.failures[0]):ee.length<Z?{failures:[],numFailures:0,lastResult:void 0}:ae($,n(n({},L),{lower:ee[ee.length-1],lowerOpen:!0}),Z)})})}}});return h}})}};function Dh(r,i,u){return i.type==="add"?Promise.resolve([]):r.getMany({trans:i.trans,keys:u,cache:"immutable"})}function Rc(r,i,u){try{if(!i||i.keys.length<r.length)return null;for(var d=[],h=0,v=0;h<i.keys.length&&v<r.length;++h)Ye(i.keys[h],r[v])===0&&(d.push(u?E(i.values[h]):i.values[h]),++v);return d.length===r.length?d:null}catch{return null}}var xh={stack:"dbcore",level:-1,create:function(r){return{table:function(i){var u=r.table(i);return n(n({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var h=Rc(d.keys,d.trans._cache,d.cache==="clone");return h?pe.resolve(h):u.getMany(d).then(function(v){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?E(v):v},v})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function Pc(r,i){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function Ac(r,i){switch(r){case"query":return i.values&&!i.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Eh={stack:"dbcore",level:0,name:"Observability",create:function(r){var i=r.schema.name,u=new yt(r.MIN_KEY,r.MAX_KEY);return n(n({},r),{transaction:function(d,h,v){if(Ce.subscr&&h!=="readonly")throw new Ee.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ce.querier));return r.transaction(d,h,v)},table:function(d){var h=r.table(d),v=h.schema,w=v.primaryKey,C=v.indexes,S=w.extractKey,M=w.outbound,N=w.autoIncrement&&C.filter(function($){return $.compound&&$.keyPath.includes(w.keyPath)}),R=n(n({},h),{mutate:function($){var L,Z,G=$.trans,ee=$.mutatedParts||($.mutatedParts={}),te=function(Me){var Fe="idb://".concat(i,"/").concat(d,"/").concat(Me);return ee[Fe]||(ee[Fe]=new yt)},ie=te(""),X=te(":dels"),de=$.type,_e=$.type==="deleteRange"?[$.range]:$.type==="delete"?[$.keys]:$.values.length<50?[Is(w,$).filter(function(Me){return Me}),$.values]:[],he=_e[0],ke=_e[1],je=$.trans._cache;if(c(he)){ie.addKeys(he);var be=de==="delete"||he.length===ke.length?Rc(he,je):null;be||X.addKeys(he),(be||ke)&&Ch(te,v,be,ke)}else if(he){var $e={from:(L=he.lower)!==null&&L!==void 0?L:r.MIN_KEY,to:(Z=he.upper)!==null&&Z!==void 0?Z:r.MAX_KEY};X.add($e),ie.add($e)}else ie.add(u),X.add(u),v.indexes.forEach(function(Me){return te(Me.name).add(u)});return h.mutate($).then(function(Me){return he&&($.type==="add"||$.type==="put")&&(ie.addKeys(Me.results),N&&N.forEach(function(Fe){for(var Te=$.values.map(function(Lt){return Fe.extractKey(Lt)}),it=Fe.keyPath.findIndex(function(Lt){return Lt===w.keyPath}),gt=0,bn=Me.results.length;gt<bn;++gt)Te[gt][it]=Me.results[gt];te(Fe.name).addKeys(Te)})),G.mutatedParts=ta(G.mutatedParts||{},ee),Me})}}),q=function($){var L,Z,G=$.query,ee=G.index,te=G.range;return[ee,new yt((L=te.lower)!==null&&L!==void 0?L:r.MIN_KEY,(Z=te.upper)!==null&&Z!==void 0?Z:r.MAX_KEY)]},ae={get:function($){return[w,new yt($.key)]},getMany:function($){return[w,new yt().addKeys($.keys)]},count:q,query:q,openCursor:q};return s(ae).forEach(function($){R[$]=function(L){var Z=Ce.subscr,G=!!Z,ee=Pc(Ce,h)&&Ac($,L),te=ee?L.obsSet={}:Z;if(G){var ie=function(be){var $e="idb://".concat(i,"/").concat(d,"/").concat(be);return te[$e]||(te[$e]=new yt)},X=ie(""),de=ie(":dels"),_e=ae[$](L),he=_e[0],ke=_e[1];if($==="query"&&he.isPrimaryKey&&!L.values?de.add(ke):ie(he.name||"").add(ke),!he.isPrimaryKey)if($==="count")de.add(u);else{var je=$==="query"&&M&&L.values&&h.query(n(n({},L),{values:!1}));return h[$].apply(this,arguments).then(function(be){if($==="query"){if(M&&L.values)return je.then(function(Te){var it=Te.result;return X.addKeys(it),be});var $e=L.values?be.result.map(S):be.result;L.values?X.addKeys($e):de.addKeys($e)}else if($==="openCursor"){var Me=be,Fe=L.values;return Me&&Object.create(Me,{key:{get:function(){return de.addKey(Me.primaryKey),Me.key}},primaryKey:{get:function(){var Te=Me.primaryKey;return de.addKey(Te),Te}},value:{get:function(){return Fe&&X.addKey(Me.primaryKey),Me.value}}})}return be})}}return h[$].apply(this,arguments)}}),R}})}};function Ch(r,i,u,d){function h(v){var w=r(v.name||"");function C(M){return M!=null?v.extractKey(M):null}var S=function(M){return v.multiEntry&&c(M)?M.forEach(function(N){return w.addKey(N)}):w.addKey(M)};(u||d).forEach(function(M,N){var R=u&&C(u[N]),q=d&&C(d[N]);Ye(R,q)!==0&&(R!=null&&S(R),q!=null&&S(q))})}i.indexes.forEach(h)}function $c(r,i,u){if(u.numFailures===0)return i;if(i.type==="deleteRange")return null;var d=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;if(u.numFailures===d)return null;var h=n({},i);return c(h.keys)&&(h.keys=h.keys.filter(function(v,w){return!(w in u.failures)})),"values"in h&&c(h.values)&&(h.values=h.values.filter(function(v,w){return!(w in u.failures)})),h}function Sh(r,i){return i.lower===void 0?!0:i.lowerOpen?Ye(r,i.lower)>0:Ye(r,i.lower)>=0}function Th(r,i){return i.upper===void 0?!0:i.upperOpen?Ye(r,i.upper)<0:Ye(r,i.upper)<=0}function Ms(r,i){return Sh(r,i)&&Th(r,i)}function Nc(r,i,u,d,h,v){if(!u||u.length===0)return r;var w=i.query.index,C=w.multiEntry,S=i.query.range,M=d.schema.primaryKey,N=M.extractKey,R=w.extractKey,q=(w.lowLevelIndex||w).extractKey,ae=u.reduce(function($,L){var Z=$,G=[];if(L.type==="add"||L.type==="put")for(var ee=new yt,te=L.values.length-1;te>=0;--te){var ie=L.values[te],X=N(ie);if(!ee.hasKey(X)){var de=R(ie);(C&&c(de)?de.some(function(be){return Ms(be,S)}):Ms(de,S))&&(ee.addKey(X),G.push(ie))}}switch(L.type){case"add":{var _e=new yt().addKeys(i.values?$.map(function(be){return N(be)}):$);Z=$.concat(i.values?G.filter(function(be){var $e=N(be);return _e.hasKey($e)?!1:(_e.addKey($e),!0)}):G.map(function(be){return N(be)}).filter(function(be){return _e.hasKey(be)?!1:(_e.addKey(be),!0)}));break}case"put":{var he=new yt().addKeys(L.values.map(function(be){return N(be)}));Z=$.filter(function(be){return!he.hasKey(i.values?N(be):be)}).concat(i.values?G:G.map(function(be){return N(be)}));break}case"delete":var ke=new yt().addKeys(L.keys);Z=$.filter(function(be){return!ke.hasKey(i.values?N(be):be)});break;case"deleteRange":var je=L.range;Z=$.filter(function(be){return!Ms(N(be),je)});break}return Z},r);return ae===r?r:(ae.sort(function($,L){return Ye(q($),q(L))||Ye(N($),N(L))}),i.limit&&i.limit<1/0&&(ae.length>i.limit?ae.length=i.limit:r.length===i.limit&&ae.length<i.limit&&(h.dirty=!0)),v?Object.freeze(ae):ae)}function jc(r,i){return Ye(r.lower,i.lower)===0&&Ye(r.upper,i.upper)===0&&!!r.lowerOpen==!!i.lowerOpen&&!!r.upperOpen==!!i.upperOpen}function kh(r,i,u,d){if(r===void 0)return i!==void 0?-1:0;if(i===void 0)return 1;var h=Ye(r,i);if(h===0){if(u&&d)return 0;if(u)return 1;if(d)return-1}return h}function Ih(r,i,u,d){if(r===void 0)return i!==void 0?1:0;if(i===void 0)return-1;var h=Ye(r,i);if(h===0){if(u&&d)return 0;if(u)return-1;if(d)return 1}return h}function Mh(r,i){return kh(r.lower,i.lower,r.lowerOpen,i.lowerOpen)<=0&&Ih(r.upper,i.upper,r.upperOpen,i.upperOpen)>=0}function Oh(r,i,u,d){var h=Cr["idb://".concat(r,"/").concat(i)];if(!h)return[];var v=h.queries[u];if(!v)return[null,!1,h,null];var w=d.query?d.query.index.name:null,C=v[w||""];if(!C)return[null,!1,h,null];switch(u){case"query":var S=C.find(function(R){return R.req.limit===d.limit&&R.req.values===d.values&&jc(R.req.query.range,d.query.range)});if(S)return[S,!0,h,C];var M=C.find(function(R){var q="limit"in R.req?R.req.limit:1/0;return q>=d.limit&&(d.values?R.req.values:!0)&&Mh(R.req.query.range,d.query.range)});return[M,!1,h,C];case"count":var N=C.find(function(R){return jc(R.req.query.range,d.query.range)});return[N,!!N,h,C]}}function Rh(r,i,u,d){r.subscribers.add(u),d.addEventListener("abort",function(){r.subscribers.delete(u),r.subscribers.size===0&&Ph(r,i)})}function Ph(r,i){setTimeout(function(){r.subscribers.size===0&&J(i,r)},3e3)}var Ah={stack:"dbcore",level:0,name:"Cache",create:function(r){var i=r.schema.name,u=n(n({},r),{transaction:function(d,h,v){var w=r.transaction(d,h,v);if(h==="readwrite"){var C=new AbortController,S=C.signal,M=function(N){return function(){if(C.abort(),h==="readwrite"){for(var R=new Set,q=0,ae=d;q<ae.length;q++){var $=ae[q],L=Cr["idb://".concat(i,"/").concat($)];if(L){var Z=r.table($),G=L.optimisticOps.filter(function(Fe){return Fe.trans===w});if(w._explicit&&N&&w.mutatedParts)for(var ee=0,te=Object.values(L.queries.query);ee<te.length;ee++)for(var ie=te[ee],X=0,de=ie.slice();X<de.length;X++){var _e=de[X];xs(_e.obsSet,w.mutatedParts)&&(J(ie,_e),_e.subscribers.forEach(function(Fe){return R.add(Fe)}))}else if(G.length>0){L.optimisticOps=L.optimisticOps.filter(function(Fe){return Fe.trans!==w});for(var he=0,ke=Object.values(L.queries.query);he<ke.length;he++)for(var ie=ke[he],je=0,be=ie.slice();je<be.length;je++){var _e=be[je];if(_e.res!=null&&w.mutatedParts)if(N&&!_e.dirty){var $e=Object.isFrozen(_e.res),Me=Nc(_e.res,_e.req,G,Z,_e,$e);_e.dirty?(J(ie,_e),_e.subscribers.forEach(function(it){return R.add(it)})):Me!==_e.res&&(_e.res=Me,_e.promise=pe.resolve({result:Me}))}else _e.dirty&&J(ie,_e),_e.subscribers.forEach(function(it){return R.add(it)})}}}}R.forEach(function(Fe){return Fe()})}}};w.addEventListener("abort",M(!1),{signal:S}),w.addEventListener("error",M(!1),{signal:S}),w.addEventListener("complete",M(!0),{signal:S})}return w},table:function(d){var h=r.table(d),v=h.schema.primaryKey,w=n(n({},h),{mutate:function(C){var S=Ce.trans;if(v.outbound||S.db._options.cache==="disabled"||S.explicit||S.idbtrans.mode!=="readwrite")return h.mutate(C);var M=Cr["idb://".concat(i,"/").concat(d)];if(!M)return h.mutate(C);var N=h.mutate(C);return(C.type==="add"||C.type==="put")&&(C.values.length>=50||Is(v,C).some(function(R){return R==null}))?N.then(function(R){var q=n(n({},C),{values:C.values.map(function($,L){var Z;if(R.failures[L])return $;var G=!((Z=v.keyPath)===null||Z===void 0)&&Z.includes(".")?E($):n({},$);return we(G,v.keyPath,R.results[L]),G})}),ae=$c(M,q,R);M.optimisticOps.push(ae),queueMicrotask(function(){return C.mutatedParts&&na(C.mutatedParts)})}):(M.optimisticOps.push(C),C.mutatedParts&&na(C.mutatedParts),N.then(function(R){if(R.numFailures>0){J(M.optimisticOps,C);var q=$c(M,C,R);q&&M.optimisticOps.push(q),C.mutatedParts&&na(C.mutatedParts)}}),N.catch(function(){J(M.optimisticOps,C),C.mutatedParts&&na(C.mutatedParts)})),N},query:function(C){var S;if(!Pc(Ce,h)||!Ac("query",C))return h.query(C);var M=((S=Ce.trans)===null||S===void 0?void 0:S.db._options.cache)==="immutable",N=Ce,R=N.requery,q=N.signal,ae=Oh(i,d,"query",C),$=ae[0],L=ae[1],Z=ae[2],G=ae[3];if($&&L)$.obsSet=C.obsSet;else{var ee=h.query(C).then(function(te){var ie=te.result;if($&&($.res=ie),M){for(var X=0,de=ie.length;X<de;++X)Object.freeze(ie[X]);Object.freeze(ie)}else te.result=E(ie);return te}).catch(function(te){return G&&$&&J(G,$),Promise.reject(te)});$={obsSet:C.obsSet,promise:ee,subscribers:new Set,type:"query",req:C,dirty:!1},G?G.push($):(G=[$],Z||(Z=Cr["idb://".concat(i,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),Z.queries.query[C.query.index.name||""]=G)}return Rh($,G,R,q),$.promise.then(function(te){return{result:Nc(te.result,C,Z?.optimisticOps,h,$,M)}})}});return w}});return u}};function ia(r,i){return new Proxy(r,{get:function(u,d,h){return d==="db"?i:Reflect.get(u,d,h)}})}var Rn=(function(){function r(i,u){var d=this;this._middlewares={},this.verno=0;var h=r.dependencies;this._options=u=n({addons:r.addons,autoOpen:!0,indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange,cache:"cloned"},u),this._deps={indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange};var v=u.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:qe,dbReadyPromise:null,cancelOpen:qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:u.autoOpen};w.dbReadyPromise=new pe(function(S){w.dbReadyResolve=S}),w.openCanceller=new pe(function(S,M){w.cancelOpen=M}),this._state=w,this.name=i,this.on=Ci(this,"populate","blocked","versionchange","close",{ready:[Ga,qe]}),this.once=function(S,M){var N=function(){for(var R=[],q=0;q<arguments.length;q++)R[q]=arguments[q];d.on(S).unsubscribe(N),M.apply(d,R)};return d.on(S,N)},this.on.ready.subscribe=re(this.on.ready.subscribe,function(S){return function(M,N){r.vip(function(){var R=d._state;if(R.openComplete)R.dbOpenError||pe.resolve().then(M),N&&S(M);else if(R.onReadyBeingFired)R.onReadyBeingFired.push(M),N&&S(M);else{S(M);var q=d;N||S(function ae(){q.on.ready.unsubscribe(M),q.on.ready.unsubscribe(ae)})}})}}),this.Collection=Fd(this),this.Table=Ld(this),this.Transaction=Qd(this),this.Version=dh(this),this.WhereClause=Hd(this),this.on("versionchange",function(S){S.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(S){!S.newVersion||S.newVersion<S.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(S.oldVersion/10))}),this._maxKey=Ii(u.IDBKeyRange),this._createTransaction=function(S,M,N,R){return new d.Transaction(S,M,N,d._options.chromeTransactionDurability,R)},this._fireOnBlocked=function(S){d.on("blocked").fire(S),Wr.filter(function(M){return M.name===d.name&&M!==d&&!M._state.vcFired}).map(function(M){return M.on("versionchange").fire(S)})},this.use(xh),this.use(Ah),this.use(Eh),this.use(bh),this.use(wh);var C=new Proxy(this,{get:function(S,M,N){if(M==="_vip")return!0;if(M==="table")return function(q){return ia(d.table(q),C)};var R=Reflect.get(S,M,N);return R instanceof gc?ia(R,C):M==="tables"?R.map(function(q){return ia(q,C)}):M==="_createTransaction"?function(){var q=R.apply(this,arguments);return ia(q,C)}:R}});this.vip=C,v.forEach(function(S){return S(d)})}return r.prototype.version=function(i){if(isNaN(i)||i<.1)throw new Ee.Type("Given version is not a positive number");if(i=Math.round(i*10)/10,this.idbdb||this._state.isBeingOpened)throw new Ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var u=this._versions,d=u.filter(function(h){return h._cfg.version===i})[0];return d||(d=new this.Version(i),u.push(d),u.sort(rh),d.stores({}),this._state.autoSchema=!1,d)},r.prototype._whenReady=function(i){var u=this;return this.idbdb&&(this._state.openComplete||Ce.letThrough||this._vip)?i():new pe(function(d,h){if(u._state.openComplete)return h(new Ee.DatabaseClosed(u._state.dbOpenError));if(!u._state.isBeingOpened){if(!u._state.autoOpen){h(new Ee.DatabaseClosed);return}u.open().catch(qe)}u._state.dbReadyPromise.then(d,h)}).then(i)},r.prototype.use=function(i){var u=i.stack,d=i.create,h=i.level,v=i.name;v&&this.unuse({stack:u,name:v});var w=this._middlewares[u]||(this._middlewares[u]=[]);return w.push({stack:u,create:d,level:h??10,name:v}),w.sort(function(C,S){return C.level-S.level}),this},r.prototype.unuse=function(i){var u=i.stack,d=i.name,h=i.create;return u&&this._middlewares[u]&&(this._middlewares[u]=this._middlewares[u].filter(function(v){return h?v.create!==h:d?v.name!==d:!1})),this},r.prototype.open=function(){var i=this;return Dr(qn,function(){return gh(i)})},r.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,u=Wr.indexOf(this);if(u>=0&&Wr.splice(u,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new pe(function(d){i.dbReadyResolve=d}),i.openCanceller=new pe(function(d,h){i.cancelOpen=h}))},r.prototype.close=function(i){var u=i===void 0?{disableAutoOpen:!0}:i,d=u.disableAutoOpen,h=this._state;d?(h.isBeingOpened&&h.cancelOpen(new Ee.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new Ee.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},r.prototype.delete=function(i){var u=this;i===void 0&&(i={disableAutoOpen:!0});var d=arguments.length>0&&typeof arguments[0]!="object",h=this._state;return new pe(function(v,w){var C=function(){u.close(i);var S=u._deps.indexedDB.deleteDatabase(u.name);S.onsuccess=Je(function(){ph(u._deps,u.name),v()}),S.onerror=_n(w),S.onblocked=u._fireOnBlocked};if(d)throw new Ee.InvalidArgument("Invalid closeOptions argument to db.delete()");h.isBeingOpened?h.dbReadyPromise.then(C):C()})},r.prototype.backendDB=function(){return this.idbdb},r.prototype.isOpen=function(){return this.idbdb!==null},r.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},r.prototype.hasFailed=function(){return this._state.dbOpenError!==null},r.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(r.prototype,"tables",{get:function(){var i=this;return s(this._allTables).map(function(u){return i._allTables[u]})},enumerable:!1,configurable:!0}),r.prototype.transaction=function(){var i=vh.apply(this,arguments);return this._transaction.apply(this,i)},r.prototype._transaction=function(i,u,d){var h=this,v=Ce.trans;(!v||v.db!==this||i.indexOf("!")!==-1)&&(v=null);var w=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");var C,S;try{if(S=u.map(function(N){var R=N instanceof h.Table?N.name:N;if(typeof R!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return R}),i=="r"||i===ss)C=ss;else if(i=="rw"||i==us)C=us;else throw new Ee.InvalidArgument("Invalid transaction mode: "+i);if(v){if(v.mode===ss&&C===us)if(w)v=null;else throw new Ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");v&&S.forEach(function(N){if(v&&v.storeNames.indexOf(N)===-1)if(w)v=null;else throw new Ee.SubTransaction("Table "+N+" not included in parent transaction.")}),w&&v&&!v.active&&(v=null)}}catch(N){return v?v._promise(null,function(R,q){q(N)}):at(N)}var M=Oc.bind(null,this,C,S,v,d);return v?v._promise(C,M,"lock"):Ce.trans?Dr(Ce.transless,function(){return h._whenReady(M)}):this._whenReady(M)},r.prototype.table=function(i){if(!g(this._allTables,i))throw new Ee.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},r})(),$h=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Nh=(function(){function r(i){this._subscribe=i}return r.prototype.subscribe=function(i,u,d){return this._subscribe(!i||typeof i=="function"?{next:i,error:u,complete:d}:i)},r.prototype[$h]=function(){return this},r})(),oa;try{oa={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{oa={indexedDB:null,IDBKeyRange:null}}function Bc(r){var i=!1,u,d=new Nh(function(h){var v=De(r);function w(G){var ee=Kr();try{v&&Zr();var te=Hn(r,G);return v&&(te=te.finally(Gn)),te}finally{ee&&Ur()}}var C=!1,S,M={},N={},R={get closed(){return C},unsubscribe:function(){C||(C=!0,S&&S.abort(),q&&Xn.storagemutated.unsubscribe(L))}};h.start&&h.start(R);var q=!1,ae=function(){return is(Z)};function $(){return xs(N,M)}var L=function(G){ta(M,G),$()&&ae()},Z=function(){if(!(C||!oa.indexedDB)){M={};var G={};S&&S.abort(),S=new AbortController;var ee={subscr:G,signal:S.signal,requery:ae,querier:r,trans:null},te=w(ee);Promise.resolve(te).then(function(ie){i=!0,u=ie,!(C||ee.signal.aborted)&&(M={},N=G,!f(N)&&!q&&(Xn(ki,L),q=!0),is(function(){return!C&&h.next&&h.next(ie)}))},function(ie){i=!1,["DatabaseClosedError","AbortError"].includes(ie?.name)||C||is(function(){C||h.error&&h.error(ie)})})}};return setTimeout(ae,0),R});return d.hasValue=function(){return i},d.getValue=function(){return u},d}var Sr=Rn;b(Sr,n(n({},gr),{delete:function(r){var i=new Sr(r,{addons:[]});return i.delete()},exists:function(r){return new Sr(r,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return hh(Sr.dependencies).then(r)}catch{return at(new Ee.MissingAPI)}},defineClass:function(){function r(i){l(this,i)}return r},ignoreTransaction:function(r){return Ce.trans?Dr(Ce.transless,r):r()},vip:bs,async:function(r){return function(){try{var i=Ts(r.apply(this,arguments));return!i||typeof i.then!="function"?pe.resolve(i):i}catch(u){return at(u)}}},spawn:function(r,i,u){try{var d=Ts(r.apply(u,i||[]));return!d||typeof d.then!="function"?pe.resolve(d):d}catch(h){return at(h)}},currentTransaction:{get:function(){return Ce.trans||null}},waitFor:function(r,i){var u=pe.resolve(typeof r=="function"?Sr.ignoreTransaction(r):r).timeout(i||6e4);return Ce.trans?Ce.trans.waitFor(u):u},Promise:pe,debug:{get:function(){return vn},set:function(r){tc(r)}},derive:O,extend:l,props:b,override:re,Events:Ci,on:Xn,liveQuery:Bc,extendObservabilitySet:ta,getByKeyPath:xe,setByKeyPath:we,delByKeyPath:ye,shallowClone:U,deepClone:E,getObjectDiff:ks,cmp:Ye,asap:me,minKey:as,addons:[],connections:Wr,errnames:ct,dependencies:oa,cache:Cr,semVer:lc,version:lc.split(".").map(function(r){return parseInt(r)}).reduce(function(r,i,u){return r+i/Math.pow(10,u*2)})})),Sr.maxKey=Ii(Sr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xn(ki,function(r){if(!Jn){var i;i=new CustomEvent(fs,{detail:r}),Jn=!0,dispatchEvent(i),Jn=!1}}),addEventListener(fs,function(r){var i=r.detail;Jn||Os(i)}));function Os(r){var i=Jn;try{Jn=!0,Xn.storagemutated.fire(r),Ss(r,!0)}finally{Jn=i}}var Jn=!1,er,Rs=function(){};typeof BroadcastChannel<"u"&&(Rs=function(){er=new BroadcastChannel(fs),er.onmessage=function(r){return r.data&&Os(r.data)}},Rs(),typeof er.unref=="function"&&er.unref(),Xn(ki,function(r){Jn||er.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!Rn.disableBfCache&&r.persisted){vn&&console.debug("Dexie: handling persisted pagehide"),er?.close();for(var i=0,u=Wr;i<u.length;i++){var d=u[i];d.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(r){!Rn.disableBfCache&&r.persisted&&(vn&&console.debug("Dexie: handling persisted pageshow"),Rs(),Os({all:new yt(-1/0,[[]])}))}));function jh(r){return new Ei({add:r})}function Bh(r){return new Ei({remove:r})}function Lh(r,i){return new Ei({replacePrefix:[r,i]})}pe.rejectionMapper=_i,tc(vn);var Yh=Object.freeze({__proto__:null,Dexie:Rn,liveQuery:Bc,Entity:hc,cmp:Ye,PropModification:Ei,replacePrefix:Lh,add:jh,remove:Bh,default:Rn,RangeSet:yt,mergeRanges:Ri,rangesOverlap:Tc});return n(Rn,Yh,{default:Rn}),Rn})});function As(t){if(!t)return{};let e={},n=(o,a)=>{if(!(!o||typeof o!="object"))for(let s in o)Object.hasOwn(o,s)&&a[s]===void 0&&(a[s]=o[s])};return n(t,e),n(t.item,e),n(t.reference,e),e}var qc=qt(on());var{Fragment:Ys,jsx:se,jsxs:Ke}=Spicetify.ReactJSX;var da={editButton:{path:"M17.318 1.975a3.329 3.329 0 114.707 4.707L8.451 20.256c-.49.49-1.082.867-1.735 1.103L2.34 22.94a1 1 0 01-1.28-1.28l1.581-4.376a4.726 4.726 0 011.103-1.735L17.318 1.975zm3.293 1.414a1.329 1.329 0 00-1.88 0L5.159 16.963c-.283.283-.5.624-.636 1l-.857 2.372 2.371-.857a2.726 2.726 0 001.001-.636L20.611 5.268a1.329 1.329 0 000-1.879z",size:24},settings:{path:"M7.96 5.33a2.67 2.67 90 100 5.34 2.67 2.67 90 000-5.34ZM6.67 8A1.33 1.33 90 119.33 8 1.33 1.33 90 016.67 8Zm4.82-4.81a.95.94 90 01-1.1-.75L10.05.55A.47.47 90 009.68.17 8.1 8.1 90 006.32.17.47.47 90 005.96.55L5.61 2.44a.95.95 90 01-1.25.71L2.55 2.51a.47.47 90 00-.51.13C1.28 3.47.71 4.46.36 5.53a.47.47 90 00.14.51L1.97 7.28a.94.94 90 010 1.43L.5 9.95a.47.47 90 00-.14.51 7.98 7.98 90 001.68 2.9.47.47 90 00.51.13l1.81-.65a.94.94 90 011.25.72l.34 1.89c.04.18.18.33.37.37a8.1 8.1 90 003.36 0 .47.47 90 00.37-.37l.34-1.89a.95.95 90 011.25-.72l1.81.65c.18.06.38.01.51-.13.76-.84 1.34-1.82 1.68-2.9a.47.47 90 00-.14-.5L14.03 8.72a.94.94 90 010-1.44L15.5 6.04a.47.47 90 00.14-.5 7.98 7.98 90 00-1.68-2.9.47.47 90 00-.51-.13l-1.81.65a.95.95 90 01-.15.04Zm-8.82.78 1.25.44a2.28 2.28 90 003-1.73l.24-1.3a6.81 6.81 90 011.68 0l.24 1.3a2.28 2.28 90 003.01 1.73l1.24-.44c.34.44.63.93.84 1.44l-1 .85a2.27 2.27 90 000 3.48l1 .85a6.65 6.65 90 01-.84 1.44l-1.24-.44A2.28 2.28 90 009.08 13.32l-.24 1.29a6.8 6.8 90 01-1.69 0l-.23-1.29A2.28 2.28 90 003.91 11.59l-1.24.44a6.65 6.65 90 01-.84-1.44l1-.86a2.27 2.27 90 000-3.47l-1-.85c.21-.51.5-1 .84-1.44Z",size:16},github:{path:"M12.2135 0C18.947 0 24.4267 5.5 24.4066 12.3041c0 5.4391-3.4983 10.0428-8.3513 11.6728-.6065.1223-.829-.265-.829-.591 0-.4072.02-1.7315.02-3.3815 0-1.1613-.384-1.8945-.829-2.2815 2.73-.3058 5.581-1.3445 5.581-6.0708 0-1.3445-.465-2.4445-1.2537-3.3.1213-.3055.5463-1.5688-.1212-3.2595 0 0-1.0312-.326-3.3567 1.263-.9707-.2648-2.0219-.4075-3.0532-.4075A11.7425 11.7425 90 009.16 6.3556c-2.3252-1.589-3.3565-1.263-3.3565-1.263-.6675 1.6907-.2427 2.954-.1215 3.2595-.7685.8555-1.2535 1.9555-1.2535 3.3 0 4.7263 2.8509 5.7855 5.5607 6.0708-.3437.3055-.6675.8555-.7685 1.65-.7077.326-2.467.8555-3.5587-1.0185 0 0-.6472-1.1815-1.8807-1.263 0 0-1.193 0-.081.7538 0 0 .809.3665 1.355 1.7925 0 0 .7075 2.2002 4.105 1.4667 0 1.0188.02 1.9965.02 2.2818 0 .3258-.2222.713-.829.5905C3.4983 22.3472 0 17.7432 0 12.3042 0 5.5 5.4597 0 12.2135 0Z",size:24},close:{path:"M31.098 29.794 16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",size:32},warning:{path:"M13 14V9H11v5Zm0 2H11v2h2Zm8.884 3.5A1 1 0 0121 21H3a1 1 0 01-.884-1.468l9-17c.346-.654 1.422-.654 1.768 0Z",size:24},more:{path:"M3 8A1.5 1.5 0 110 8a1.5 1.5 0 013 0zm6.5 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM16 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z",size:16},questionMark:{path:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333S7.405 20.333 12 20.333 20.333 16.595 20.333 12c0-4.595-3.738-8.333-8.333-8.333ZM12 15.5a1 1 0 110 2 1 1 0 010-2Zm0-8.75a2.75 2.75 0 012.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 01-1.5 0c0-1.01.297-1.574 1.051-2.359l-.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 00-2.493-.128l-.007.128a.75.75 0 01-1.5 0A2.75 2.75 0 0112 6.75Z",size:24},dropdown:{path:"M20.4614 6.3469a1.506 1.506 90 00-2.1125.1919L12 14.1564 5.651 6.5389a1.4997 1.4997 90 10-2.3028 1.922l7.5004 9.0004a1.4992 1.4992 90 002.3028 0l7.5004-9.0005a1.5019 1.5019 90 00-.1904-2.1139Z",size:24},palette:{path:"M12 2c5.461 0 9.965 4.012 9.992 8.84 0 3.051-2.504 5.554-5.555 5.554H14.441a1.64 1.64 0 00-1.668 1.668c0 .473.148.836.438 1.125.257.29.437.688.437 1.125C13.648 21.254 12.926 22 12 22 6.5 22 2 17.5 2 12S6.5 2 12 2Z",size:24},duplicate:{path:"M15 3.5c0-.5-.5-1-1-1H11V1c0-.5-.5-1-1-1H2C1.5 0 1 .5 1 1V11.5c0 .5.5 1 1 1H4.5V15c0 .5.5 1 1 1H14c.5 0 1-.5 1-1ZM2.5 2c0-.25.25-.5.5-.5H9c.25 0 .5.25.5.5v8.5c0 .25-.25.5-.5.5H3c-.25 0-.5-.25-.5-.5Zm4 12.5c-.25 0-.5-.25-.5-.5V12.5h4c.5 0 1-.5 1-1V4h2c.25 0 .5.25.5.5V14c0 .25-.25.5-.5.5Z",size:16},terminal:{path:"M3.924 5.02a.75.75 0 011.056-.096l3 2.5a.75.75 0 010 1.152l-3 2.5a.75.75 0 11-.96-1.152L6.328 8 4.02 6.076A.75.75 0 013.924 5.02zM8.25 10.5a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3zM0 3.25A2.25 2.25 0 012.25 1h11.5A2.25 2.25 0 0116 3.25v9.5A2.25 2.25 0 0113.75 15H2.25A2.25 2.25 0 010 12.75v-9.5zm2.25-.75a.75.75 0 00-.75.75v9.5c0 .414.336.75.75.75h11.5a.75.75 0 00.75-.75v-9.5a.75.75 0 00-.75-.75H2.25z",size:16},customArtwork:{path:"M0 2v12a2 2 90 002 2h12a2 2 90 002-2V7.33l-1.33 1.33v5.33a.66.66 90 01-.66.66H2a.66.66 90 01-.66-.66V2A.66.66 90 012 1.34h9.66L13 0H2A2 2 90 000 2zm2.66 3.33C4.32 5 4.99 3.67 5.32 2.67h.33c.33 1 1 2.33 2.66 2.6v.33c-1.66.33-2.33 1.66-2.66 2.66h-.33c-.33-1-1-2.33-2.66-2.66zm13-2.66a1.33 1.33 90 00-1.66 0L7 9.33a0 0 90 000 0l-1.66 3a.33.33 90 00.33.33l3-1.66a0 0 90 000 0l7-7a1.33 1.33 90 000-1.33z",size:16},play:{path:"M3.3333 3.516c0-1.138 1.2173-1.8613 2.2167-1.318l8.2413 4.484c1.044.5687 1.044 2.0673 0 2.6353L5.55 13.8013C4.5507 14.3453 3.3333 13.6213 3.3333 12.484V3.516Z",size:16},pause:{path:"M3.8307 2A1.1667 1.1667 90 002.664 3.1667V12.8333C2.664 13.4773 3.1867 14 3.8307 14H6.164A1.1667 1.1667 90 007.3307 12.8333V3.1667A1.1667 1.1667 90 006.164 2H3.8307ZM9.8307 2A1.1667 1.1667 90 008.664 3.1667V12.8333C8.664 13.4773 9.1867 14 9.8307 14H12.164A1.1667 1.1667 90 0013.3307 12.8333V3.1667A1.1667 1.1667 90 0012.164 2H9.8307Z",size:16},power:{path:"M11.6081 2.2045c1.394.8028 2.484 2.0434 3.101 3.529.6169 1.4856.7264 3.1334.3112 4.6877-.4152 1.5542-1.3317 2.928-2.6072 3.9081-1.2755.9801-2.8389 1.5119-4.4478 1.5126-1.6086.0009-3.1726-.5292-4.4492-1.508S1.3216 11.9823.9049 10.4286c-.4168-1.5538-.3091-3.2017.3064-4.6879.6153-1.4863 1.704-2.728 3.0972-3.5323.3495-.2018.7963-.0821.998.2674.2018.3495.0821.7963-.2674.998-1.1146.6434-1.9855 1.6368-2.4779 2.8258-.4923 1.1891-.5785 2.5074-.2451 3.7504.3334 1.2429 1.0677 2.3412 2.0891 3.1243 1.0213.783 2.2725 1.2071 3.5593 1.2064 1.287-.0007 2.5377-.426 3.5582-1.2102 1.0204-.7842 1.7537-1.8832 2.0858-3.1264.3321-1.2433.2445-2.5616-.249-3.75-.4937-1.1885-1.3657-2.1809-2.4808-2.8232-.3497-.2014-.4699-.6481-.2685-.9978.2014-.3496.6481-.4699.9978-.2685ZM8.6922.7424v5.845c0 .4035-.3271.7306-.7306.7306s-.7306-.3271-.7306-.7306V.7424c0-.4035.3271-.7306.7306-.7306s.7306.3271.7306.7306Z",size:16},restart:{path:"M12.5002 8C12.5002 5.51472 10.4855 3.5 8.0002 3.5C6.66806 3.5 5.47057 4.07854 4.64593 5H6.2502C6.66441 5 7.0002 5.33579 7.0002 5.75C7.0002 6.16421 6.66441 6.5 6.2502 6.5H3.2502C2.83598 6.5 2.5002 6.16421 2.5002 5.75V2.75C2.5002 2.33579 2.83598 2 3.2502 2C3.66441 2 4.0002 2.33579 4.0002 2.75V3.52793C5.06126 2.57829 6.46302 2 8.0002 2C11.3139 2 14.0002 4.68629 14.0002 8C14.0002 11.3137 11.3139 14 8.0002 14C4.97538 14 2.47448 11.7624 2.06031 8.85192C2.00195 8.44184 2.28708 8.0621 2.69717 8.00374C3.10725 7.94538 3.48699 8.23052 3.54535 8.6406C3.8558 10.8222 5.73271 12.5 8.0002 12.5C10.4855 12.5 12.5002 10.4853 12.5002 8Z",size:16},reload:{path:"M3.5 8C3.5 5.51472 5.51472 3.5 8 3.5C9.33213 3.5 10.5296 4.07854 11.3543 5H9.75C9.33579 5 9 5.33579 9 5.75C9 6.16421 9.33579 6.5 9.75 6.5H12.75C13.1642 6.5 13.5 6.16421 13.5 5.75V2.75C13.5 2.33579 13.1642 2 12.75 2C12.3358 2 12 2.33579 12 2.75V3.52793C10.9389 2.57829 9.53718 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.0248 14 13.5257 11.7624 13.9399 8.85192C13.9982 8.44184 13.7131 8.0621 13.303 8.00374C12.8929 7.94538 12.5132 8.23052 12.4548 8.6406C12.1444 10.8222 10.2675 12.5 8 12.5C5.51472 12.5 3.5 10.4853 3.5 8Z",size:16},book:{path:"M2.75 2C1.7835 2 1 2.7835 1 3.75V12.25C1 13.2165 1.7835 14 2.75 14H6C6.78802 14 7.49862 13.6686 8 13.1375C8.50139 13.6686 9.21198 14 10 14H13.25C14.2165 14 15 13.2165 15 12.25V3.75C15 2.7835 14.2165 2 13.25 2H10C9.21199 2 8.50138 2.33144 8 2.86253C7.49862 2.33144 6.78801 2 6 2H2.75ZM7.25 4.75V11.25C7.25 11.9404 6.69036 12.5 6 12.5H2.75C2.61193 12.5 2.5 12.3881 2.5 12.25V3.75C2.5 3.61193 2.61193 3.5 2.75 3.5H6C6.69036 3.5 7.25 4.05964 7.25 4.75ZM8.75 11.25V4.75C8.75 4.05964 9.30964 3.5 10 3.5H13.25C13.3881 3.5 13.5 3.61193 13.5 3.75V12.25C13.5 12.3881 13.3881 12.5 13.25 12.5H10C9.30964 12.5 8.75 11.9404 8.75 11.25Z",size:16},code:{path:"M10.2912 2.2089c.4315.1918.6259.6971.4341 1.1286l-4.56 10.26c-.1918.4315-.6971.6259-1.1286.434-.4315-.1917-.6258-.697-.4341-1.1285l4.56-10.26c.1918-.4315.6971-.6258 1.1286-.4341ZM4.128 4.9162c.3529.3137.3847.8541.071 1.2071L2.424 8.1202l1.7751 1.997c.3137.3529.2819.8934-.071 1.207-.3529.3137-.8933.2819-1.2071-.0709L.641 8.6882c-.288-.3239-.288-.8121 0-1.1361l2.28-2.565c.3137-.3529.8541-.3847 1.2071-.071Zm7.9839 0c.3529-.3137.8934-.2819 1.2071.071l2.28 2.565c.2878.324.2878.8121 0 1.1361l-2.28 2.565c-.3137.3528-.8542.3846-1.2071.0709-.3529-.3136-.3846-.8541-.071-1.207l1.7751-1.997-1.7751-1.997c-.3136-.3529-.2819-.8933.071-1.2071Z",size:16},person:{path:"M8.11 1.325c1.2275-0 2.2225.995 2.2225 2.2225S9.3375 5.77 8.11 5.77c-1.2275 0-2.2225-.995-2.2225-2.2225 0-1.2275.995-2.2225 2.2225-2.2225Zm0-1.27c-1.9289 0-3.4925 1.5636-3.4925 3.4925S6.1811 7.04 8.11 7.04c1.9289 0 3.4925-1.5636 3.4925-3.4925C11.6025 1.6186 10.0389.055 8.11.055ZM12.555 9.58c.3506 0 .635.2843.635.635v.635c0 1.8258-1.8189 3.81-5.08 3.81-3.2612 0-5.08-1.9842-5.08-3.81v-.635c0-.3507.2843-.635.635-.635h8.89Zm0-1.27H3.665c-1.0521 0-1.905.8529-1.905 1.905v.635c0 2.5037 2.3616 5.08 6.35 5.08s6.35-2.5763 6.35-5.08v-.635c0-1.0521-.8529-1.905-1.905-1.905Z",size:16}},Um=t=>{let{path:e,size:n}=da[t],o=a=>{let s=(0,qc.c)(4),{size:c,fill:l}=a,y=c===void 0?n:c,m=l===void 0?"currentColor":l,g;s[0]===Symbol.for("react.memo_cache_sentinel")?(g=se("path",{d:e}),s[0]=g):g=s[0];let b;return s[1]!==m||s[2]!==y?(b=se("svg",{fill:m,height:y,role:"img",viewBox:`0 0 ${n} ${n}`,width:y,children:g}),s[1]=m,s[2]=y,s[3]=b):b=s[3],b};return o.defaultProps={size:n,fill:"currentColor"},o},{raw:Zm,react:Wm,html:qm}=Object.keys(da).reduce((t,e)=>(t.raw[e]=da[e].path,t.react[e]=Um(e),t.html[e]=`<path d="${da[e].path}"/>`,t),{raw:{},react:{},html:{}}),vt={React:Wm,HTML:qm,RAW:Zm};var Vc=qt(on());rn();var{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:x0,createPortal:E0,createRoot:Hc,findDOMNode:C0,flushSync:S0,hydrate:T0,hydrateRoot:k0,render:I0,unmountComponentAtNode:M0,unstable_batchedUpdates:O0,unstable_renderSubtreeIntoContainer:R0,version:P0}=Spicetify.ReactDOM,A0=Spicetify.ReactDOM;var Gc=new CSSStyleSheet;Gc.replaceSync(".modal{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:rgba(var(--spice-rgb-shadow),.5)}.modal__container{display:flex;flex-direction:column;width:500px;max-height:500px;background-color:rgba(var(--spice-rgb-main),.9);border-radius:6px;box-shadow:0 0 20px rgba(var(--spice-rgb-shadow),.5);backdrop-filter:blur(20px) saturate(1.4) brightness(1.2)}.modal__container--large{width:clamp(550px,60vw,650px);max-height:80vh}.modal__header{display:flex;justify-content:space-between;padding:32px 32px 8px;border-bottom:1px solid rgba(var(--spice-rgb-selected-row),.1)}.modal__titleContainer{display:flex;gap:8px}.modal__icon{display:flex;align-items:center}.modal__title{display:flex}.modal__buttonContainer{display:flex;gap:8px;align-items:center}.modal__buttonContainer .modal__button{height:32px;padding:8px;cursor:pointer;background-color:var(--spice-highlight);border:0;border-radius:8px}.modal__buttonContainer .modal__button:hover{transform:scale(1.1)}.modal__buttonContainer .modal__button:active{transform:scale(.9)}.modal__content{display:flex;padding:16px 24px;overflow:auto;scrollbar-gutter:stable both-edges}.modal__content>*{width:100%}");var Qc=Gc;document.adoptedStyleSheets.push(Qc);var Ni=null,zs="popup-modal-container",Fs=()=>{let t=document.getElementById(zs);Ni&&(Ni.unmount(),Ni=null),t&&t.remove(),document.body.style.overflow="auto"},Hm=st(t=>{let e=(0,Vc.c)(44),{title:n,content:o,isLarge:a,buttons:s,icon:c,template:l,onClose:y}=t,m=nn(null),g,b;e[0]!==y?(g=()=>{document.body.style.overflow="hidden";let ge=xe=>{xe.key==="Escape"&&(xe.preventDefault(),y())};return document.addEventListener("keydown",ge),()=>{document.removeEventListener("keydown",ge)}},b=[y],e[0]=y,e[1]=g,e[2]=b):(g=e[1],b=e[2]),nr(g,b);let x;e[3]!==y?(x=()=>{y()},e[3]=y,e[4]=x):x=e[4];let T=x,O;e[5]!==T?(O=ge=>{ge.target===m.current&&T()},e[5]=T,e[6]=O):O=e[6];let A=O,j;e[7]!==o?(j=()=>$s(o)?o:typeof o=="function"?se(o,{}):o,e[7]=o,e[8]=j):j=e[8];let Q=j;if(l===!0){let ge=`modal__container${a?" modal__container--large":""}`,xe;e[9]!==c?(xe=c&&se("div",{className:"modal__icon",children:c}),e[9]=c,e[10]=xe):xe=e[10];let we;e[11]!==n?(we=n&&se("h1",{className:"modal__title",children:n}),e[11]=n,e[12]=we):we=e[12];let ye;e[13]!==xe||e[14]!==we?(ye=Ke("div",{className:"modal__titleContainer",children:[xe,we]}),e[13]=xe,e[14]=we,e[15]=ye):ye=e[15];let U;e[16]===Symbol.for("react.memo_cache_sentinel")?(U=se(vt.React.close,{size:18}),e[16]=U):U=e[16];let V;e[17]!==T?(V=se(Spicetify.ReactComponent.TooltipWrapper,{label:"Close",placement:"top",children:se("button",{className:"modal__button modal__button--close",onClick:T,children:U})}),e[17]=T,e[18]=V):V=e[18];let H;e[19]!==s||e[20]!==V?(H=Ke("div",{className:"modal__buttonContainer",children:[s,V]}),e[19]=s,e[20]=V,e[21]=H):H=e[21];let fe;e[22]!==H||e[23]!==ye?(fe=Ke("div",{className:"modal__header",children:[ye,H]}),e[22]=H,e[23]=ye,e[24]=fe):fe=e[24];let D;e[25]!==Q?(D=Q(),e[25]=Q,e[26]=D):D=e[26];let B;e[27]!==D?(B=se("div",{className:"modal__content",children:D}),e[27]=D,e[28]=B):B=e[28];let f;e[29]!==fe||e[30]!==B||e[31]!==ge?(f=Ke("div",{className:ge,children:[fe,B]}),e[29]=fe,e[30]=B,e[31]=ge,e[32]=f):f=e[32];let p;return e[33]!==A||e[34]!==f?(p=se("div",{className:"modal",onClick:A,ref:m,children:f}),e[33]=A,e[34]=f,e[35]=p):p=e[35],p}let ne=`modal__container${a?" modal__container--large":""}`,re;e[36]!==Q?(re=Q(),e[36]=Q,e[37]=re):re=e[37];let ce;e[38]!==ne||e[39]!==re?(ce=se("div",{className:ne,children:re}),e[38]=ne,e[39]=re,e[40]=ce):ce=e[40];let me;return e[41]!==A||e[42]!==ce?(me=se("div",{className:"modal",onClick:A,ref:m,children:ce}),e[41]=A,e[42]=ce,e[43]=me):me=e[43],me}),Tr=t=>{document.getElementById(zs)&&Fs();let e=document.createElement("div");e.id=zs,document.body.appendChild(e),Ni=Hc(e),Ni.render(se(Hm,{...t,onClose:Fs}))};Tr.hide=Fs;var yr=qt(on());var F=qt(Xc()),Qt=F.default.BigInt(0),eo=F.default.BigInt(1),Nu=F.default.BigInt(2),Gm=F.default.BigInt(10),Qm=F.default.BigInt(24),Vm=F.default.BigInt(60),Xm=F.default.BigInt(1e3),_o=F.default.BigInt(1e6),Hi=F.default.BigInt(1e9),Pl=F.default.multiply(F.default.BigInt(3600),Hi),Jm=F.default.multiply(Vm,Hi),ur=F.default.multiply(Pl,Qm);function An(t){return typeof t=="bigint"?F.default.BigInt(t.toString(10)):t}function Al(t){return F.default.equal(F.default.remainder(t,Nu),Qt)}function kr(t){return F.default.lessThan(t,Qt)?F.default.unaryMinus(t):t}function pa(t,e){return F.default.lessThan(t,e)?-1:F.default.greaterThan(t,e)?1:0}function Yi(t,e){return{quotient:F.default.divide(t,e),remainder:F.default.remainder(t,e)}}var Jc,el,Oe="slot-epochNanoSeconds",Re="slot-iso-date",Ve="slot-iso-date-time",nt="slot-time",ue="slot-calendar",$l="slot-date-brand",Nl="slot-year-month-brand",jl="slot-month-day-brand",We="slot-time-zone",Ct="slot-years",St="slot-months",Yt="slot-weeks",Tt="slot-days",kt="slot-hours",It="slot-minutes",Mt="slot-seconds",Ot="slot-milliseconds",Rt="slot-microseconds",zt="slot-nanoseconds",Bl="date",Ll="ym",Yl="md",zl="time",Fl="datetime",Kl="instant",Lr="original",ti="timezone-canonical",Qs="timezone-original",zi="calendar-id",Ul="locale",Vs="options",Zl=new WeakMap,Xs=Symbol.for("@@Temporal__GetSlots");(Jc=globalThis)[Xs]||(Jc[Xs]=function(t){return Zl.get(t)});var Oa=globalThis[Xs],Js=Symbol.for("@@Temporal__CreateSlots");(el=globalThis)[Js]||(el[Js]=function(t){Zl.set(t,Object.create(null))});var Zn=globalThis[Js];function jt(t,...e){if(!t||typeof t!="object")return!1;let n=Oa(t);return!!n&&e.every(o=>o in n)}function _(t,e){let n=Oa(t)?.[e];if(n===void 0)throw new TypeError(`Missing internal slot ${e}`);return n}function Be(t,e,n){let o=Oa(t);if(o===void 0)throw new TypeError("Missing slots for the given container");if(o[e])throw new TypeError(`${e} already has set`);o[e]=n}var eu={};function Wn(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});let n=Object.getOwnPropertyNames(t);for(let a=0;a<n.length;a++){let s=n[a],c=Object.getOwnPropertyDescriptor(t,s);c.configurable&&c.enumerable&&(c.enumerable=!1,Object.defineProperty(t,s,c))}let o=Object.getOwnPropertyNames(t.prototype);for(let a=0;a<o.length;a++){let s=o[a],c=Object.getOwnPropertyDescriptor(t.prototype,s);c.configurable&&c.enumerable&&(c.enumerable=!1,Object.defineProperty(t.prototype,s,c))}tu(e,t),tu(`${e}.prototype`,t.prototype)}function tu(t,e){let n=`%${t}%`;if(eu[n]!==void 0)throw new Error(`intrinsic ${t} already exists`);eu[n]=e}function pt(t){return eu[t]}function ri(t,e){let n=t;if(n===0)return{div:n,mod:n};let o=Math.sign(n);n=Math.abs(n);let a=Math.trunc(1+Math.log10(n));if(e>=a)return{div:0*o,mod:o*n};if(e===0)return{div:o*n,mod:0*o};let s=n.toPrecision(a);return{div:o*Number.parseInt(s.slice(0,a-e),10),mod:o*Number.parseInt(s.slice(a-e),10)}}function Zs(t,e,n){let o=t,a=n;if(o===0)return a;let s=Math.sign(o)||Math.sign(a);o=Math.abs(o),a=Math.abs(a);let c=o.toPrecision(Math.trunc(1+Math.log10(o)));if(a===0)return s*Number.parseInt(c+"0".repeat(e),10);let l=c+a.toPrecision(Math.trunc(1+Math.log10(a))).padStart(e,"0");return s*Number.parseInt(l,10)}function Ra(t,e){let n=e==="negative";switch(t){case"ceil":return n?"zero":"infinity";case"floor":return n?"infinity":"zero";case"expand":return"infinity";case"trunc":return"zero";case"halfCeil":return n?"half-zero":"half-infinity";case"halfFloor":return n?"half-infinity":"half-zero";case"halfExpand":return"half-infinity";case"halfTrunc":return"half-zero";case"halfEven":return"half-even"}}function Pa(t,e,n,o,a){return a==="zero"?t:a==="infinity"?e:n<0?t:n>0?e:a==="half-zero"?t:a==="half-infinity"?e:o?t:e}var Ge=class t{constructor(e){this.totalNs=An(e),this.sec=F.default.toNumber(F.default.divide(this.totalNs,Hi)),this.subsec=F.default.toNumber(F.default.remainder(this.totalNs,Hi))}static validateNew(e,n){if(F.default.greaterThan(kr(e),t.MAX))throw new RangeError(`${n} of duration time units cannot exceed ${t.MAX} s`);return new t(e)}static fromEpochNsDiff(e,n){let o=F.default.subtract(An(e),An(n));return new t(o)}static fromComponents(e,n,o,a,s,c){let l=F.default.add(F.default.add(F.default.add(F.default.add(F.default.add(F.default.BigInt(c),F.default.multiply(F.default.BigInt(s),Xm)),F.default.multiply(F.default.BigInt(a),_o)),F.default.multiply(F.default.BigInt(o),Hi)),F.default.multiply(F.default.BigInt(n),Jm)),F.default.multiply(F.default.BigInt(e),Pl));return t.validateNew(l,"total")}abs(){return new t(kr(this.totalNs))}add(e){return t.validateNew(F.default.add(this.totalNs,e.totalNs),"sum")}add24HourDays(e){return t.validateNew(F.default.add(this.totalNs,F.default.multiply(F.default.BigInt(e),ur)),"sum")}addToEpochNs(e){return F.default.add(An(e),this.totalNs)}cmp(e){return pa(this.totalNs,e.totalNs)}divmod(e){let{quotient:n,remainder:o}=Yi(this.totalNs,F.default.BigInt(e));return{quotient:F.default.toNumber(n),remainder:new t(o)}}fdiv(e){let n=An(e),o=F.default.BigInt(n),{quotient:a,remainder:s}=Yi(this.totalNs,o),c=[],l,y=(F.default.lessThan(this.totalNs,Qt)?-1:1)*Math.sign(F.default.toNumber(n));for(;!F.default.equal(s,Qt)&&c.length<50;)s=F.default.multiply(s,Gm),{quotient:l,remainder:s}=Yi(s,o),c.push(Math.abs(F.default.toNumber(l)));return y*+(kr(a).toString()+"."+c.join(""))}isZero(){return F.default.equal(this.totalNs,Qt)}round(e,n){let o=An(e);if(F.default.equal(o,eo))return this;let{quotient:a,remainder:s}=Yi(this.totalNs,o),c=F.default.lessThan(this.totalNs,Qt)?"negative":"positive",l=F.default.multiply(kr(a),o),y=F.default.add(l,o),m=pa(kr(F.default.multiply(s,Nu)),o),g=Ra(n,c),b=F.default.equal(kr(this.totalNs),l)?l:Pa(l,y,m,Al(a),g),x=c==="positive"?b:F.default.unaryMinus(b);return t.validateNew(x,"rounding")}sign(){return this.cmp(new t(Qt))}subtract(e){return t.validateNew(F.default.subtract(this.totalNs,e.totalNs),"difference")}};Ge.MAX=F.default.BigInt("9007199254740991999999999"),Ge.ZERO=new Ge(Qt);var tl=/[A-Za-z._][A-Za-z._0-9+-]*/,bo=new RegExp(`(?:${/(?:[+-](?:[01][0-9]|2[0-3])(?::?[0-5][0-9])?)/.source}|(?:${tl.source})(?:\\/(?:${tl.source}))*)`),Wl=/(?:[+-]\d{6}|\d{4})/,ya=/(?:0[1-9]|1[0-2])/,nu=/(?:0[1-9]|[12]\d|3[01])/,ep=new RegExp(`(${Wl.source})(?:-(${ya.source})-(${nu.source})|(${ya.source})(${nu.source}))`),ql=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Hl=/((?:[+-])(?:[01][0-9]|2[0-3])(?::?(?:[0-5][0-9])(?::?(?:[0-5][0-9])(?:[.,](?:\d{1,9}))?)?)?)/,Gl=new RegExp(`([zZ])|${Hl.source}?`),si=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,tp=new RegExp([`^${ep.source}`,`(?:(?:[tT]|\\s+)${ql.source}(?:${Gl.source})?)?`,`(?:\\[!?(${bo.source})\\])?`,`((?:${si.source})*)$`].join("")),np=new RegExp([`^[tT]?${ql.source}`,`(?:${Gl.source})?`,`(?:\\[!?${bo.source}\\])?`,`((?:${si.source})*)$`].join("")),rp=new RegExp(`^(${Wl.source})-?(${ya.source})(?:\\[!?${bo.source}\\])?((?:${si.source})*)$`),ip=new RegExp(`^(?:--)?(${ya.source})-?(${nu.source})(?:\\[!?${bo.source}\\])?((?:${si.source})*)$`),Ws=/(\d+)(?:[.,](\d{1,9}))?/,op=new RegExp(`(?:${Ws.source}H)?(?:${Ws.source}M)?(?:${Ws.source}S)?`),ap=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${op.source})?$`,"i"),cr=864e5,ga=1e6*cr,sp=6e10,Ql=1e8*cr,ui=yn(Ql),to=F.default.unaryMinus(ui),up=F.default.add(F.default.subtract(to,ur),eo),cp=F.default.subtract(F.default.add(ui,ur),eo),lp=146097*cr,nl=-271821,rl=275760,Gi=Date.UTC(1847,0,1),fp=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","ethiopic-amete-alem","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"],dp=new Set(["ACT","AET","AGT","ART","AST","BET","BST","CAT","CNT","CST","CTT","EAT","ECT","IET","IST","JST","MIT","NET","NST","PLT","PNT","PRT","PST","SST","VST"]);function rt(t){return typeof t=="object"&&t!==null||typeof t=="function"}function Aa(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return Number(t)}function $a(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return String(t)}function Ae(t){let e=Aa(t);if(e===0)return 0;if(Number.isNaN(e)||e===1/0||e===-1/0)throw new RangeError("invalid number value");let n=Math.trunc(e);return n===0?0:n}function il(t,e){let n=Ae(t);if(n<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function mn(t){let e=Aa(t);if(Number.isNaN(e))throw new RangeError("not a number");if(e===1/0||e===-1/0)throw new RangeError("infinity is out of range");if(!(function(n){if(typeof n!="number"||Number.isNaN(n)||n===1/0||n===-1/0)return!1;let o=Math.abs(n);return Math.floor(o)===o})(e))throw new RangeError(`unsupported fractional value ${t}`);return e===0?0:e}function no(t,e){return String(t).padStart(e,"0")}function ut(t){if(typeof t!="string")throw new TypeError(`expected a string, not ${String(t)}`);return t}function ru(t,e){if(rt(t)){let n=t?.toString();if(typeof n=="string"||typeof n=="number")return n;throw new TypeError("Cannot convert object to primitive value")}return t}var iu=["era","eraYear","year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond","offset","timeZone"],hp={era:$a,eraYear:Ae,year:Ae,month:il,monthCode:function(t){let e=ut(ru(t));if(e.length<3||e.length>4||e[0]!=="M"||"0123456789".indexOf(e[1])===-1||"0123456789".indexOf(e[2])===-1||e[1]+e[2]==="00"&&e[3]!=="L"||e[3]!=="L"&&e[3]!==void 0)throw new RangeError(`bad month code ${e}; must match M01-M99 or M00L-M99L`);return e},day:il,hour:Ae,minute:Ae,second:Ae,millisecond:Ae,microsecond:Ae,nanosecond:Ae,offset:function(t){let e=ut(ru(t));return gi(e),e},timeZone:$t},mp={hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0},ci=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],ol=Object.fromEntries(ci.map(t=>[t[0],t[1]])),pp=Object.fromEntries(ci.map(([t,e])=>[e,t])),Qi=ci.map(([,t])=>t),li={day:ga,hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},va=["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],yp=Intl.DateTimeFormat,al=new Map;function Vl(t){let e=so(t),n=al.get(e);return n===void 0&&(n=new yp("en-us",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),al.set(e,n)),n}function dt(t){return jt(t,Oe)&&!jt(t,We,ue)}function et(t){return jt(t,Ct,St,Tt,kt,It,Mt,Ot,Rt,zt)}function tt(t){return jt(t,$l)}function ot(t){return jt(t,nt)}function Qe(t){return jt(t,Ve)}function ht(t){return jt(t,Nl)}function Gt(t){return jt(t,jl)}function Le(t){return jt(t,Oe,We,ue)}function K(t,e){if(!e(t))throw new TypeError("invalid receiver: method called with the wrong type of this-object")}function mi(t){if(jt(t,ue)||jt(t,We))throw new TypeError("with() does not support a calendar or timeZone property");if(ot(t))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function wo(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${t}]`}function Na(t){let e,n,o=!1;for(si.lastIndex=0;n=si.exec(t);){let{1:a,2:s,3:c}=n;if(s==="u-ca"){if(e===void 0)e=c,o=a==="!";else if(a==="!"||o)throw new RangeError(`Invalid annotations in ${t}: more than one u-ca present with critical flag`)}else if(a==="!")throw new RangeError(`Unrecognized annotation: !${s}=${c}`)}return e}function Mn(t){let e=tp.exec(t);if(!e)throw new RangeError(`invalid RFC 9557 string: ${t}`);let n=Na(e[16]),o=e[1];if(o==="-000000")throw new RangeError(`invalid RFC 9557 string: ${t}`);let a=+o,s=+(e[2]??e[4]??1),c=+(e[3]??e[5]??1),l=e[6]!==void 0,y=+(e[6]??0),m=+(e[7]??e[10]??0),g=+(e[8]??e[11]??0);g===60&&(g=59);let b=(e[9]??e[12]??"")+"000000000",x=+b.slice(0,3),T=+b.slice(3,6),O=+b.slice(6,9),A,j=!1;e[13]?(A=void 0,j=!0):e[14]&&(A=e[14]);let Q=e[15];return Fu(a,s,c,y,m,g,x,T,O),{year:a,month:s,day:c,time:l?{hour:y,minute:m,second:g,millisecond:x,microsecond:T,nanosecond:O}:"start-of-day",tzAnnotation:Q,offset:A,z:j,calendar:n}}function Xl(t){let e=np.exec(t),n,o,a,s,c,l,y;if(e){y=Na(e[10]),n=+(e[1]??0),o=+(e[2]??e[5]??0),a=+(e[3]??e[6]??0),a===60&&(a=59);let m=(e[4]??e[7]??"")+"000000000";if(s=+m.slice(0,3),c=+m.slice(3,6),l=+m.slice(6,9),e[8])throw new RangeError("Z designator not supported for PlainTime")}else{let m,g;if({time:m,z:g,calendar:y}=Mn(t),m==="start-of-day")throw new RangeError(`time is missing in string: ${t}`);if(g)throw new RangeError("Z designator not supported for PlainTime");({hour:n,minute:o,second:a,millisecond:s,microsecond:c,nanosecond:l}=m)}if(Ya(n,o,a,s,c,l),/[tT ][0-9][0-9]/.test(t))return{hour:n,minute:o,second:a,millisecond:s,microsecond:c,nanosecond:l,calendar:y};try{let{month:m,day:g}=Bu(t);Pr(1972,m,g)}catch{try{let{year:m,month:g}=ju(t);Pr(m,g,1)}catch{return{hour:n,minute:o,second:a,millisecond:s,microsecond:c,nanosecond:l,calendar:y}}}throw new RangeError(`invalid RFC 9557 time-only string ${t}; may need a T prefix`)}function ju(t){let e=rp.exec(t),n,o,a,s;if(e){a=Na(e[3]);let c=e[1];if(c==="-000000")throw new RangeError(`invalid RFC 9557 string: ${t}`);if(n=+c,o=+e[2],s=1,a!==void 0&&a!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let c;if({year:n,month:o,calendar:a,day:s,z:c}=Mn(t),c)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:o,calendar:a,referenceISODay:s}}function Bu(t){let e=ip.exec(t),n,o,a,s;if(e){if(a=Na(e[3]),n=+e[1],o=+e[2],a!==void 0&&a!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let c;if({month:n,day:o,calendar:a,year:s,z:c}=Mn(t),c)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:o,calendar:a,referenceISOYear:s}}var Jl=new RegExp(`^${bo.source}$`,"i"),ef=new RegExp(`^${/([+-])([01][0-9]|2[0-3])(?::?([0-5][0-9])?)?/.source}$`);function tf(t){let e=vp.test(t)?"Seconds not allowed in offset time zone":"Invalid time zone";throw new RangeError(`${e}: ${t}`)}function sr(t){return Jl.test(t)||tf(t),ef.test(t)?{offsetMinutes:gi(t)/6e10}:{tzName:t}}function Vi(t,e,n,o){let a=t,s=e,c=n;switch(o){case"reject":Pr(a,s,c);break;case"constrain":({year:a,month:s,day:c}=_f(a,s,c))}return{year:a,month:s,day:c}}function ja(t,e,n,o,a,s,c){let l=t,y=e,m=n,g=o,b=a,x=s;switch(c){case"reject":Ya(l,y,m,g,b,x);break;case"constrain":l=Pt(l,0,23),y=Pt(y,0,59),m=Pt(m,0,59),g=Pt(g,0,999),b=Pt(b,0,999),x=Pt(x,0,999)}return{hour:l,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:x}}function nf(t){if(!rt(t))throw new TypeError("invalid duration-like");let e={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},n=!1;for(let o=0;o<va.length;o++){let a=va[o],s=t[a];s!==void 0&&(n=!0,e[a]=mn(s))}if(!n)throw new TypeError("invalid duration-like");return e}function bt({years:t,months:e,weeks:n,days:o},a,s,c){return{years:t,months:c??e,weeks:s??n,days:a??o}}function Ze(t,e){return{isoDate:t,time:e}}function Ue(t){return zn(t,"overflow",["constrain","reject"],"constrain")}function Xi(t){return zn(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function gn(t,e){return zn(t,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function ma(t,e){return zn(t,"offset",["prefer","use","ignore","reject"],e)}function Do(t){return zn(t,"calendarName",["auto","always","never","critical"],"auto")}function pi(t){let e=t.roundingIncrement;if(e===void 0)return 1;let n=Ae(e);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return n}function yi(t,e,n){let o=n?e:e-1;if(t>o)throw new RangeError(`roundingIncrement must be at least 1 and less than ${o}, not ${t}`);if(e%t!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function xo(t){let e=t.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if($a(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}let n=Math.floor(e);if(!Number.isFinite(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return n}function Eo(t,e){switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}var Kn=Symbol("~required~");function Kt(t,e,n,o,a=[]){let s=[];for(let m=0;m<ci.length;m++){let g=ci[m],b=g[1],x=g[2];n!=="datetime"&&n!==x||s.push(b)}s=s.concat(a);let c=o;c===Kn?c=void 0:c!==void 0&&s.push(c);let l=[];l=l.concat(s);for(let m=0;m<s.length;m++){let g=s[m],b=pp[g];b!==void 0&&l.push(b)}let y=zn(t,e,l,c);if(y===void 0&&o===Kn)throw new RangeError(`${e} is required`);return y&&y in ol?ol[y]:y}function qs(t){let e=t.relativeTo;if(e===void 0)return{};let n,o,a,s,c,l="option",y=!1;if(rt(e)){if(Le(e))return{zonedRelativeTo:e};if(tt(e))return{plainRelativeTo:e};if(Qe(e))return{plainRelativeTo:At(_(e,Ve).isoDate,_(e,ue))};a=Io(e);let m=en(a,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond","offset","timeZone"],[]);({isoDate:n,time:o}=So(a,m,"constrain")),{offset:c,timeZone:s}=m,c===void 0&&(l="wall")}else{let m,g,b,x,T;if({year:b,month:x,day:T,time:o,calendar:a,tzAnnotation:m,offset:c,z:g}=Mn(ut(e)),m)s=$t(m),g?l="exact":c||(l="wall"),y=!0;else if(g)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");a||(a="iso8601"),a=Bt(a),n={year:b,month:x,day:T}}return s===void 0?{plainRelativeTo:At(n,a)}:{zonedRelativeTo:_t(_a(n,o,l,l==="option"?gi(c):0,s,"compatible","reject",y),s,a)}}function $n(t){return _(t,Ct)!==0?"year":_(t,St)!==0?"month":_(t,Yt)!==0?"week":_(t,Tt)!==0?"day":_(t,kt)!==0?"hour":_(t,It)!==0?"minute":_(t,Mt)!==0?"second":_(t,Ot)!==0?"millisecond":_(t,Rt)!==0?"microsecond":"nanosecond"}function Ln(t,e){return Qi.indexOf(t)>Qi.indexOf(e)?e:t}function xn(t){return t==="year"||t==="month"||t==="week"}function Nn(t){return xn(t)||t==="day"?"date":"time"}function dr(t){return pt("%calendarImpl%")(t)}function Co(t){return pt("%calendarImpl%")(_(t,ue))}function Nt(t,e,n="date"){let o=Object.create(null),a=dr(t).isoToDate(e,{year:!0,monthCode:!0,day:!0});return o.monthCode=a.monthCode,n!=="month-day"&&n!=="date"||(o.day=a.day),n!=="year-month"&&n!=="date"||(o.year=a.year),o}function en(t,e,n,o,a){let s=dr(t).extraFields(n),c=n.concat(o,s),l=Object.create(null),y=!1;c.sort();for(let m=0;m<c.length;m++){let g=c[m],b=e[g];if(b!==void 0)y=!0,l[g]=(0,hp[g])(b);else if(a!=="partial"){if(a.includes(g))throw new TypeError(`required property '${g}' missing or undefined`);l[g]=mp[g]}}if(a==="partial"&&!y)throw new TypeError("no supported properties found");return l}function ou(t,e="complete"){let n=["hour","microsecond","millisecond","minute","nanosecond","second"],o=!1,a=Object.create(null);for(let s=0;s<n.length;s++){let c=n[s],l=t[c];l!==void 0?(a[c]=Ae(l),o=!0):e==="complete"&&(a[c]=0)}if(!o)throw new TypeError("invalid time-like");return a}function Fi(t,e){if(rt(t)){if(tt(t))return Ue(Se(e)),At(_(t,Re),_(t,ue));if(Le(t)){let y=cn(_(t,We),_(t,Oe));return Ue(Se(e)),At(y.isoDate,_(t,ue))}if(Qe(t))return Ue(Se(e)),At(_(t,Ve).isoDate,_(t,ue));let l=Io(t);return At(lr(l,en(l,t,["year","month","monthCode","day"],[],[]),Ue(Se(e))),l)}let{year:n,month:o,day:a,calendar:s,z:c}=Mn(ut(t));if(c)throw new RangeError("Z designator not supported for PlainDate");return s||(s="iso8601"),s=Bt(s),Ue(Se(e)),At({year:n,month:o,day:a},s)}function So(t,e,n){return Ze(lr(t,e,n),ja(e.hour,e.minute,e.second,e.millisecond,e.microsecond,e.nanosecond,n))}function Ki(t,e){let n,o,a;if(rt(t)){if(Qe(t))return Ue(Se(e)),an(_(t,Ve),_(t,ue));if(Le(t)){let l=cn(_(t,We),_(t,Oe));return Ue(Se(e)),an(l,_(t,ue))}if(tt(t))return Ue(Se(e)),an(Ze(_(t,Re),{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),_(t,ue));a=Io(t);let s=en(a,t,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond"],[]),c=Ue(Se(e));({isoDate:n,time:o}=So(a,s,c))}else{let s,c,l,y;if({year:c,month:l,day:y,time:o,calendar:a,z:s}=Mn(ut(t)),s)throw new RangeError("Z designator not supported for PlainDateTime");o==="start-of-day"&&(o={deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),Fu(c,l,y,o.hour,o.minute,o.second,o.millisecond,o.microsecond,o.nanosecond),a||(a="iso8601"),a=Bt(a),Ue(Se(e)),n={year:c,month:l,day:y}}return an(Ze(n,o),a)}function un(t){let e=pt("%Temporal.Duration%");if(et(t))return new e(_(t,Ct),_(t,St),_(t,Yt),_(t,Tt),_(t,kt),_(t,It),_(t,Mt),_(t,Ot),_(t,Rt),_(t,zt));if(!rt(t))return(function(a){let{years:s,months:c,weeks:l,days:y,hours:m,minutes:g,seconds:b,milliseconds:x,microseconds:T,nanoseconds:O}=(function(A){let j=ap.exec(A);if(!j)throw new RangeError(`invalid duration: ${A}`);if(j.every((E,I)=>I<2||E===void 0))throw new RangeError(`invalid duration: ${A}`);let Q=j[1]==="-"?-1:1,ne=j[2]===void 0?0:Ae(j[2])*Q,re=j[3]===void 0?0:Ae(j[3])*Q,ce=j[4]===void 0?0:Ae(j[4])*Q,me=j[5]===void 0?0:Ae(j[5])*Q,ge=j[6]===void 0?0:Ae(j[6])*Q,xe=j[7],we=j[8],ye=j[9],U=j[10],V=j[11],H=0,fe=0,D=0;if(xe!==void 0){if(we??ye??U??V)throw new RangeError("only the smallest unit can be fractional");D=3600*Ae((xe+"000000000").slice(0,9))*Q}else if(H=we===void 0?0:Ae(we)*Q,ye!==void 0){if(U??V)throw new RangeError("only the smallest unit can be fractional");D=60*Ae((ye+"000000000").slice(0,9))*Q}else fe=U===void 0?0:Ae(U)*Q,V!==void 0&&(D=Ae((V+"000000000").slice(0,9))*Q);let B=D%1e3,f=Math.trunc(D/1e3)%1e3,p=Math.trunc(D/1e6)%1e3;return fe+=Math.trunc(D/1e9)%60,H+=Math.trunc(D/6e10),za(ne,re,ce,me,ge,H,fe,p,f,B),{years:ne,months:re,weeks:ce,days:me,hours:ge,minutes:H,seconds:fe,milliseconds:p,microseconds:f,nanoseconds:B}})(a);return new(pt("%Temporal.Duration%"))(s,c,l,y,m,g,b,x,T,O)})(ut(t));let n={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},o=nf(t);for(let a=0;a<va.length;a++){let s=va[a],c=o[s];c!==void 0&&(n[s]=c)}return new e(n.years,n.months,n.weeks,n.days,n.hours,n.minutes,n.seconds,n.milliseconds,n.microseconds,n.nanoseconds)}function Ui(t){let e;if(rt(t)){if(dt(t)||Le(t))return pn(_(t,Oe));e=ru(t)}else e=t;let{year:n,month:o,day:a,time:s,offset:c,z:l}=(function(A){let j=Mn(A);if(!j.z&&!j.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return j})(ut(e)),{hour:y=0,minute:m=0,second:g=0,millisecond:b=0,microsecond:x=0,nanosecond:T=0}=s==="start-of-day"?{}:s,O=ao(n,o,a,y,m,g,b,x,T-(l?0:gi(c)));return ai(O.isoDate),pn(mt(O))}function sl(t,e){if(rt(t)){if(Gt(t))return Ue(Se(e)),ii(_(t,Re),_(t,ue));let l;return jt(t,ue)?l=_(t,ue):(l=t.calendar,l===void 0&&(l="iso8601"),l=ko(l)),ii(ba(l,en(l,t,["year","month","monthCode","day"],[],[]),Ue(Se(e))),l)}let{month:n,day:o,referenceISOYear:a,calendar:s}=Bu(ut(t));if(s===void 0&&(s="iso8601"),s=Bt(s),Ue(Se(e)),s==="iso8601")return ii({year:1972,month:n,day:o},s);let c={year:a,month:n,day:o};return Yr(c),c=ba(s,Nt(s,c,"month-day"),"constrain"),ii(c,s)}function or(t,e){let n;if(rt(t)){if(ot(t))return Ue(Se(e)),jn(_(t,nt));if(Qe(t))return Ue(Se(e)),jn(_(t,Ve).time);if(Le(t)){let m=cn(_(t,We),_(t,Oe));return Ue(Se(e)),jn(m.time)}let{hour:o,minute:a,second:s,millisecond:c,microsecond:l,nanosecond:y}=ou(t);n=ja(o,a,s,c,l,y,Ue(Se(e)))}else n=Xl(ut(t)),Ue(Se(e));return jn(n)}function rf(t){return t===void 0?{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}:_(or(t),nt)}function Zi(t,e){if(rt(t)){if(ht(t))return Ue(Se(e)),oi(_(t,Re),_(t,ue));let l=Io(t);return oi(ro(l,en(l,t,["year","month","monthCode"],[],[]),Ue(Se(e))),l)}let{year:n,month:o,referenceISODay:a,calendar:s}=ju(ut(t));s===void 0&&(s="iso8601"),s=Bt(s),Ue(Se(e));let c={year:n,month:o,day:a};return Ku(c),c=ro(s,Nt(s,c,"year-month"),"constrain"),oi(c,s)}function _a(t,e,n,o,a,s,c,l){if(e==="start-of-day")return rr(a,t);let y=Ze(t,e);if(n==="wall"||c==="ignore")return wt(a,y,s);if(n==="exact"||c==="use"){let b=ao(t.year,t.month,t.day,e.hour,e.minute,e.second,e.millisecond,e.microsecond,e.nanosecond-o);ai(b.isoDate);let x=mt(b);return kn(x),x}ai(t);let m=mt(y),g=io(a,y);for(let b=0;b<g.length;b++){let x=g[b],T=F.default.toNumber(F.default.subtract(m,x)),O=ar(T,6e10,"halfExpand");if(T===o||l&&O===o)return x}if(c==="reject"){let b=au(o),x=oo(y,"iso8601","auto");throw new RangeError(`Offset ${b} is invalid for ${x} in ${a}`)}return hf(g,a,y,s)}function Wi(t,e){let n,o,a,s,c,l,y,m=!1,g="option";if(rt(t)){if(Le(t)){let A=Se(e);return Xi(A),ma(A,"reject"),Ue(A),_t(_(t,Oe),_(t,We),_(t,ue))}c=Io(t);let x=en(c,t,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond","offset","timeZone"],["timeZone"]);({offset:s,timeZone:a}=x),s===void 0&&(g="wall");let T=Se(e);l=Xi(T),y=ma(T,"reject");let O=Ue(T);({isoDate:n,time:o}=So(c,x,O))}else{let x,T,O,A,j;({year:O,month:A,day:j,time:o,tzAnnotation:x,offset:s,z:T,calendar:c}=(function(ne){let re=Mn(ne);if(!re.tzAnnotation)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return re})(ut(t))),a=$t(x),T?g="exact":s||(g="wall"),c||(c="iso8601"),c=Bt(c),m=!0;let Q=Se(e);l=Xi(Q),y=ma(Q,"reject"),Ue(Q),n={year:O,month:A,day:j}}let b=0;return g==="option"&&(b=gi(s)),_t(_a(n,o,g,b,a,l,y,m),a,c)}function of(t,e,n){Yr(e),Zn(t),Be(t,Re,e),Be(t,ue,n),Be(t,$l,!0)}function At(t,e){let n=pt("%Temporal.PlainDate%"),o=Object.create(n.prototype);return of(o,t,e),o}function af(t,e,n){Ar(e),Zn(t),Be(t,Ve,e),Be(t,ue,n)}function an(t,e){let n=pt("%Temporal.PlainDateTime%"),o=Object.create(n.prototype);return af(o,t,e),o}function sf(t,e,n){Yr(e),Zn(t),Be(t,Re,e),Be(t,ue,n),Be(t,jl,!0)}function ii(t,e){let n=pt("%Temporal.PlainMonthDay%"),o=Object.create(n.prototype);return sf(o,t,e),o}function uf(t,e){Zn(t),Be(t,nt,e)}function jn(t){let e=pt("%Temporal.PlainTime%"),n=Object.create(e.prototype);return uf(n,t),n}function cf(t,e,n){Ku(e),Zn(t),Be(t,Re,e),Be(t,ue,n),Be(t,Nl,!0)}function oi(t,e){let n=pt("%Temporal.PlainYearMonth%"),o=Object.create(n.prototype);return cf(o,t,e),o}function lf(t,e){kn(e),Zn(t),Be(t,Oe,e)}function pn(t){let e=pt("%Temporal.Instant%"),n=Object.create(e.prototype);return lf(n,t),n}function ff(t,e,n,o){kn(e),Zn(t),Be(t,Oe,e),Be(t,We,n),Be(t,ue,o)}function _t(t,e,n="iso8601"){let o=pt("%Temporal.ZonedDateTime%"),a=Object.create(o.prototype);return ff(a,t,e,n),a}function ul(t){return iu.filter(e=>t[e]!==void 0)}function Rr(t,e,n){let o=ul(n),a=dr(t).fieldKeysToIgnore(o),s=Object.create(null),c=ul(e);for(let l=0;l<iu.length;l++){let y,m=iu[l];c.includes(m)&&!a.includes(m)&&(y=e[m]),o.includes(m)&&(y=n[m]),y!==void 0&&(s[m]=y)}return s}function Xt(t,e,n,o){let a=dr(t).dateAdd(e,n,o);return Yr(a),a}function To(t,e,n,o){return dr(t).dateUntil(e,n,o)}function ko(t){if(rt(t)&&jt(t,ue))return _(t,ue);let e=ut(t);try{return Bt(e)}catch{}let n;try{({calendar:n}=Mn(e))}catch{try{({calendar:n}=Xl(e))}catch{try{({calendar:n}=ju(e))}catch{({calendar:n}=Bu(e))}}}return n||(n="iso8601"),Bt(n)}function Io(t){if(jt(t,ue))return _(t,ue);let{calendar:e}=t;return e===void 0?"iso8601":ko(e)}function Tn(t,e){return Bt(t)===Bt(e)}function lr(t,e,n){let o=dr(t);o.resolveFields(e,"date");let a=o.dateToISO(e,n);return Yr(a),a}function ro(t,e,n){let o=dr(t);o.resolveFields(e,"year-month"),e.day=1;let a=o.dateToISO(e,n);return Ku(a),a}function ba(t,e,n){let o=dr(t);o.resolveFields(e,"month-day");let a=o.monthDayToISOReferenceDate(e,n);return Yr(a),a}function $t(t){if(rt(t)&&Le(t))return _(t,We);let e=ut(t);if(e==="UTC")return"UTC";let{tzName:n,offsetMinutes:o}=(function(s){let{tzAnnotation:c,offset:l,z:y}=(function(m){if(Jl.test(m))return{tzAnnotation:m,offset:void 0,z:!1};try{let{tzAnnotation:g,offset:b,z:x}=Mn(m);if(x||g||b)return{tzAnnotation:g,offset:b,z:x}}catch{}tf(m)})(s);return c?sr(c):y?sr("UTC"):l?sr(l):void 0})(e);if(o!==void 0)return Lu(o);let a=wa(n);if(!a)throw new RangeError(`Unrecognized time zone ${n}`);return a.identifier}function df(t,e){if(t===e)return!0;let n=sr(t).offsetMinutes,o=sr(e).offsetMinutes;if(n===void 0&&o===void 0){let a=wa(e);if(!a)return!1;let s=wa(t);return!!s&&s.primaryIdentifier===a.primaryIdentifier}return n===o}function Bn(t,e){let n=sr(t).offsetMinutes;return n!==void 0?6e10*n:su(t,e)}function au(t){let e=t<0?"-":"+",n=Math.abs(t),o=Math.floor(n/36e11),a=Math.floor(n/6e10)%60,s=Math.floor(n/1e9)%60,c=n%1e9;return`${e}${Ba(o,a,s,c,s===0&&c===0?"minute":"auto")}`}function cn(t,e){let n=Bn(t,e),{isoDate:{year:o,month:a,day:s},time:{hour:c,minute:l,second:y,millisecond:m,microsecond:g,nanosecond:b}}=yf(e);return ao(o,a,s,c,l,y,m,g,b+n)}function wt(t,e,n){return hf(io(t,e),t,e,n)}function hf(t,e,n,o){let a=t.length;if(a===1)return t[0];if(a)switch(o){case"compatible":case"earlier":return t[0];case"later":return t[a-1];case"reject":throw new RangeError("multiple instants found")}if(o==="reject")throw new RangeError("multiple instants found");let s=mt(n),c=F.default.subtract(s,ur);kn(c);let l=Bn(e,c),y=F.default.add(s,ur);kn(y);let m=Bn(e,y)-l;switch(o){case"earlier":{let g=Ge.fromComponents(0,0,0,0,0,-m),b=fi(n.time,g);return io(e,Ze(Ut(n.isoDate.year,n.isoDate.month,n.isoDate.day+b.deltaDays),b))[0]}case"compatible":case"later":{let g=Ge.fromComponents(0,0,0,0,0,m),b=fi(n.time,g),x=io(e,Ze(Ut(n.isoDate.year,n.isoDate.month,n.isoDate.day+b.deltaDays),b));return x[x.length-1]}}}function io(t,e){if(t==="UTC")return ai(e.isoDate),[mt(e)];let n=sr(t).offsetMinutes;if(n!==void 0){let o=ao(e.isoDate.year,e.isoDate.month,e.isoDate.day,e.time.hour,e.time.minute-n,e.time.second,e.time.millisecond,e.time.microsecond,e.time.nanosecond);ai(o.isoDate);let a=mt(o);return kn(a),[a]}return ai(e.isoDate),(function(o,a){let s=mt(a),c=F.default.subtract(s,ur);F.default.lessThan(c,to)&&(c=s);let l=F.default.add(s,ur);F.default.greaterThan(l,ui)&&(l=s);let y=su(o,c),m=su(o,l);return(y===m?[y]:[y,m]).map(b=>{let x=F.default.subtract(s,F.default.BigInt(b)),T=(function(O,A){let{epochMilliseconds:j,time:{millisecond:Q,microsecond:ne,nanosecond:re}}=yf(A),{year:ce,month:me,day:ge,hour:xe,minute:we,second:ye}=gf(O,j);return ao(ce,me,ge,xe,we,ye,Q,ne,re)})(o,x);if(di(a,T)===0)return kn(x),x}).filter(b=>b!==void 0)})(t,e)}function rr(t,e){let n=Ze(e,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),o=io(t,n);if(o.length)return o[0];let a=mt(n),s=F.default.subtract(a,ur);return kn(s),zu(t,s)}function Mo(t){let e;return e=t<0||t>9999?(t<0?"-":"+")+no(Math.abs(t),6):no(t,4),e}function Jt(t){return no(t,2)}function mf(t,e){let n;if(e==="auto"){if(t===0)return"";n=no(t,9).replace(/0+$/,"")}else{if(e===0)return"";n=no(t,9).slice(0,e)}return`.${n}`}function Ba(t,e,n,o,a){let s=`${Jt(t)}:${Jt(e)}`;return a==="minute"||(s+=`:${Jt(n)}`,s+=mf(o,a)),s}function cl(t,e,n){let o=e;o===void 0&&(o="UTC");let a=_(t,Oe),s=oo(cn(o,a),"iso8601",n,"never"),c="Z";return e!==void 0&&(c=pf(Bn(o,a))),`${s}${c}`}function ha(t,e){let n=_(t,Ct),o=_(t,St),a=_(t,Yt),s=_(t,Tt),c=_(t,kt),l=_(t,It),y=xa(t),m="";n!==0&&(m+=`${Math.abs(n)}Y`),o!==0&&(m+=`${Math.abs(o)}M`),a!==0&&(m+=`${Math.abs(a)}W`),s!==0&&(m+=`${Math.abs(s)}D`);let g="";c!==0&&(g+=`${Math.abs(c)}H`),l!==0&&(g+=`${Math.abs(l)}M`);let b=Ge.fromComponents(0,0,_(t,Mt),_(t,Ot),_(t,Rt),_(t,zt));b.isZero()&&!["second","millisecond","microsecond","nanosecond"].includes($n(t))&&e==="auto"||(g+=`${Math.abs(b.sec)}${mf(Math.abs(b.subsec),e)}S`);let x=`${y<0?"-":""}P${m}`;return g&&(x=`${x}T${g}`),x}function ll(t,e="auto"){let{year:n,month:o,day:a}=_(t,Re);return`${Mo(n)}-${Jt(o)}-${Jt(a)}${wo(_(t,ue),e)}`}function fl({hour:t,minute:e,second:n,millisecond:o,microsecond:a,nanosecond:s},c){return Ba(t,e,n,1e6*o+1e3*a+s,c)}function oo(t,e,n,o="auto"){let{isoDate:{year:a,month:s,day:c},time:{hour:l,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:x}}=t;return`${Mo(a)}-${Jt(s)}-${Jt(c)}T${Ba(l,y,m,1e6*g+1e3*b+x,n)}${wo(e,o)}`}function dl(t,e="auto"){let{year:n,month:o,day:a}=_(t,Re),s=`${Jt(o)}-${Jt(a)}`,c=_(t,ue);e!=="always"&&e!=="critical"&&c==="iso8601"||(s=`${Mo(n)}-${s}`);let l=wo(c,e);return l&&(s+=l),s}function hl(t,e="auto"){let{year:n,month:o,day:a}=_(t,Re),s=`${Mo(n)}-${Jt(o)}`,c=_(t,ue);e!=="always"&&e!=="critical"&&c==="iso8601"||(s+=`-${Jt(a)}`);let l=wo(c,e);return l&&(s+=l),s}function ml(t,e,n="auto",o="auto",a="auto",s=void 0){let c=_(t,Oe);if(s){let{unit:g,increment:b,roundingMode:x}=s;c=fu(c,b,g,x)}let l=_(t,We),y=Bn(l,c),m=oo(cn(l,c),"iso8601",e,"never");return a!=="never"&&(m+=pf(y)),o!=="never"&&(m+=`[${o==="critical"?"!":""}${l}]`),m+=wo(_(t,ue),n),m}function pl(t){return ef.test(t)}function gi(t){let e=_p.exec(t);if(!e)throw new RangeError(`invalid time zone offset: ${t}; must match \xB1HH:MM[:SS.SSSSSSSSS]`);return(e[1]==="-"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}var ji,gp=Object.assign(Object.create(null),{"/":!0,"-":!0,_:!0});function wa(t){if(ji===void 0){let s=Intl.supportedValuesOf?.("timeZone");if(s){ji=new Map;for(let c=0;c<s.length;c++){let l=s[c];ji.set(so(l),l)}}else ji=null}let e=so(t),n=ji?.get(e);if(n)return{identifier:n,primaryIdentifier:n};try{n=Vl(t).resolvedOptions().timeZone}catch{return}if(e==="antarctica/south_pole"&&(n="Antarctica/McMurdo"),dp.has(t))throw new RangeError(`${t} is a legacy time zone identifier from ICU. Use ${n} instead`);let o=[...e].map((s,c)=>c===0||gp[e[c-1]]?s.toUpperCase():s).join("").split("/");if(o.length===1)return e==="gb-eire"?{identifier:"GB-Eire",primaryIdentifier:n}:{identifier:e.length<=3||/[-0-9]/.test(e)?e.toUpperCase():o[0],primaryIdentifier:n};if(o[0]==="Etc")return{identifier:`Etc/${["Zulu","Greenwich","Universal"].includes(o[1])?o[1]:o[1].toUpperCase()}`,primaryIdentifier:n};if(o[0]==="Us")return{identifier:`US/${o[1]}`,primaryIdentifier:n};let a=new Map([["Act","ACT"],["Lhi","LHI"],["Nsw","NSW"],["Dar_Es_Salaam","Dar_es_Salaam"],["Port_Of_Spain","Port_of_Spain"],["Port-Au-Prince","Port-au-Prince"],["Isle_Of_Man","Isle_of_Man"],["Comodrivadavia","ComodRivadavia"],["Knox_In","Knox_IN"],["Dumontdurville","DumontDUrville"],["Mcmurdo","McMurdo"],["Denoronha","DeNoronha"],["Easterisland","EasterIsland"],["Bajanorte","BajaNorte"],["Bajasur","BajaSur"]]);return o[1]=a.get(o[1])??o[1],o.length>2&&(o[2]=a.get(o[2])??o[2]),{identifier:o.join("/"),primaryIdentifier:n}}function Mr(t,e){let{year:n,month:o,day:a,hour:s,minute:c,second:l}=gf(t,e),y=e%1e3;return y<0&&(y+=1e3),1e6*(Yu({isoDate:{year:n,month:o,day:a},time:{hour:s,minute:c,second:l,millisecond:y}})-e)}function su(t,e){return Mr(t,ln(e,"floor"))}function Lu(t){let e=t<0?"-":"+",n=Math.abs(t);return`${e}${Ba(Math.floor(n/60),n%60,0,0,"minute")}`}function pf(t){return Lu(ar(t,sp,"halfExpand")/6e10)}function Yu({isoDate:{year:t,month:e,day:n},time:{hour:o,minute:a,second:s,millisecond:c}}){let l=t%400,y=(t-l)/400,m=new Date;return m.setUTCHours(o,a,s,c),m.setUTCFullYear(l,e-1,n),m.getTime()+lp*y}function mt(t){let e=Yu(t),n=1e3*t.time.microsecond+t.time.nanosecond;return F.default.add(yn(e),F.default.BigInt(n))}function yf(t){let e=ln(t,"trunc"),n=F.default.toNumber(F.default.remainder(t,_o));n<0&&(n+=1e6,e-=1);let o=Math.floor(n/1e3)%1e3,a=n%1e3,s=new Date(e);return{epochMilliseconds:e,isoDate:{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate()},time:{hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds(),microsecond:o,nanosecond:a}}}function zu(t,e){if(t==="UTC")return null;let n=ln(e,"floor");if(n<Gi)return zu(t,yn(Gi));let o=Date.now(),a=Math.max(n,o)+366*cr*3,s=n,c=Mr(t,s),l=s,y=c;for(;c===y&&s<a;){if(l=s+2*cr*7,l>Ql)return null;y=Mr(t,l),c===y&&(s=l)}return c===y?null:yn(Tf(m=>Mr(t,m),s,l,c,y))}function uu(t,e){if(t==="UTC")return null;let n=ln(e,"ceil"),o=Date.now(),a=o+366*cr*3;if(n>a){let m=uu(t,yn(a));if(m===null||F.default.lessThan(m,yn(o)))return m}if(t==="Africa/Casablanca"||t==="Africa/El_Aaiun"){let m=Date.UTC(2088,0,1);if(m<n)return uu(t,yn(m))}let s=n-1;if(s<Gi)return null;let c=Mr(t,s),l=s,y=c;for(;c===y&&s>Gi;){if(l=s-2*cr*7,l<Gi)return null;y=Mr(t,l),c===y&&(s=l)}return c===y?null:yn(Tf(m=>Mr(t,m),l,s,y,c))}function gf(t,e){return(function(n){let o=n.split(/[^\w]+/);if(o.length!==7)throw new RangeError(`expected 7 parts in "${n}`);let a=+o[0],s=+o[1],c=+o[2],l=o[3];if(l[0]==="b"||l[0]==="B")c=1-c;else if(l[0]!=="a"&&l[0]!=="A")throw new RangeError(`Unknown era ${l} in "${n}`);let y=o[4]==="24"?0:+o[4],m=+o[5],g=+o[6];if(!(Number.isFinite(c)&&Number.isFinite(a)&&Number.isFinite(s)&&Number.isFinite(y)&&Number.isFinite(m)&&Number.isFinite(g)))throw new RangeError(`Invalid number in "${n}`);return{year:c,month:a,day:s,hour:y,minute:m,second:g}})(Vl(t).format(e))}function Da(t){return t!==void 0&&!(t%4!=0||t%100==0&&t%400!=0)}function Or(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Da(t)?"leapyear":"standard"][e-1]}function xa(t){let e=[_(t,Ct),_(t,St),_(t,Yt),_(t,Tt),_(t,kt),_(t,It),_(t,Mt),_(t,Ot),_(t,Rt),_(t,zt)];for(let n=0;n<e.length;n++){let o=e[n];if(o!==0)return o<0?-1:1}return 0}function La(t){let e=["years","months","weeks","days"];for(let n=0;n<e.length;n++){let o=t[e[n]];if(o!==0)return o<0?-1:1}return 0}function vf(t){let e=La(t.date);return e!==0?e:t.time.sign()}function Ir(t,e){let n=t,o=e;if(!Number.isFinite(n)||!Number.isFinite(o))throw new RangeError("infinity is out of range");return o-=1,n+=Math.floor(o/12),o%=12,o<0&&(o+=12),o+=1,{year:n,month:o}}function Ut(t,e,n){let o=t,a=e,s=n;if(!Number.isFinite(s))throw new RangeError("infinity is out of range");({year:o,month:a}=Ir(o,a));let c=146097;if(Math.abs(s)>c){let m=Math.trunc(s/c);o+=400*m,s-=m*c}let l=0,y=a>2?o:o-1;for(;l=Da(y)?366:365,s<-l;)o-=1,y-=1,s+=l;for(y+=1;l=Da(y)?366:365,s>l;)o+=1,y+=1,s-=l;for(;s<1;)({year:o,month:a}=Ir(o,a-1)),s+=Or(o,a);for(;s>Or(o,a);)s-=Or(o,a),{year:o,month:a}=Ir(o,a+1);return{year:o,month:a,day:s}}function ao(t,e,n,o,a,s,c,l,y){let m=ir(o,a,s,c,l,y);return Ze(Ut(t,e,n+m.deltaDays),m)}function ir(t,e,n,o,a,s){let c,l=t,y=e,m=n,g=o,b=a,x=s;({div:c,mod:x}=ri(x,3)),b+=c,x<0&&(b-=1,x+=1e3),{div:c,mod:b}=ri(b,3),g+=c,b<0&&(g-=1,b+=1e3),m+=Math.trunc(g/1e3),g%=1e3,g<0&&(m-=1,g+=1e3),y+=Math.trunc(m/60),m%=60,m<0&&(y-=1,m+=60),l+=Math.trunc(y/60),y%=60,y<0&&(l-=1,y+=60);let T=Math.trunc(l/24);return l%=24,l<0&&(T-=1,l+=24),T+=0,l+=0,y+=0,m+=0,g+=0,b+=0,x+=0,{deltaDays:T,hour:l,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:x}}function yl(t,e){let n=bt(t,0);if(La(n)===0)return t.days;let o=_(e,Re),a=Xt(_(e,ue),o,n,"constrain"),s=$r(o.year,o.month-1,o.day),c=$r(a.year,a.month-1,a.day)-s;return t.days+c}function Zt(t){return new(pt("%Temporal.Duration%"))(-_(t,Ct),-_(t,St),-_(t,Yt),-_(t,Tt),-_(t,kt),-_(t,It),-_(t,Mt),-_(t,Ot),-_(t,Rt),-_(t,zt))}function Pt(t,e,n){return Math.min(n,Math.max(e,t))}function _f(t,e,n){let o=Pt(e,1,12);return{year:t,month:o,day:Pt(n,1,Or(t,o))}}function ft(t,e,n){if(t<e||t>n)throw new RangeError(`value out of range: ${e} <= ${t} <= ${n}`)}function Pr(t,e,n){ft(e,1,12),ft(n,1,Or(t,e))}function Yr(t){Ar(Ze(t,{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}))}function Ya(t,e,n,o,a,s){ft(t,0,23),ft(e,0,59),ft(n,0,59),ft(o,0,999),ft(a,0,999),ft(s,0,999)}function Fu(t,e,n,o,a,s,c,l,y){Pr(t,e,n),Ya(o,a,s,c,l,y)}function Ar(t){let e=mt(t);(F.default.lessThan(e,up)||F.default.greaterThan(e,cp))&&kn(e)}function cu(t){mt(t)}function kn(t){if(F.default.lessThan(t,to)||F.default.greaterThan(t,ui))throw new RangeError("date/time value is outside of supported range")}function Ku({year:t,month:e}){ft(t,nl,rl),t===nl?ft(e,4,12):t===rl&&ft(e,1,9)}function za(t,e,n,o,a,s,c,l,y,m){let g=0,b=[t,e,n,o,a,s,c,l,y,m];for(let Q=0;Q<b.length;Q++){let ne=b[Q];if(ne===1/0||ne===-1/0)throw new RangeError("infinite values not allowed as duration fields");if(ne!==0){let re=ne<0?-1:1;if(g!==0&&re!==g)throw new RangeError("mixed-sign values not allowed as duration fields");g=re}}if(Math.abs(t)>=2**32||Math.abs(e)>=2**32||Math.abs(n)>=2**32)throw new RangeError("years, months, and weeks must be < 2\xB3\xB2");let x=ri(l,3),T=ri(y,6),O=ri(m,9),A=ri(1e6*x.mod+1e3*T.mod+O.mod,9).div,j=86400*o+3600*a+60*s+c+x.div+T.div+O.div+A;if(!Number.isSafeInteger(j))throw new RangeError("total of duration time units cannot exceed 9007199254740991.999999999 s")}function ni(t){return{date:{years:_(t,Ct),months:_(t,St),weeks:_(t,Yt),days:_(t,Tt)},time:Ge.fromComponents(_(t,kt),_(t,It),_(t,Mt),_(t,Ot),_(t,Rt),_(t,zt))}}function Cn(t){let e=Ge.fromComponents(_(t,kt),_(t,It),_(t,Mt),_(t,Ot),_(t,Rt),_(t,zt)).add24HourDays(_(t,Tt));return{date:{years:_(t,Ct),months:_(t,St),weeks:_(t,Yt),days:0},time:e}}function bf(t){let e=Cn(t),n=Math.trunc(e.time.sec/86400);return za(e.date.years,e.date.months,e.date.weeks,n,0,0,0,0,0,0),{...e.date,days:n}}function sn(t,e){let n=t.time.sign(),o=t.time.abs().subsec,a=0,s=0,c=t.time.abs().sec,l=0,y=0,m=0;switch(e){case"year":case"month":case"week":case"day":a=Math.trunc(o/1e3),o%=1e3,s=Math.trunc(a/1e3),a%=1e3,c+=Math.trunc(s/1e3),s%=1e3,l=Math.trunc(c/60),c%=60,y=Math.trunc(l/60),l%=60,m=Math.trunc(y/24),y%=24;break;case"hour":a=Math.trunc(o/1e3),o%=1e3,s=Math.trunc(a/1e3),a%=1e3,c+=Math.trunc(s/1e3),s%=1e3,l=Math.trunc(c/60),c%=60,y=Math.trunc(l/60),l%=60;break;case"minute":a=Math.trunc(o/1e3),o%=1e3,s=Math.trunc(a/1e3),a%=1e3,c+=Math.trunc(s/1e3),s%=1e3,l=Math.trunc(c/60),c%=60;break;case"second":a=Math.trunc(o/1e3),o%=1e3,s=Math.trunc(a/1e3),a%=1e3,c+=Math.trunc(s/1e3),s%=1e3;break;case"millisecond":a=Math.trunc(o/1e3),o%=1e3,s=Zs(c,3,Math.trunc(a/1e3)),a%=1e3,c=0;break;case"microsecond":a=Zs(c,6,Math.trunc(o/1e3)),o%=1e3,c=0;break;case"nanosecond":o=Zs(c,9,o),c=0}return new(pt("%Temporal.Duration%"))(t.date.years,t.date.months,t.date.weeks,t.date.days+n*m,n*y,n*l,n*c,n*s,n*a,n*o)}function Yn(t,e){return La(t),e.sign(),{date:t,time:e}}function $r(t,e,n){return Yu({isoDate:{year:t,month:e+1,day:n},time:{hour:0,minute:0,second:0,millisecond:0}})/cr}function ai({year:t,month:e,day:n}){if(Math.abs($r(t,e-1,n))>1e8)throw new RangeError("date/time value is outside the supported range")}function Uu(t,e){let n=e.hour-t.hour,o=e.minute-t.minute,a=e.second-t.second,s=e.millisecond-t.millisecond,c=e.microsecond-t.microsecond,l=e.nanosecond-t.nanosecond;return Ge.fromComponents(n,o,a,s,c,l)}function Zu(t,e,n,o,a){let s=Ge.fromEpochNsDiff(e,t);return s=Ea(s,n,o,a),Yn({years:0,months:0,weeks:0,days:0},s)}function wf(t,e,n,o){cu(t),cu(e);let a=Uu(t.time,e.time),s=a.sign(),c=In(t.isoDate,e.isoDate),l=e.isoDate;c===s&&(l=Ut(l.year,l.month,l.day+s),a=a.add24HourDays(-s));let y=Ln("day",o),m=To(n,t.isoDate,l,y);return o!==y&&(a=a.add24HourDays(m.days),m.days=0),Yn(m,a)}function Df(t,e,n,o,a){let s=F.default.subtract(e,t);if(F.default.equal(s,Qt))return{date:{years:0,months:0,weeks:0,days:0},time:Ge.ZERO};let c=F.default.lessThan(s,Qt)?-1:1,l=cn(n,t),y=cn(n,e),m,g=0,b=c===1?2:1,x=Uu(l.time,y.time);for(x.sign()===-c&&g++;g<=b;g++){m=Ze(Ut(y.isoDate.year,y.isoDate.month,y.isoDate.day-g*c),l.time);let O=wt(n,m,"compatible");if(x=Ge.fromEpochNsDiff(e,O),x.sign()!==-c)break}let T=Ln("day",a);return Yn(To(o,l.isoDate,m.isoDate,T),x)}function xf(t,e,n,o,a,s,c,l,y){let m,g,b,x,T=e;switch(l){case"year":{let H=ar(T.date.years,c,"trunc");m=H,g=H+c*t,b={years:m,months:0,weeks:0,days:0},x={...b,years:g};break}case"month":{let H=ar(T.date.months,c,"trunc");m=H,g=H+c*t,b=bt(T.date,0,0,m),x=bt(T.date,0,0,g);break}case"week":{let H=bt(T.date,0,0),fe=Xt(s,o.isoDate,H,"constrain"),D=To(s,fe,Ut(fe.year,fe.month,fe.day+T.date.days),"week"),B=ar(T.date.weeks+D.weeks,c,"trunc");m=B,g=B+c*t,b=bt(T.date,0,m),x=bt(T.date,0,g);break}case"day":{let H=ar(T.date.days,c,"trunc");m=H,g=H+c*t,b=bt(T.date,m),x=bt(T.date,g);break}}let O=Xt(s,o.isoDate,b,"constrain"),A=Xt(s,o.isoDate,x,"constrain"),j,Q,ne=Ze(O,o.time),re=Ze(A,o.time);a?(j=wt(a,ne,"compatible"),Q=wt(a,re,"compatible")):(j=mt(ne),Q=mt(re));let ce=Ge.fromEpochNsDiff(n,j),me=Ge.fromEpochNsDiff(Q,j),ge=Ra(y,t<0?"negative":"positive"),xe=ce.add(ce).abs().subtract(me.abs()).sign(),we=Math.abs(m)/c%2==0,ye=ce.isZero()?Math.abs(m):ce.cmp(me)?Pa(Math.abs(m),Math.abs(g),xe,we,ge):Math.abs(g),U=new Ge(F.default.add(F.default.multiply(me.totalNs,F.default.BigInt(m)),F.default.multiply(ce.totalNs,F.default.BigInt(c*t)))).fdiv(me.totalNs),V=ye===Math.abs(g);return T={date:V?x:b,time:Ge.ZERO},{nudgeResult:{duration:T,nudgedEpochNs:V?Q:j,didExpandCalendarUnit:V},total:U}}function Fa(t,e,n,o,a,s,c,l,y){let m=t,g=xn(l)||o&&l==="day",b=vf(m)<0?-1:1,x;return g?{nudgeResult:x}=xf(b,m,e,n,o,a,c,l,y):x=o?(function(T,O,A,j,Q,ne,re,ce){let me=O,ge=Xt(Q,A.isoDate,me.date,"constrain"),xe=Ze(ge,A.time),we=Ze(Ut(ge.year,ge.month,ge.day+T),A.time),ye=wt(j,xe,"compatible"),U=wt(j,we,"compatible"),V=Ge.fromEpochNsDiff(U,ye);if(V.sign()!==T)throw new RangeError("time zone returned inconsistent Instants");let H=F.default.BigInt(li[re]*ne),fe=me.time.round(H,ce),D=fe.subtract(V),B=D.sign()!==-T,f,p;return B?(f=T,fe=D.round(H,ce),p=fe.addToEpochNs(U)):(f=0,p=fe.addToEpochNs(ye)),{duration:Yn(bt(me.date,me.date.days+f),fe),nudgedEpochNs:p,didExpandCalendarUnit:B}})(b,m,n,o,a,c,l,y):(function(T,O,A,j,Q,ne){let re=T,ce=re.time.add24HourDays(re.date.days),me=ce.round(F.default.BigInt(j*li[Q]),ne),ge=me.subtract(ce),{quotient:xe}=ce.divmod(ga),{quotient:we}=me.divmod(ga),ye=Math.sign(we-xe)===ce.sign(),U=ge.addToEpochNs(O),V=0,H=me;return Nn(A)==="date"&&(V=we,H=me.add(Ge.fromComponents(24*-we,0,0,0,0,0))),{duration:{date:bt(re.date,V),time:H},nudgedEpochNs:U,didExpandCalendarUnit:ye}})(m,e,s,c,l,y),m=x.duration,x.didExpandCalendarUnit&&l!=="week"&&(m=(function(T,O,A,j,Q,ne,re,ce){let me=O;if(ce===re)return me;let ge=Qi.indexOf(re);for(let xe=Qi.indexOf(ce)-1;xe>=ge;xe--){let we=Qi[xe];if(we==="week"&&re!=="week")continue;let ye;switch(we){case"year":ye={years:me.date.years+T,months:0,weeks:0,days:0};break;case"month":{let H=me.date.months+T;ye=bt(me.date,0,0,H);break}case"week":{let H=me.date.weeks+T;ye=bt(me.date,0,H);break}}let U=Ze(Xt(ne,j.isoDate,ye,"constrain"),j.time),V;if(V=Q?wt(Q,U,"compatible"):mt(U),pa(A,V)===-T)break;me={date:ye,time:Ge.ZERO}}return me})(b,m,x.nudgedEpochNs,n,o,a,s,Ln(l,"day"))),m}function gl(t,e,n,o,a,s){return xn(s)||o&&s==="day"?xf(vf(t)<0?-1:1,t,e,n,o,a,1,s,"trunc").total:Ji(t.time.add24HourDays(t.date.days),s)}function Ef(t,e,n,o,a,s,c){if(di(t,e)==0)return{date:{years:0,months:0,weeks:0,days:0},time:Ge.ZERO};Ar(t),Ar(e);let l=wf(t,e,n,o);return s==="nanosecond"&&a===1?l:Fa(l,mt(e),t,null,n,o,a,s,c)}function Cf(t,e,n,o,a,s,c,l){if(Nn(a)==="time")return Zu(t,e,s,c,l);let y=Df(t,e,n,o,a);return c==="nanosecond"&&s===1?y:Fa(y,e,cn(n,t),n,o,a,s,c,l)}function vi(t,e,n,o,a,s){let c=ci.reduce((T,O)=>{let A=O[0],j=O[1],Q=O[2];return n!=="datetime"&&Q!==n||o.includes(j)||T.push(j,A),T},[]),l=Kt(e,"largestUnit",n,"auto");if(o.includes(l))throw new RangeError(`largestUnit must be one of ${c.join(", ")}, not ${l}`);let y=pi(e),m=gn(e,"trunc");t==="since"&&(m=(function(T){switch(T){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return T}})(m));let g=Kt(e,"smallestUnit",n,a);if(o.includes(g))throw new RangeError(`smallestUnit must be one of ${c.join(", ")}, not ${g}`);let b=Ln(s,g);if(l==="auto"&&(l=b),Ln(l,g)!==l)throw new RangeError(`largestUnit ${l} cannot be smaller than smallestUnit ${g}`);let x={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[g];return x!==void 0&&yi(y,x,!1),{largestUnit:l,roundingIncrement:y,roundingMode:m,smallestUnit:g}}function vl(t,e,n,o){let a=Ui(n),s=vi(t,Se(o),"time",[],"nanosecond","second"),c=sn(Zu(_(e,Oe),_(a,Oe),s.roundingIncrement,s.smallestUnit,s.roundingMode),s.largestUnit);return t==="since"&&(c=Zt(c)),c}function _l(t,e,n,o){let a=Fi(n),s=_(e,ue),c=_(a,ue);if(!Tn(s,c))throw new RangeError(`cannot compute difference between dates of ${s} and ${c} calendars`);let l=vi(t,Se(o),"date",[],"day","day"),y=pt("%Temporal.Duration%"),m=_(e,Re),g=_(a,Re);if(In(m,g)===0)return new y;let b={date:To(s,m,g,l.largestUnit),time:Ge.ZERO};if(l.smallestUnit!=="day"||l.roundingIncrement!==1){let T=Ze(m,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});b=Fa(b,mt(Ze(g,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0})),T,null,s,l.largestUnit,l.roundingIncrement,l.smallestUnit,l.roundingMode)}let x=sn(b,"day");return t==="since"&&(x=Zt(x)),x}function bl(t,e,n,o){let a=Ki(n),s=_(e,ue),c=_(a,ue);if(!Tn(s,c))throw new RangeError(`cannot compute difference between dates of ${s} and ${c} calendars`);let l=vi(t,Se(o),"datetime",[],"nanosecond","day"),y=pt("%Temporal.Duration%"),m=_(e,Ve),g=_(a,Ve);if(di(m,g)===0)return new y;let b=sn(Ef(m,g,s,l.largestUnit,l.roundingIncrement,l.smallestUnit,l.roundingMode),l.largestUnit);return t==="since"&&(b=Zt(b)),b}function wl(t,e,n,o){let a=or(n),s=vi(t,Se(o),"time",[],"nanosecond","hour"),c=Uu(_(e,nt),_(a,nt));c=Ea(c,s.roundingIncrement,s.smallestUnit,s.roundingMode);let l=sn(Yn({years:0,months:0,weeks:0,days:0},c),s.largestUnit);return t==="since"&&(l=Zt(l)),l}function Dl(t,e,n,o){let a=Zi(n),s=_(e,ue),c=_(a,ue);if(!Tn(s,c))throw new RangeError(`cannot compute difference between months of ${s} and ${c} calendars`);let l=vi(t,Se(o),"date",["week","day"],"month","year"),y=pt("%Temporal.Duration%");if(In(_(e,Re),_(a,Re))==0)return new y;let m=Nt(s,_(e,Re),"year-month");m.day=1;let g=lr(s,m,"constrain"),b=Nt(s,_(a,Re),"year-month");b.day=1;let x=lr(s,b,"constrain"),T={date:bt(To(s,g,x,l.largestUnit),0,0),time:Ge.ZERO};if(l.smallestUnit!=="month"||l.roundingIncrement!==1){let A=Ze(g,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});T=Fa(T,mt(Ze(x,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0})),A,null,s,l.largestUnit,l.roundingIncrement,l.smallestUnit,l.roundingMode)}let O=sn(T,"day");return t==="since"&&(O=Zt(O)),O}function xl(t,e,n,o){let a=Wi(n),s=_(e,ue),c=_(a,ue);if(!Tn(s,c))throw new RangeError(`cannot compute difference between dates of ${s} and ${c} calendars`);let l=vi(t,Se(o),"datetime",[],"nanosecond","hour"),y=_(e,Oe),m=_(a,Oe),g=pt("%Temporal.Duration%"),b;if(Nn(l.largestUnit)!=="date")b=sn(Zu(y,m,l.roundingIncrement,l.smallestUnit,l.roundingMode),l.largestUnit);else{let x=_(e,We);if(!df(x,_(a,We)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");if(F.default.equal(y,m))return new g;b=sn(Cf(y,m,x,s,l.largestUnit,l.roundingIncrement,l.smallestUnit,l.roundingMode),"hour")}return t==="since"&&(b=Zt(b)),b}function fi({hour:t,minute:e,second:n,millisecond:o,microsecond:a,nanosecond:s},c){let l=n,y=s;return l+=c.sec,y+=c.subsec,ir(t,e,l,o,a,y)}function lu(t,e){let n=e.addToEpochNs(t);return kn(n),n}function qi(t,e,n,o,a="constrain"){if(La(o.date)===0)return lu(t,o.time);let s=cn(e,t);return lu(wt(e,Ze(Xt(n,s.isoDate,o.date,a),s.time),"compatible"),o.time)}function El(t,e,n){let o=un(n);t==="subtract"&&(o=Zt(o));let a=Ln($n(e),$n(o));if(xn(a))throw new RangeError("For years, months, or weeks arithmetic, use date arithmetic relative to a starting point");let s=Cn(e),c=Cn(o);return sn(Yn({years:0,months:0,weeks:0,days:0},s.time.add(c.time)),a)}function Cl(t,e,n){let o=un(n);t==="subtract"&&(o=Zt(o));let a=$n(o);if(Nn(a)==="date")throw new RangeError(`Duration field ${a} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);let s=Cn(o);return pn(lu(_(e,Oe),s.time))}function Sl(t,e,n,o){let a=_(e,ue),s=un(n);t==="subtract"&&(s=Zt(s));let c=bf(s),l=Ue(Se(o));return At(Xt(a,_(e,Re),c,l),a)}function Tl(t,e,n,o){let a=un(n);t==="subtract"&&(a=Zt(a));let s=Ue(Se(o)),c=_(e,ue),l=Cn(a),y=_(e,Ve),m=fi(y.time,l.time),g=bt(l.date,m.deltaDays);return za(g.years,g.months,g.weeks,g.days,0,0,0,0,0,0),an(Ze(Xt(c,y.isoDate,g,s),m),c)}function kl(t,e,n){let o=un(n);t==="subtract"&&(o=Zt(o));let a=Cn(o),{hour:s,minute:c,second:l,millisecond:y,microsecond:m,nanosecond:g}=fi(_(e,nt),a.time);return jn(ja(s,c,l,y,m,g,"reject"))}function Il(t,e,n,o){let a=un(n);t==="subtract"&&(a=Zt(a));let s=Ue(Se(o)),c=xa(a),l=_(e,ue),y=Nt(l,_(e,Re),"year-month");y.day=1;let m=lr(l,y,"constrain");if(c<0){let b=Xt(l,m,{months:1},"constrain");m=Ut(b.year,b.month,b.day-1)}let g=bf(a);return Yr(m),oi(ro(l,Nt(l,Xt(l,m,g,s),"year-month"),s),l)}function Ml(t,e,n,o){let a=un(n);t==="subtract"&&(a=Zt(a));let s=Ue(Se(o)),c=_(e,We),l=_(e,ue),y=ni(a);return _t(qi(_(e,Oe),c,l,y,s),c,l)}function ar(t,e,n){let o=Math.trunc(t/e),a=t%e,s=t<0?"negative":"positive",c=Math.abs(o),l=c+1,y=Ft(Math.abs(2*a)-e),m=c%2==0,g=Ra(n,s),b=a===0?c:Pa(c,l,y,m,g);return e*(s==="positive"?b:-b)}function fu(t,e,n,o){let a=li[n]*e;return(function(s,c,l){let y=An(s),m=An(c),g=F.default.divide(y,m),b=F.default.remainder(y,m),x=Ra(l,"positive"),T,O;F.default.lessThan(y,Qt)?(T=F.default.subtract(g,eo),O=g):(T=g,O=F.default.add(g,eo));let A=pa(kr(F.default.multiply(b,Nu)),m)*(F.default.lessThan(y,Qt)?-1:1)+0,j=F.default.equal(b,Qt)?g:Pa(T,O,A,Al(T),x);return F.default.multiply(j,m)})(t,F.default.BigInt(a),o)}function du(t,e,n,o){cu(t);let{year:a,month:s,day:c}=t.isoDate,l=hu(t.time,e,n,o);return Ze(Ut(a,s,c+l.deltaDays),l)}function hu({hour:t,minute:e,second:n,millisecond:o,microsecond:a,nanosecond:s},c,l,y){let m;switch(l){case"day":case"hour":m=1e3*(1e3*(1e3*(60*(60*t+e)+n)+o)+a)+s;break;case"minute":m=1e3*(1e3*(1e3*(60*e+n)+o)+a)+s;break;case"second":m=1e3*(1e3*(1e3*n+o)+a)+s;break;case"millisecond":m=1e3*(1e3*o+a)+s;break;case"microsecond":m=1e3*a+s;break;case"nanosecond":m=s}let g=li[l],b=ar(m,g*c,y)/g;switch(l){case"day":return{deltaDays:b,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return ir(b,0,0,0,0,0);case"minute":return ir(t,b,0,0,0,0);case"second":return ir(t,e,b,0,0,0);case"millisecond":return ir(t,e,n,b,0,0);case"microsecond":return ir(t,e,n,o,b,0);case"nanosecond":return ir(t,e,n,o,a,b);default:throw new Error(`Invalid unit ${l}`)}}function Ea(t,e,n,o){let a=li[n];return t.round(F.default.BigInt(a*e),o)}function Ji(t,e){let n=li[e];return t.fdiv(F.default.BigInt(n))}function In(t,e){return t.year!==e.year?Ft(t.year-e.year):t.month!==e.month?Ft(t.month-e.month):t.day!==e.day?Ft(t.day-e.day):0}function mu(t,e){return t.hour!==e.hour?Ft(t.hour-e.hour):t.minute!==e.minute?Ft(t.minute-e.minute):t.second!==e.second?Ft(t.second-e.second):t.millisecond!==e.millisecond?Ft(t.millisecond-e.millisecond):t.microsecond!==e.microsecond?Ft(t.microsecond-e.microsecond):t.nanosecond!==e.nanosecond?Ft(t.nanosecond-e.nanosecond):0}function di(t,e){let n=In(t.isoDate,e.isoDate);return n!==0?n:mu(t.time,e.time)}function Sf(t){let e=Ca(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function ln(t,e){let n=An(t),{quotient:o,remainder:a}=Yi(n,_o),s=F.default.toNumber(o);return e==="floor"&&F.default.toNumber(a)<0&&(s-=1),e==="ceil"&&F.default.toNumber(a)>0&&(s+=1),s}function yn(t){if(!Number.isInteger(t))throw new RangeError("epoch milliseconds must be an integer");return F.default.multiply(F.default.BigInt(t),_o)}function Ca(t){let e=t;if(typeof t=="object"){let n=t[Symbol.toPrimitive];n&&typeof n=="function"&&(e=n.call(t,"number"))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?F.default.BigInt(e.toString(10)):F.default.BigInt(e)}var pu=(()=>{let t=F.default.BigInt(Date.now()%1e6);return()=>{let e=Date.now(),n=F.default.BigInt(e),o=F.default.add(yn(e),t);return t=F.default.remainder(n,_o),F.default.greaterThan(o,ui)?ui:F.default.lessThan(o,to)?to:o}})();function Bi(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}function Ft(t){return t<0?-1:t>0?1:t}function Se(t){if(t===void 0)return Object.create(null);if(rt(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function Nr(t,e){let n=Object.create(null);return n[t]=e,n}function zn(t,e,n,o){let a=t[e];if(a!==void 0){if(a=$a(a),!n.includes(a))throw new RangeError(`${e} must be one of ${n.join(", ")}, not ${a}`);return a}if(o===Kn)throw new RangeError(`${e} option is required`);return o}function Bt(t){let e=so(t);if(!fp.includes(so(e)))throw new RangeError(`invalid calendar identifier ${e}`);switch(e){case"ethiopic-amete-alem":return"ethioaa";case"islamicc":return"islamic-civil"}return e}function so(t){let e="";for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);e+=o>=65&&o<=90?String.fromCharCode(o+32):String.fromCharCode(o)}return e}function hr(t){throw new TypeError(`Do not use built-in arithmetic operators with Temporal objects. When comparing, use ${t==="PlainMonthDay"?"Temporal.PlainDate.compare(obj1.toPlainDate(year), obj2.toPlainDate(year))":`Temporal.${t}.compare(obj1, obj2)`}, not obj1 > obj2. When coercing to strings, use \`\${obj}\` or String(obj), not '' + obj. When coercing to numbers, use properties or methods of the object, not \`+obj\`. When concatenating with strings, use \`\${str}\${obj}\` or str.concat(obj), not str + obj. In React, coerce to a string before rendering a Temporal object.`)}var vp=new RegExp(`^${Hl.source}$`),_p=new RegExp(`^${/([+-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/.source}$`);function Tf(t,e,n,o=t(e),a=t(n)){let s=e,c=n,l=o,y=a;for(;c-s>1;){let m=Math.trunc((s+c)/2),g=t(m);g===l?(s=m,l=g):g===y&&(c=m,y=g)}return c}function kf(t){return[...t]}function If(t,e){if(t!=="gregory"&&t!=="iso8601")return;let n=Oo[t],o=e.year,{dayOfWeek:a,dayOfYear:s,daysInYear:c}=n.isoToDate(e,{dayOfWeek:!0,dayOfYear:!0,daysInYear:!0}),l=n.getFirstDayOfWeek(),y=n.getMinimalDaysInFirstWeek(),m=(a+7-l)%7,g=(a-s+7001-l)%7,b=Math.floor((s-1+g)/7);if(7-g>=y&&++b,b==0)b=(function(x,T,O,A){let j=(A-x-O+1)%7;j<0&&(j+=7);let Q=Math.floor((O+j-1)/7);return 7-j>=T&&++Q,Q})(l,y,s+n.isoToDate(n.dateAdd(e,{years:-1},"constrain"),{daysInYear:!0}).daysInYear,a),o--;else if(s>=c-5){let x=(m+c-s)%7;x<0&&(x+=7),6-x>=y&&s+7-m>c&&(b=1,o++)}return{week:b,year:o}}function Ol(t,e,n,o,a){if(e!==a.year){if(t*(e-a.year)>0)return!0}else if(n!==a.month){if(t*(n-a.month)>0)return!0}else if(o!==a.day&&t*(o-a.day)>0)return!0;return!1}var Oo={};function jr(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(Number.isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function Sn(t,e=!1){return`M${`${t}`.padStart(2,"0")}${e?"L":""}`}function Wu(t,e=void 0,n=12){let{month:o,monthCode:a}=t;if(a===void 0){if(o===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&ft(o,1,n),e==="constrain"&&(o=Pt(o,1,n)),a=Sn(o)}else{let s=jr(a);if(a!==Sn(s))throw new RangeError(`Invalid month code: ${a}`);if(o!==void 0&&o!==s)throw new RangeError(`monthCode ${a} and month ${o} must match if both are present`);if(o=s,o<1||o>n)throw new RangeError(`Invalid monthCode: ${a}`)}return{...t,month:o,monthCode:a}}Oo.iso8601={resolveFields(t,e){if((e==="date"||e==="year-month")&&t.year===void 0)throw new TypeError("year is required");if((e==="date"||e==="month-day")&&t.day===void 0)throw new TypeError("day is required");Object.assign(t,Wu(t))},dateToISO:(t,e)=>Vi(t.year,t.month,t.day,e),monthDayToISOReferenceDate(t,e){let{month:n,day:o}=Vi(t.year??1972,t.month,t.day,e);return{month:n,day:o,year:1972}},extraFields:()=>[],fieldKeysToIgnore(t){let e=new Set;for(let n=0;n<t.length;n++){let o=t[n];e.add(o),o==="month"?e.add("monthCode"):o==="monthCode"&&e.add("month")}return kf(e)},dateAdd(t,{years:e=0,months:n=0,weeks:o=0,days:a=0},s){let{year:c,month:l,day:y}=t;return c+=e,l+=n,{year:c,month:l}=Ir(c,l),{year:c,month:l,day:y}=Vi(c,l,y,s),y+=a+7*o,Ut(c,l,y)},dateUntil(t,e,n){let o=-In(t,e);if(o===0)return{years:0,months:0,weeks:0,days:0};let a,s=0,c=0;if(n==="year"||n==="month"){let g=e.year-t.year;for(g!==0&&(g-=o);!Ol(o,t.year+g,t.month,t.day,e);)s=g,g+=o;let b=o;for(a=Ir(t.year+s,t.month+b);!Ol(o,a.year,a.month,t.day,e);)c=b,b+=o,a=Ir(a.year,a.month+o);n==="month"&&(c+=12*s,s=0)}a=Ir(t.year+s,t.month+c);let l=_f(a.year,a.month,t.day),y=0,m=$r(e.year,e.month-1,e.day)-$r(l.year,l.month-1,l.day);return n==="week"&&(y=Math.trunc(m/7),m%=7),{years:s,months:c,weeks:y,days:m}},isoToDate({year:t,month:e,day:n},o){let a={era:void 0,eraYear:void 0,year:t,month:e,day:n,daysInWeek:7,monthsInYear:12};if(o.monthCode&&(a.monthCode=Sn(e)),o.dayOfWeek){let s=e+(e<3?10:-2),c=t-(e<3?1:0),l=Math.floor(c/100),y=c-100*l,m=(n+Math.floor(2.6*s-.2)+(y+Math.floor(y/4))+(Math.floor(l/4)-2*l))%7;a.dayOfWeek=m+(m<=0?7:0)}if(o.dayOfYear){let s=n;for(let c=e-1;c>0;c--)s+=Or(t,c);a.dayOfYear=s}return o.weekOfYear&&(a.weekOfYear=If("iso8601",{year:t,month:e,day:n})),o.daysInMonth&&(a.daysInMonth=Or(t,e)),(o.daysInYear||o.inLeapYear)&&(a.inLeapYear=Da(t),a.daysInYear=a.inLeapYear?366:365),a},getFirstDayOfWeek:()=>1,getMinimalDaysInFirstWeek:()=>4};var Ht=class t{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,e!==void 0){let n=0;for(let o of e.map.entries()){if(++n>t.MAX_CACHE_ENTRIES)break;this.map.set(...o)}}}get(e){let n=this.map.get(e);return n&&(this.hits++,this.report()),this.calls++,n}set(e,n){this.map.set(e,n),this.misses++,this.report()}report(){}setObject(e){if(t.objectMap.get(e))throw new RangeError("object already cached");t.objectMap.set(e,this),this.report()}static getCacheForObject(e){let n=t.objectMap.get(e);return n||(n=new t,t.objectMap.set(e,n)),n}};function Mf({isoYear:t,isoMonth:e,isoDay:n}){return`${Mo(t)}-${Jt(e)}-${Jt(n)}T00:00Z`}function Hs(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}Ht.objectMap=new WeakMap,Ht.MAX_CACHE_ENTRIES=1e3;var Un=class{constructor(){this.eras=[],this.hasEra=!1,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new Intl.DateTimeFormat(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:"short",timeZone:"UTC"})),this.formatter}getCalendarParts(e){let n=this.getFormatter(),o=new Date(e);if(e==="-271821-04-19T00:00Z"){let a=n.resolvedOptions();n=new Intl.DateTimeFormat(a.locale,{...a,timeZone:"Etc/GMT+1"}),o=new Date("-271821-04-20T00:00Z")}try{return n.formatToParts(o)}catch{throw new RangeError(`Invalid ISO date: ${e}`)}}isoToCalendarDate(e,n){let{year:o,month:a,day:s}=e,c=JSON.stringify({func:"isoToCalendarDate",isoYear:o,isoMonth:a,isoDay:s,id:this.id}),l=n.get(c);if(l)return l;let y=Mf({isoYear:o,isoMonth:a,isoDay:s}),m=this.getCalendarParts(y),g={};for(let x=0;x<m.length;x++){let{type:T,value:O}=m[x];if(T!=="year"&&T!=="relatedYear"||(this.hasEra?g.eraYear=+O:g.year=+O),T==="month"){let A=/^([0-9]*)(.*?)$/.exec(O);if(!A||A.length!=3||!A[1]&&!A[2])throw new RangeError(`Unexpected month: ${O}`);if(g.month=A[1]?+A[1]:1,g.month<1)throw new RangeError(`Invalid month ${O} from ${y}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(g.month>13)throw new RangeError(`Invalid month ${O} from ${y}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);A[2]&&(g.monthExtra=A[2])}T==="day"&&(g.day=+O),this.hasEra&&T==="era"&&O!=null&&O!==""&&(g.era=O.split(" (")[0].normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(/ /g,"-").toLowerCase())}if(this.hasEra&&g.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.hasEra){let x=this.eras.find(T=>g.era===T.genericName);x&&(g.era=x.code)}if(this.reviseIntlEra){let{era:x,eraYear:T}=this.reviseIntlEra(g,e);g.era=x,g.eraYear=T}this.checkIcuBugs&&this.checkIcuBugs(e);let b=this.adjustCalendarDate(g,n,"constrain",!0);if(b.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(b.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(b.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return n.set(c,b),["constrain","reject"].forEach(x=>{let T=JSON.stringify({func:"calendarToIsoDate",year:b.year,month:b.month,day:b.day,overflow:x,id:this.id});n.set(T,e)}),b}validateCalendarDate(e){let{month:n,year:o,day:a,eraYear:s,monthCode:c,monthExtra:l}=e;if(l!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(o===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(n===void 0&&c===void 0)throw new TypeError("month or monthCode is required");if(a===void 0)throw new RangeError("Missing day");if(c!==void 0){if(typeof c!="string")throw new RangeError("monthCode must be a string, not "+typeof c);if(!/^M([01]?\d)(L?)$/.test(c))throw new RangeError(`Invalid monthCode: ${c}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new TypeError("properties era and eraYear must be provided together")}adjustCalendarDate(e,n=void 0,o="constrain",a=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;this.validateCalendarDate(s);let c=this.monthsInYear(s,n),{month:l,monthCode:y}=s;return{month:l,monthCode:y}=Wu(s,o,c),{...s,month:l,monthCode:y}}regulateMonthDayNaive(e,n,o){let a=this.monthsInYear(e,o),{month:s,day:c}=e;return n==="reject"?(ft(s,1,a),ft(c,1,this.maximumMonthLength(e))):(s=Pt(s,1,a),c=Pt(c,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:c}}calendarToIsoDate(e,n="constrain",o){let a=e,s=this.adjustCalendarDate(e,o,n,!1);s=this.regulateMonthDayNaive(s,n,o);let{year:c,month:l,day:y}=s,m=JSON.stringify({func:"calendarToIsoDate",year:c,month:l,day:y,overflow:n,id:this.id}),g,b=o.get(m);if(b||a.year!==void 0&&a.month!==void 0&&a.day!==void 0&&(a.year!==s.year||a.month!==s.month||a.day!==s.day)&&(g=JSON.stringify({func:"calendarToIsoDate",year:a.year,month:a.month,day:a.day,overflow:n,id:this.id}),b=o.get(g),b))return b;let x=this.estimateIsoDate({year:c,month:l,day:y}),T=ne=>{let re=this.addDaysIso(x,ne);if(s.day>this.minimumMonthLength(s)){let ce=this.isoToCalendarDate(re,o);for(;ce.month!==l||ce.year!==c;){if(n==="reject")throw new RangeError(`day ${y} does not exist in month ${l} of year ${c}`);re=this.addDaysIso(re,-1),ce=this.isoToCalendarDate(re,o)}}return re},O=0,A=this.isoToCalendarDate(x,o),j=Hs(s,A);if(j.years!==0||j.months!==0||j.days!==0){let ne=365*j.years+30*j.months+j.days;x=this.addDaysIso(x,ne),A=this.isoToCalendarDate(x,o),j=Hs(s,A),j.years===0&&j.months===0?x=T(j.days):O=this.compareCalendarDates(s,A)}let Q=8;for(;O;){x=this.addDaysIso(x,O*Q);let ne=A;A=this.isoToCalendarDate(x,o);let re=O;if(O=this.compareCalendarDates(s,A),O){if(j=Hs(s,A),j.years===0&&j.months===0)x=T(j.days),O=0;else if(re&&O!==re)if(Q>1)Q/=2;else{if(n==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...a})}`);this.compareCalendarDates(A,ne)>0&&(x=this.addDaysIso(x,-1)),O=0}}}if(o.set(m,x),g&&o.set(g,x),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");return x}compareCalendarDates(e,n){return e.year!==n.year?Ft(e.year-n.year):e.month!==n.month?Ft(e.month-n.month):e.day!==n.day?Ft(e.day-n.day):0}regulateDate(e,n="constrain",o){let a=this.calendarToIsoDate(e,n,o);return this.isoToCalendarDate(a,o)}addDaysIso(e,n){return Ut(e.year,e.month,e.day+n)}addDaysCalendar(e,n,o){let a=this.calendarToIsoDate(e,"constrain",o),s=this.addDaysIso(a,n);return this.isoToCalendarDate(s,o)}addMonthsCalendar(e,n,o,a){let s=e,{day:c}=s;for(let l=0,y=Math.abs(n);l<y;l++){let{month:m}=s,g=s,b=n<0?-Math.max(c,this.daysInPreviousMonth(s,a)):this.daysInMonth(s,a),x=this.calendarToIsoDate(s,"constrain",a),T=this.addDaysIso(x,b);if(s=this.isoToCalendarDate(T,a),n>0){let O=this.monthsInYear(g,a);for(;s.month-1!=m%O;)T=this.addDaysIso(T,-1),s=this.isoToCalendarDate(T,a)}s.day!==c&&(s=this.regulateDate({...s,day:c},"constrain",a))}if(o==="reject"&&s.day!==c)throw new RangeError(`Day ${c} does not exist in resulting calendar month`);return s}addCalendar(e,{years:n=0,months:o=0,weeks:a=0,days:s=0},c,l){let{year:y,day:m,monthCode:g}=e,b=this.adjustCalendarDate({year:y+n,monthCode:g,day:m},l),x=this.addMonthsCalendar(b,o,c,l),T=s+7*a;return this.addDaysCalendar(x,T,l)}untilCalendar(e,n,o,a){let s=0,c=0,l=0,y=0;switch(o){case"day":s=this.calendarDaysUntil(e,n,a);break;case"week":{let m=this.calendarDaysUntil(e,n,a);s=m%7,c=(m-s)/7;break}case"month":case"year":{let m=this.compareCalendarDates(n,e);if(!m)return{years:0,months:0,weeks:0,days:0};let g=n.year-e.year,b=n.day-e.day;if(o==="year"&&g){let O=0;n.monthCode>e.monthCode&&(O=1),n.monthCode<e.monthCode&&(O=-1),O||(O=Math.sign(b)),y=O*m<0?g-m:g}let x,T=y?this.addCalendar(e,{years:y},"constrain",a):e;do l+=m,x=T,T=this.addMonthsCalendar(x,m,"constrain",a),T.day!==e.day&&(T=this.regulateDate({...T,day:e.day},"constrain",a));while(this.compareCalendarDates(n,T)*m>=0);l-=m,s=this.calendarDaysUntil(x,n,a);break}}return{years:y,months:l,weeks:c,days:s}}daysInMonth(e,n){let{day:o}=e,a=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===a)return s;let c=o<=a-s?a:s,l=this.calendarToIsoDate(e,"constrain",n),y=this.addDaysIso(l,c),m=this.isoToCalendarDate(y,n),g=this.addDaysIso(y,-m.day);return this.isoToCalendarDate(g,n).day}daysInPreviousMonth(e,n){let{day:o,month:a,year:s}=e,c={year:a>1?s:s-1,month:a,day:1},l=a>1?a-1:this.monthsInYear(c,n);c={...c,month:l};let y=this.minimumMonthLength(c),m=this.maximumMonthLength(c);if(y===m)return m;let g=this.calendarToIsoDate(e,"constrain",n),b=this.addDaysIso(g,-o);return this.isoToCalendarDate(b,n).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,n,o){let a=this.calendarToIsoDate(e,"constrain",o),s=this.calendarToIsoDate(n,"constrain",o);return $r(s.year,s.month-1,s.day)-$r(a.year,a.month-1,a.day)}monthDaySearchStartYear(e,n){return 1972}monthDayFromFields(e,n,o){let a,s,c,l,y,{era:m,eraYear:g,year:b,month:x,monthCode:T,day:O}=e;if(x!==void 0&&b===void 0&&(!this.hasEra||m===void 0||g===void 0))throw new TypeError("when month is present, year (or era and eraYear) are required");(T===void 0||b!==void 0||this.hasEra&&g!==void 0)&&({monthCode:T,day:O}=this.isoToCalendarDate(this.calendarToIsoDate(e,n,o),o));let A={year:this.monthDaySearchStartYear(T,O),month:12,day:31},j=this.isoToCalendarDate(A,o),Q=j.monthCode>T||j.monthCode===T&&j.day>=O?j.year:j.year-1;for(let ne=0;ne<20;ne++){let re=this.adjustCalendarDate({day:O,monthCode:T,year:Q-ne},o),ce=this.calendarToIsoDate(re,"constrain",o),me=this.isoToCalendarDate(ce,o);if({year:a,month:s,day:c}=ce,me.monthCode===T&&me.day===O)return{month:s,day:c,year:a};if(n==="constrain"){let ge=this.maxLengthOfMonthCodeInAnyYear(me.monthCode);if(me.monthCode===T&&me.day===ge&&O>ge)return{month:s,day:c,year:a};(l===void 0||me.monthCode===l.monthCode&&me.day>l.day)&&(l=me,y=ce)}}if(n==="constrain"&&y!==void 0)return y;throw new RangeError(`No recent ${this.id} year with monthCode ${T} and day ${O}`)}getFirstDayOfWeek(){}getMinimalDaysInFirstWeek(){}},yu=class extends Un{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}}}inLeapYear(e){let{year:n}=e;return(7*n+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,n){let{month:o,year:a}=e,s=this.getMonthCode(a,o),c=Object.entries(this.months).find(y=>y[1].monthCode===s);if(c===void 0)throw new RangeError(`unmatched Hebrew month: ${o}`);let l=c[1].days;return typeof l=="number"?l:l[n]}maxLengthOfMonthCodeInAnyYear(e){return["M04","M06","M08","M10","M12"].includes(e)?29:30}estimateIsoDate(e){let{year:n}=e;return{year:n-3760,month:1,day:1}}getMonthCode(e,n){return this.inLeapYear({year:e})?n===6?Sn(5,!0):Sn(n<6?n:n-1):Sn(n)}adjustCalendarDate(e,n,o="constrain",a=!1){let{year:s,month:c,monthCode:l,day:y,monthExtra:m}=e;if(s===void 0)throw new TypeError("Missing property: year");if(a){if(m){let g=this.months[m];if(!g)throw new RangeError(`Unrecognized month from formatToParts: ${m}`);c=this.inLeapYear({year:s})?g.leap:g.regular}return l=this.getMonthCode(s,c),{year:s,month:c,day:y,monthCode:l}}if(this.validateCalendarDate(e),c===void 0)if(l.endsWith("L")){if(l!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${l}`);if(c=6,!this.inLeapYear({year:s})){if(o==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);c=6,l="M06"}}else{c=jr(l),this.inLeapYear({year:s})&&c>=6&&c++;let g=this.monthsInYear({year:s});if(c<1||c>g)throw new RangeError(`Invalid monthCode: ${l}`)}else if(o==="reject"?(ft(c,1,this.monthsInYear({year:s})),ft(y,1,this.maximumMonthLength({year:s,month:c}))):(c=Pt(c,1,this.monthsInYear({year:s})),y=Pt(y,1,this.maximumMonthLength({year:s,month:c}))),l===void 0)l=this.getMonthCode(s,c);else if(this.getMonthCode(s,c)!==l)throw new RangeError(`monthCode ${l} doesn't correspond to month ${c} in Hebrew year ${s}`);return{...e,day:y,month:c,monthCode:l,year:s}}},fr=class extends Un{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425}inLeapYear(e,n){let o={year:e.year,month:1,monthCode:"M01",day:1},a={year:e.year+1,month:1,monthCode:"M01",day:1};return this.calendarDaysUntil(o,a,n)===355}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}maxLengthOfMonthCodeInAnyYear(){return 30}estimateIsoDate(e){let{year:n}=this.adjustCalendarDate(e);return{year:Math.floor(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},gu=class extends fr{constructor(){super(...arguments),this.id="islamic"}},vu=class extends fr{constructor(){super(...arguments),this.id="islamic-umalqura"}},_u=class extends fr{constructor(){super(...arguments),this.id="islamic-tbla"}},bu=class extends fr{constructor(){super(...arguments),this.id="islamic-civil"}},wu=class extends fr{constructor(){super(...arguments),this.id="islamic-rgsa"}},Du=class extends fr{constructor(){super(...arguments),this.id="islamicc"}},xu=class extends Un{constructor(){super(...arguments),this.id="persian",this.calendarType="solar"}inLeapYear(e,n){return this.daysInMonth({year:e.year,month:12,day:1},n)===30}monthsInYear(){return 12}minimumMonthLength(e){let{month:n}=e;return n===12?29:n<=6?31:30}maximumMonthLength(e){let{month:n}=e;return n===12?30:n<=6?31:30}maxLengthOfMonthCodeInAnyYear(e){return jr(e)<=6?31:30}estimateIsoDate(e){let{year:n}=this.adjustCalendarDate(e);return{year:n+621,month:1,day:1}}},Eu=class extends Un{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return qu(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}maxLengthOfMonthCodeInAnyYear(e){let n=jr(e),o=this.months[n];return o=o.leap??o,o.length}getMonthInfo(e){let{month:n}=e,o=this.months[n];if(o===void 0)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(e)&&o.leap&&(o=o.leap),o}estimateIsoDate(e){let n=this.adjustCalendarDate(e),o=this.getMonthInfo(n);return Ut(n.year+78+(o.nextYear?1:0),o.month,o.day+n.day-1)}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function qu(t){return t%4==0&&(t%100!=0||t%400==0)}var Sa=class extends Un{constructor(e,n){super(),this.calendarType="solar",this.id=e,this.isoEpoch=n}inLeapYear(e){let{year:n}=this.estimateIsoDate({month:1,day:1,year:e.year});return qu(n)}monthsInYear(){return 12}minimumMonthLength(e){let{month:n}=e;return n===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}maxLengthOfMonthCodeInAnyYear(e){return[31,29,31,30,31,30,31,31,30,31,30,31][jr(e)-1]}estimateIsoDate(e){let n=this.adjustCalendarDate(e);return Vi(n.year+this.isoEpoch.year,n.month+this.isoEpoch.month,n.day+this.isoEpoch.day,"constrain")}},Ta=class extends Un{constructor(e,n){super(),this.hasEra=!0,this.calendarType="solar",this.id=e;let{eras:o,anchorEra:a}=(function(s){let c,l=s;if(l.length===0)throw new RangeError("Invalid era data: eras are required");if(l.length===1&&l[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(l.length===1&&!l[0].code)throw new RangeError("Invalid era data: at least one named era is required");if(l.filter(m=>m.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");l.forEach(m=>{if(m.isAnchor||!m.anchorEpoch&&!m.reverseOf){if(c)throw new RangeError("Invalid era data: cannot have multiple anchor eras");c=m,m.anchorEpoch={year:m.hasYearZero?0:1}}else if(!m.code)throw new RangeError("If era name is blank, it must be the anchor era")}),l=l.filter(m=>m.code),l.forEach(m=>{let{reverseOf:g}=m;if(g){let b=l.find(x=>x.code===g);if(b===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${g}`);m.reverseOf=b,m.anchorEpoch=b.anchorEpoch,m.isoEpoch=b.isoEpoch}m.anchorEpoch.month===void 0&&(m.anchorEpoch.month=1),m.anchorEpoch.day===void 0&&(m.anchorEpoch.day=1)}),l.sort((m,g)=>{if(m.reverseOf)return 1;if(g.reverseOf)return-1;if(!m.isoEpoch||!g.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return g.isoEpoch.year-m.isoEpoch.year});let y=l[l.length-1].reverseOf;if(y&&y!==l[l.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return l.forEach((m,g)=>{m.genericName="era"+(l.length-1-g)}),{eras:l,anchorEra:c||l[0]}})(n);this.anchorEra=a,this.eras=o}inLeapYear(e){let{year:n}=this.estimateIsoDate({month:1,day:1,year:e.year});return qu(n)}monthsInYear(){return 12}minimumMonthLength(e){let{month:n}=e;return n===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}maxLengthOfMonthCodeInAnyYear(e){return[31,29,31,30,31,30,31,31,30,31,30,31][jr(e)-1]}completeEraYear(e){let n=(l,y,m)=>{let g=e[l];if(g!=null&&g!=y&&!(m||[]).includes(g)){let b=m?.[0];throw new RangeError(`Input ${l} ${g} doesn't match calculated value ${b?`${y} (also called ${b})`:y}`)}},o=l=>{let y,m={...e,year:l},g=this.eras.find((b,x)=>{if(x===this.eras.length-1){if(b.reverseOf){if(l>0)throw new RangeError(`Signed year ${l} is invalid for era ${b.code}`);return y=b.anchorEpoch.year-l,!0}return y=l-b.anchorEpoch.year+(b.hasYearZero?0:1),!0}return this.compareCalendarDates(m,b.anchorEpoch)>=0&&(y=l-b.anchorEpoch.year+(b.hasYearZero?0:1),!0)});if(!g)throw new RangeError(`Year ${l} was not matched by any era`);return{eraYear:y,era:g.code,eraNames:g.names}},{year:a,eraYear:s,era:c}=e;if(a!=null){let l=o(a);({eraYear:s,era:c}=l),n("era",c,l?.eraNames),n("eraYear",s)}else{if(s==null)throw new RangeError("Either year or eraYear and era are required");{if(c===void 0)throw new RangeError("era and eraYear must be provided together");let l=this.eras.find(({code:y,names:m=[]})=>y===c||m.includes(c));if(!l)throw new RangeError(`Era ${c} (ISO year ${s}) was not matched by any era`);a=l.reverseOf?l.anchorEpoch.year-s:s+l.anchorEpoch.year-(l.hasYearZero?0:1),n("year",a),{eraYear:s,era:c}=o(a)}}return{...e,year:a,eraYear:s,era:c}}adjustCalendarDate(e,n,o="constrain"){let a=e,{month:s,monthCode:c}=a;return s===void 0&&(a={...a,month:jr(c)}),this.validateCalendarDate(a),a=this.completeEraYear(a),super.adjustCalendarDate(a,n,o)}estimateIsoDate(e){let n=this.adjustCalendarDate(e),{year:o,month:a,day:s}=n,{anchorEra:c}=this;return Vi(o+c.isoEpoch.year-(c.hasYearZero?0:1),a,s,"constrain")}},uo=class extends Ta{constructor(e,n){super(e,n)}isoToCalendarDate(e){let{year:n,month:o,day:a}=e,s=Sn(o),c=n-this.anchorEra.isoEpoch.year+1;return this.completeEraYear({year:c,month:o,monthCode:s,day:a})}},En={inLeapYear(t){let{year:e}=t;return(e+1)%4==0},monthsInYear:()=>13,minimumMonthLength(t){let{month:e}=t;return e===13?this.inLeapYear(t)?6:5:30},maximumMonthLength(t){return this.minimumMonthLength(t)},maxLengthOfMonthCodeInAnyYear:t=>t==="M13"?6:30},Cu=class extends Sa{constructor(e,n){super(e,n),this.inLeapYear=En.inLeapYear,this.monthsInYear=En.monthsInYear,this.minimumMonthLength=En.minimumMonthLength,this.maximumMonthLength=En.maximumMonthLength,this.maxLengthOfMonthCodeInAnyYear=En.maxLengthOfMonthCodeInAnyYear}},ka=class extends Ta{constructor(e,n){super(e,n),this.inLeapYear=En.inLeapYear,this.monthsInYear=En.monthsInYear,this.minimumMonthLength=En.minimumMonthLength,this.maximumMonthLength=En.maximumMonthLength,this.maxLengthOfMonthCodeInAnyYear=En.maxLengthOfMonthCodeInAnyYear}},Su=class extends Cu{constructor(){super("ethioaa",{year:-5492,month:7,day:17})}},Tu=class extends ka{constructor(){super("coptic",[{code:"coptic",isoEpoch:{year:284,month:8,day:29}},{code:"coptic-inverse",reverseOf:"coptic"}])}},ku=class extends ka{constructor(){super("ethiopic",[{code:"ethioaa",names:["ethiopic-amete-alem","mundi"],isoEpoch:{year:-5492,month:7,day:17}},{code:"ethiopic",names:["incar"],isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},Iu=class extends uo{constructor(){super("roc",[{code:"roc",names:["minguo"],isoEpoch:{year:1912,month:1,day:1}},{code:"roc-inverse",names:["before-roc"],reverseOf:"roc"}])}},Mu=class extends Sa{constructor(){super("buddhist",{year:-543,month:1,day:1})}},Ou=class extends uo{constructor(){super("gregory",[{code:"gregory",names:["ad","ce"],isoEpoch:{year:1,month:1,day:1}},{code:"gregory-inverse",names:["be","bce"],reverseOf:"gregory"}])}reviseIntlEra(e){let{era:n,eraYear:o}=e;return n==="b"&&(n="gregory-inverse"),n==="a"&&(n="gregory"),{era:n,eraYear:o}}getFirstDayOfWeek(){return 1}getMinimalDaysInFirstWeek(){return 1}},Ru=class extends uo{constructor(){super("japanese",[{code:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{code:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{code:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{code:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{code:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{code:"japanese",names:["japanese","gregory","ad","ce"],isoEpoch:{year:1,month:1,day:1}},{code:"japanese-inverse",names:["japanese-inverse","gregory-inverse","bc","bce"],reverseOf:"japanese"}]),this.erasBeginMidYear=!0}reviseIntlEra(e,n){let{era:o,eraYear:a}=e,{year:s}=n;return this.eras.find(c=>c.code===o)?{era:o,eraYear:a}:s<1?{era:"japanese-inverse",eraYear:1-s}:{era:"japanese",eraYear:s}}},Ia=class extends Un{constructor(){super(...arguments),this.calendarType="lunisolar"}inLeapYear(e,n){let o=this.getMonthList(e.year,n);return Object.entries(o).length===13}monthsInYear(e,n){return this.inLeapYear(e,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}maxLengthOfMonthCodeInAnyYear(e){return["M01L","M09L","M10L","M11L","M12L"].includes(e)?29:30}monthDaySearchStartYear(e,n){let o={M01L:[1651,1651],M02L:[1947,1765],M03L:[1966,1955],M04L:[1963,1944],M05L:[1971,1952],M06L:[1960,1941],M07L:[1968,1938],M08L:[1957,1718],M09L:[1832,1832],M10L:[1870,1870],M11L:[1814,1814],M12L:[1890,1890]}[e]??[1972,1972];return n<30?o[0]:o[1]}getMonthList(e,n){if(e===void 0)throw new TypeError("Missing year");let o=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),a=n.get(o);if(a)return a;let s=this.getFormatter(),c=(j,Q)=>{let ne=Mf({isoYear:j,isoMonth:2,isoDay:1}),re=new Date(ne);re.setUTCDate(Q+1);let ce=s.formatToParts(re),me=ce.find(ye=>ye.type==="month").value,ge=+ce.find(ye=>ye.type==="day").value,xe=ce.find(ye=>ye.type==="relatedYear"),we;if(xe===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return we=+xe.value,{calendarMonthString:me,calendarDay:ge,calendarYearToVerify:we}},l=17,{calendarMonthString:y,calendarDay:m,calendarYearToVerify:g}=c(e,l);y!=="1"&&(l+=29,{calendarMonthString:y,calendarDay:m}=c(e,l)),l-=m-5;let b={},x,T,O=1,A=!1;do({calendarMonthString:y,calendarDay:m,calendarYearToVerify:g}=c(e,l)),x&&(b[T].daysInMonth=x+30-m),g!==e?A=!0:(b[y]={monthIndex:O++},l+=30),x=m,T=y;while(!A);return b[T].daysInMonth=x+30-m,n.set(o,b),b}estimateIsoDate(e){let{year:n,month:o}=e;return{year:n,month:o>=12?12:o+1,day:1}}adjustCalendarDate(e,n,o="constrain",a=!1){let{year:s,month:c,monthExtra:l,day:y,monthCode:m}=e;if(s===void 0)throw new TypeError("Missing property: year");if(a){if(l&&l!=="bis")throw new RangeError(`Unexpected leap month suffix: ${l}`);let g=Sn(c,l!==void 0),b=`${c}${l||""}`,x=this.getMonthList(s,n)[b];if(x===void 0)throw new RangeError(`Unmatched month ${b} in Chinese year ${s}`);return c=x.monthIndex,{year:s,month:c,day:y,monthCode:g}}if(this.validateCalendarDate(e),c===void 0){let g=this.getMonthList(s,n),b=m.replace(/^M|L$/g,T=>T==="L"?"bis":"");b[0]==="0"&&(b=b.slice(1));let x=g[b];if(c=x&&x.monthIndex,c===void 0&&m.endsWith("L")&&m!="M13L"&&o==="constrain"){let T=+m.replace(/^M0?|L$/g,"");x=g[T],x&&(c=x.monthIndex,m=Sn(T))}if(c===void 0)throw new RangeError(`Unmatched month ${m} in Chinese year ${s}`)}else if(m===void 0){let g=this.getMonthList(s,n),b=Object.entries(g),x=b.length;o==="reject"?(ft(c,1,x),ft(y,1,this.maximumMonthLength())):(c=Pt(c,1,x),y=Pt(y,1,this.maximumMonthLength()));let T=b.find(O=>O[1].monthIndex===c);if(T===void 0)throw new RangeError(`Invalid month ${c} in Chinese year ${s}`);m=Sn(+T[0].replace("bis",""),T[0].indexOf("bis")!==-1)}else{let g=this.getMonthList(s,n),b=m.replace(/^M|L$/g,T=>T==="L"?"bis":"");b[0]==="0"&&(b=b.slice(1));let x=g[b];if(!x)throw new RangeError(`Unmatched monthCode ${m} in Chinese year ${s}`);if(c!==x.monthIndex)throw new RangeError(`monthCode ${m} doesn't correspond to month ${c} in Chinese year ${s}`)}return{...e,year:s,month:c,monthCode:m,day:y}}},Pu=class extends Ia{constructor(){super(...arguments),this.id="chinese"}},Au=class extends Ia{constructor(){super(...arguments),this.id="dangi"}},$u=class{constructor(e){this.helper=e}extraFields(e){return this.helper.hasEra&&e.includes("year")?["era","eraYear"]:[]}resolveFields(e){if(this.helper.calendarType!=="lunisolar"){let n=new Ht;Wu(e,void 0,this.helper.monthsInYear({year:e.year??1972},n))}}dateToISO(e,n){let o=new Ht,a=this.helper.calendarToIsoDate(e,n,o);return o.setObject(a),a}monthDayToISOReferenceDate(e,n){let o=new Ht,a=this.helper.monthDayFromFields(e,n,o);return o.setObject(a),a}fieldKeysToIgnore(e){let n=new Set;for(let o=0;o<e.length;o++){let a=e[o];switch(n.add(a),a){case"era":n.add("eraYear"),n.add("year");break;case"eraYear":n.add("era"),n.add("year");break;case"year":n.add("era"),n.add("eraYear");break;case"month":n.add("monthCode"),this.helper.erasBeginMidYear&&(n.add("era"),n.add("eraYear"));break;case"monthCode":n.add("month"),this.helper.erasBeginMidYear&&(n.add("era"),n.add("eraYear"));break;case"day":this.helper.erasBeginMidYear&&(n.add("era"),n.add("eraYear"))}}return kf(n)}dateAdd(e,{years:n,months:o,weeks:a,days:s},c){let l=Ht.getCacheForObject(e),y=this.helper.isoToCalendarDate(e,l),m=this.helper.addCalendar(y,{years:n,months:o,weeks:a,days:s},c,l),g=this.helper.calendarToIsoDate(m,"constrain",l);return Ht.getCacheForObject(g)||new Ht(l).setObject(g),g}dateUntil(e,n,o){let a=Ht.getCacheForObject(e),s=Ht.getCacheForObject(n),c=this.helper.isoToCalendarDate(e,a),l=this.helper.isoToCalendarDate(n,s);return this.helper.untilCalendar(c,l,o,a)}isoToDate(e,n){let o=Ht.getCacheForObject(e),a=this.helper.isoToCalendarDate(e,o);if(n.dayOfWeek&&(a.dayOfWeek=Oo.iso8601.isoToDate(e,{dayOfWeek:!0}).dayOfWeek),n.dayOfYear){let s=this.helper.startOfCalendarYear(a),c=this.helper.calendarDaysUntil(s,a,o);a.dayOfYear=c+1}if(n.weekOfYear&&(a.weekOfYear=If(this.helper.id,e)),a.daysInWeek=7,n.daysInMonth&&(a.daysInMonth=this.helper.daysInMonth(a,o)),n.daysInYear){let s=this.helper.startOfCalendarYear(a),c=this.helper.addCalendar(s,{years:1},"constrain",o);a.daysInYear=this.helper.calendarDaysUntil(s,c,o)}return n.monthsInYear&&(a.monthsInYear=this.helper.monthsInYear(a,o)),n.inLeapYear&&(a.inLeapYear=this.helper.inLeapYear(a,o)),a}getFirstDayOfWeek(){return this.helper.getFirstDayOfWeek()}getMinimalDaysInFirstWeek(){return this.helper.getMinimalDaysInFirstWeek()}};for(let t of[yu,xu,ku,Su,Tu,Pu,Au,Iu,Eu,Mu,Ou,Ru,gu,vu,_u,bu,wu,Du]){let e=new t;Oo[e.id]=new $u(e)}tu("calendarImpl",function(t){return Oo[t]});var co=Intl.DateTimeFormat;function Xr(t,e){let n=_(t,e);return typeof n=="function"&&(n=new co(_(t,Ul),n(_(t,Vs))),(function(o,a,s){let c=Oa(o);if(c===void 0)throw new TypeError("Missing slots for the given container");if(c[a]===void 0)throw new TypeError(`tried to reset ${a} which was not set`);c[a]=s})(t,e,n)),n}function Li(t){return jt(t,Lr)}var Br=class{constructor(e=void 0,n=void 0){(function(o,a,s){let c=s!==void 0,l;if(c){let b=["localeMatcher","calendar","numberingSystem","hour12","hourCycle","timeZone","weekday","era","year","month","day","dayPeriod","hour","minute","second","fractionalSecondDigits","timeZoneName","formatMatcher","dateStyle","timeStyle"];l=(function(T){if(T==null)throw new TypeError(`Expected object not ${T}`);return Object(T)})(s);let x=Object.create(null);for(let T=0;T<b.length;T++){let O=b[T];Object.prototype.hasOwnProperty.call(l,O)&&(x[O]=l[O])}l=x}else l=Object.create(null);let y=new co(a,l),m=y.resolvedOptions();if(Zn(o),c){let b=Object.assign(Object.create(null),m);for(let x in b)Object.prototype.hasOwnProperty.call(l,x)||delete b[x];b.hour12=l.hour12,b.hourCycle=l.hourCycle,Be(o,Vs,b)}else Be(o,Vs,l);Be(o,Ul,m.locale),Be(o,Lr,y),Be(o,ti,m.timeZone),Be(o,zi,m.calendar),Be(o,Bl,kp),Be(o,Ll,Sp),Be(o,Yl,Tp),Be(o,zl,Cp),Be(o,Fl,Ip),Be(o,Kl,Mp);let g=c?l.timeZone:void 0;if(g===void 0)Be(o,Qs,m.timeZone);else{let b=$a(g);if(b.startsWith("\u2212"))throw new RangeError("Unicode minus (U+2212) is not supported in time zone offsets");Be(o,Qs,$t(b))}})(this,e,n)}get format(){K(this,Li);let e=wp.bind(this);return Object.defineProperties(e,{length:{value:1,enumerable:!1,writable:!1,configurable:!0},name:{value:"",enumerable:!1,writable:!1,configurable:!0}}),e}formatRange(e,n){return K(this,Li),xp.call(this,e,n)}formatToParts(e,...n){return K(this,Li),Dp.call(this,e,...n)}formatRangeToParts(e,n){return K(this,Li),Ep.call(this,e,n)}resolvedOptions(){return K(this,Li),bp.call(this)}};"formatToParts"in co.prototype||delete Br.prototype.formatToParts,"formatRangeToParts"in co.prototype||delete Br.prototype.formatRangeToParts;var Vt=function(t=void 0,e=void 0){return new Br(t,e)};function bp(){let t=_(this,Lr).resolvedOptions();return t.timeZone=_(this,Qs),t}function wp(t,...e){let n,o,a=hi(t,this);return a.formatter?(n=a.formatter,o=[ln(a.epochNs,"floor")]):(n=_(this,Lr),o=[t,...e]),n.format(...o)}function Dp(t,...e){let n,o,a=hi(t,this);return a.formatter?(n=a.formatter,o=[ln(a.epochNs,"floor")]):(n=_(this,Lr),o=[t,...e]),n.formatToParts(...o)}function xp(t,e){if(t===void 0||e===void 0)throw new TypeError("Intl.DateTimeFormat.formatRange requires two values");let n=Ma(t),o=Ma(e),a,s=[n,o];if(Fn(n)!==Fn(o))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");if(Fn(n)){if(!Of(n,o))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{epochNs:c,formatter:l}=hi(n,this),{epochNs:y,formatter:m}=hi(o,this);l&&(a=l,s=[ln(c,"floor"),ln(y,"floor")])}return a||(a=_(this,Lr)),a.formatRange(...s)}function Ep(t,e){if(t===void 0||e===void 0)throw new TypeError("Intl.DateTimeFormat.formatRange requires two values");let n=Ma(t),o=Ma(e),a,s=[n,o];if(Fn(n)!==Fn(o))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");if(Fn(n)){if(!Of(n,o))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{epochNs:c,formatter:l}=hi(n,this),{epochNs:y,formatter:m}=hi(o,this);l&&(a=l,s=[ln(c,"floor"),ln(y,"floor")])}return a||(a=_(this,Lr)),a.formatRangeToParts(...s)}function Ro(t={},e={}){let n=Object.assign({},t),o=["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"];for(let a=0;a<o.length;a++){let s=o[a];n[s]=s in e?e[s]:n[s],n[s]!==!1&&n[s]!==void 0||delete n[s]}return n}function Cp(t){let e=Ro(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});if(e.timeStyle!=="long"&&e.timeStyle!=="full"||(delete e.timeStyle,Object.assign(e,{hour:"numeric",minute:"2-digit",second:"2-digit"})),!Ua(e)){if(Po(t))throw new TypeError(`cannot format Temporal.PlainTime with options [${Object.keys(t)}]`);Object.assign(e,{hour:"numeric",minute:"numeric",second:"numeric"})}return e}function Sp(t){let e={short:{year:"2-digit",month:"numeric"},medium:{year:"numeric",month:"short"},long:{year:"numeric",month:"long"},full:{year:"numeric",month:"long"}},n=Ro(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});if("dateStyle"in n&&n.dateStyle){let o=n.dateStyle;delete n.dateStyle,Object.assign(n,e[o])}if(!("year"in n||"month"in n||"era"in n)){if(Po(t))throw new TypeError(`cannot format PlainYearMonth with options [${Object.keys(t)}]`);Object.assign(n,{year:"numeric",month:"numeric"})}return n}function Tp(t){let e={short:{month:"numeric",day:"numeric"},medium:{month:"short",day:"numeric"},long:{month:"long",day:"numeric"},full:{month:"long",day:"numeric"}},n=Ro(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});if("dateStyle"in n&&n.dateStyle){let o=n.dateStyle;delete n.dateStyle,Object.assign(n,e[o])}if(!("month"in n)&&!("day"in n)){if(Po(t))throw new TypeError(`cannot format PlainMonthDay with options [${Object.keys(t)}]`);Object.assign(n,{month:"numeric",day:"numeric"})}return n}function kp(t){let e=Ro(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});if(!Ka(e)){if(Po(t))throw new TypeError(`cannot format PlainDate with options [${Object.keys(t)}]`);Object.assign(e,{year:"numeric",month:"numeric",day:"numeric"})}return e}function Ip(t){let e=Ro(t,{timeZoneName:!1});if((e.timeStyle==="long"||e.timeStyle==="full")&&(delete e.timeStyle,Object.assign(e,{hour:"numeric",minute:"2-digit",second:"2-digit"}),e.dateStyle)&&(Object.assign(e,{short:{year:"numeric",month:"numeric",day:"numeric"},medium:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric"},full:{year:"numeric",month:"long",day:"numeric",weekday:"long"}}[e.dateStyle]),delete e.dateStyle),!Ua(e)&&!Ka(e)){if(Po(t))throw new TypeError(`cannot format PlainDateTime with options [${Object.keys(t)}]`);Object.assign(e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}return e}function Mp(t){let e=t;return Ua(e)||Ka(e)||(e=Object.assign({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Ka(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t||"era"in t}function Ua(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t||"fractionalSecondDigits"in t}function Po(t){return Ka(t)||Ua(t)||"dateStyle"in t||"timeStyle"in t||"timeZoneName"in t}function Fn(t){return tt(t)||ot(t)||Qe(t)||Le(t)||ht(t)||Gt(t)||dt(t)}function Ma(t){return Fn(t)?t:Aa(t)}function Of(t,e){return!(!Fn(t)||!Fn(e)||ot(t)&&!ot(e)||tt(t)&&!tt(e)||Qe(t)&&!Qe(e)||Le(t)&&!Le(e)||ht(t)&&!ht(e)||Gt(t)&&!Gt(e)||dt(t)&&!dt(e))}function hi(t,e){if(ot(t)){let n={isoDate:{year:1970,month:1,day:1},time:_(t,nt)};return{epochNs:wt(_(e,ti),n,"compatible"),formatter:Xr(e,zl)}}if(ht(t)){let n=_(t,ue),o=_(e,zi);if(n!==o)throw new RangeError(`cannot format PlainYearMonth with calendar ${n} in locale with calendar ${o}`);let a=Ze(_(t,Re),{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});return{epochNs:wt(_(e,ti),a,"compatible"),formatter:Xr(e,Ll)}}if(Gt(t)){let n=_(t,ue),o=_(e,zi);if(n!==o)throw new RangeError(`cannot format PlainMonthDay with calendar ${n} in locale with calendar ${o}`);let a=Ze(_(t,Re),{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});return{epochNs:wt(_(e,ti),a,"compatible"),formatter:Xr(e,Yl)}}if(tt(t)){let n=_(t,ue),o=_(e,zi);if(n!=="iso8601"&&n!==o)throw new RangeError(`cannot format PlainDate with calendar ${n} in locale with calendar ${o}`);let a=Ze(_(t,Re),{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});return{epochNs:wt(_(e,ti),a,"compatible"),formatter:Xr(e,Bl)}}if(Qe(t)){let n=_(t,ue),o=_(e,zi);if(n!=="iso8601"&&n!==o)throw new RangeError(`cannot format PlainDateTime with calendar ${n} in locale with calendar ${o}`);let a=_(t,Ve);return{epochNs:wt(_(e,ti),a,"compatible"),formatter:Xr(e,Fl)}}if(Le(t))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return dt(t)?{epochNs:_(t,Oe),formatter:Xr(e,Kl)}:{}}function Rf(t){let e=Object.create(null);return e.years=_(t,Ct),e.months=_(t,St),e.weeks=_(t,Yt),e.days=_(t,Tt),e.hours=_(t,kt),e.minutes=_(t,It),e.seconds=_(t,Mt),e.milliseconds=_(t,Ot),e.microseconds=_(t,Rt),e.nanoseconds=_(t,zt),e}Br.prototype.constructor=Vt,Object.defineProperty(Vt,"prototype",{value:Br.prototype,writable:!1,enumerable:!1,configurable:!1}),Vt.supportedLocalesOf=co.supportedLocalesOf,Wn(Vt,"Intl.DateTimeFormat");var{format:Op,formatToParts:Rp}=Intl.DurationFormat?.prototype??Object.create(null);function Hu(t){Intl.DurationFormat.prototype.resolvedOptions.call(this);let e=Rf(un(t));return Op.call(this,e)}Intl.DurationFormat?.prototype&&(Intl.DurationFormat.prototype.format=Hu,Intl.DurationFormat.prototype.formatToParts=function(t){Intl.DurationFormat.prototype.resolvedOptions.call(this);let e=Rf(un(t));return Rp.call(this,e)});var K0=Object.freeze({__proto__:null,DateTimeFormat:Vt,ModifiedIntlDurationFormatPrototypeFormat:Hu}),lo=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");lf(this,Ca(e))}get epochMilliseconds(){return K(this,dt),ln(_(this,Oe),"floor")}get epochNanoseconds(){return K(this,dt),Sf(F.default.BigInt(_(this,Oe)))}add(e){return K(this,dt),Cl("add",this,e)}subtract(e){return K(this,dt),Cl("subtract",this,e)}until(e,n=void 0){return K(this,dt),vl("until",this,e,n)}since(e,n=void 0){return K(this,dt),vl("since",this,e,n)}round(e){if(K(this,dt),e===void 0)throw new TypeError("options parameter is required");let n=typeof e=="string"?Nr("smallestUnit",e):Se(e),o=pi(n),a=gn(n,"halfExpand"),s=Kt(n,"smallestUnit","time",Kn);return yi(o,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[s],!0),pn(fu(_(this,Oe),o,s,a))}equals(e){K(this,dt);let n=Ui(e),o=_(this,Oe),a=_(n,Oe);return F.default.equal(F.default.BigInt(o),F.default.BigInt(a))}toString(e=void 0){K(this,dt);let n=Se(e),o=xo(n),a=gn(n,"trunc"),s=Kt(n,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let c=n.timeZone;c!==void 0&&(c=$t(c));let{precision:l,unit:y,increment:m}=Eo(s,o);return cl(pn(fu(_(this,Oe),m,y,a)),c,l)}toJSON(){return K(this,dt),cl(this,void 0,"auto")}toLocaleString(e=void 0,n=void 0){return K(this,dt),new Vt(e,n).format(this)}valueOf(){hr("Instant")}toZonedDateTimeISO(e){K(this,dt);let n=$t(e);return _t(_(this,Oe),n,"iso8601")}static fromEpochMilliseconds(e){return pn(yn(Aa(e)))}static fromEpochNanoseconds(e){return pn(Ca(e))}static from(e){return Ui(e)}static compare(e,n){let o=Ui(e),a=Ui(n),s=_(o,Oe),c=_(a,Oe);return F.default.lessThan(s,c)?-1:F.default.greaterThan(s,c)?1:0}};Wn(lo,"Temporal.Instant");var fo=class{constructor(e,n,o,a="iso8601"){let s=Ae(e),c=Ae(n),l=Ae(o),y=Bt(a===void 0?"iso8601":ut(a));Pr(s,c,l),of(this,{year:s,month:c,day:l},y)}get calendarId(){return K(this,tt),_(this,ue)}get era(){return Dt(this,"era")}get eraYear(){return Dt(this,"eraYear")}get year(){return Dt(this,"year")}get month(){return Dt(this,"month")}get monthCode(){return Dt(this,"monthCode")}get day(){return Dt(this,"day")}get dayOfWeek(){return Dt(this,"dayOfWeek")}get dayOfYear(){return Dt(this,"dayOfYear")}get weekOfYear(){return Dt(this,"weekOfYear")?.week}get yearOfWeek(){return Dt(this,"weekOfYear")?.year}get daysInWeek(){return Dt(this,"daysInWeek")}get daysInMonth(){return Dt(this,"daysInMonth")}get daysInYear(){return Dt(this,"daysInYear")}get monthsInYear(){return Dt(this,"monthsInYear")}get inLeapYear(){return Dt(this,"inLeapYear")}with(e,n=void 0){if(K(this,tt),!rt(e))throw new TypeError("invalid argument");mi(e);let o=_(this,ue),a=Nt(o,_(this,Re));return a=Rr(o,a,en(o,e,["year","month","monthCode","day"],[],"partial")),At(lr(o,a,Ue(Se(n))),o)}withCalendar(e){K(this,tt);let n=ko(e);return At(_(this,Re),n)}add(e,n=void 0){return K(this,tt),Sl("add",this,e,n)}subtract(e,n=void 0){return K(this,tt),Sl("subtract",this,e,n)}until(e,n=void 0){return K(this,tt),_l("until",this,e,n)}since(e,n=void 0){return K(this,tt),_l("since",this,e,n)}equals(e){K(this,tt);let n=Fi(e);return In(_(this,Re),_(n,Re))===0&&Tn(_(this,ue),_(n,ue))}toString(e=void 0){return K(this,tt),ll(this,Do(Se(e)))}toJSON(){return K(this,tt),ll(this)}toLocaleString(e=void 0,n=void 0){return K(this,tt),new Vt(e,n).format(this)}valueOf(){hr("PlainDate")}toPlainDateTime(e=void 0){K(this,tt);let n=rf(e);return an(Ze(_(this,Re),n),_(this,ue))}toZonedDateTime(e){let n,o;if(K(this,tt),rt(e)){let c=e.timeZone;c===void 0?n=$t(e):(n=$t(c),o=e.plainTime)}else n=$t(e);let a=_(this,Re),s;return o===void 0?s=rr(n,a):(o=or(o),s=wt(n,Ze(a,_(o,nt)),"compatible")),_t(s,n,_(this,ue))}toPlainYearMonth(){K(this,tt);let e=_(this,ue);return oi(ro(e,Nt(e,_(this,Re)),"constrain"),e)}toPlainMonthDay(){K(this,tt);let e=_(this,ue);return ii(ba(e,Nt(e,_(this,Re)),"constrain"),e)}static from(e,n=void 0){return Fi(e,n)}static compare(e,n){let o=Fi(e),a=Fi(n);return In(_(o,Re),_(a,Re))}};function Dt(t,e){K(t,tt);let n=_(t,Re);return Co(t).isoToDate(n,{[e]:!0})[e]}Wn(fo,"Temporal.PlainDate");var ho=class{constructor(e,n,o,a=0,s=0,c=0,l=0,y=0,m=0,g="iso8601"){let b=Ae(e),x=Ae(n),T=Ae(o),O=a===void 0?0:Ae(a),A=s===void 0?0:Ae(s),j=c===void 0?0:Ae(c),Q=l===void 0?0:Ae(l),ne=y===void 0?0:Ae(y),re=m===void 0?0:Ae(m),ce=Bt(g===void 0?"iso8601":ut(g));Fu(b,x,T,O,A,j,Q,ne,re),af(this,{isoDate:{year:b,month:x,day:T},time:{hour:O,minute:A,second:j,millisecond:Q,microsecond:ne,nanosecond:re}},ce)}get calendarId(){return K(this,Qe),_(this,ue)}get year(){return xt(this,"year")}get month(){return xt(this,"month")}get monthCode(){return xt(this,"monthCode")}get day(){return xt(this,"day")}get hour(){return Jr(this,"hour")}get minute(){return Jr(this,"minute")}get second(){return Jr(this,"second")}get millisecond(){return Jr(this,"millisecond")}get microsecond(){return Jr(this,"microsecond")}get nanosecond(){return Jr(this,"nanosecond")}get era(){return xt(this,"era")}get eraYear(){return xt(this,"eraYear")}get dayOfWeek(){return xt(this,"dayOfWeek")}get dayOfYear(){return xt(this,"dayOfYear")}get weekOfYear(){return xt(this,"weekOfYear")?.week}get yearOfWeek(){return xt(this,"weekOfYear")?.year}get daysInWeek(){return xt(this,"daysInWeek")}get daysInYear(){return xt(this,"daysInYear")}get daysInMonth(){return xt(this,"daysInMonth")}get monthsInYear(){return xt(this,"monthsInYear")}get inLeapYear(){return xt(this,"inLeapYear")}with(e,n=void 0){if(K(this,Qe),!rt(e))throw new TypeError("invalid argument");mi(e);let o=_(this,ue),a=_(this,Ve),s={...Nt(o,a.isoDate),...a.time};return s=Rr(o,s,en(o,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond"],"partial")),an(So(o,s,Ue(Se(n))),o)}withPlainTime(e=void 0){K(this,Qe);let n=rf(e);return an(Ze(_(this,Ve).isoDate,n),_(this,ue))}withCalendar(e){K(this,Qe);let n=ko(e);return an(_(this,Ve),n)}add(e,n=void 0){return K(this,Qe),Tl("add",this,e,n)}subtract(e,n=void 0){return K(this,Qe),Tl("subtract",this,e,n)}until(e,n=void 0){return K(this,Qe),bl("until",this,e,n)}since(e,n=void 0){return K(this,Qe),bl("since",this,e,n)}round(e){if(K(this,Qe),e===void 0)throw new TypeError("options parameter is required");let n=typeof e=="string"?Nr("smallestUnit",e):Se(e),o=pi(n),a=gn(n,"halfExpand"),s=Kt(n,"smallestUnit","time",Kn,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];yi(o,c,c===1);let l=_(this,Ve);return an(o===1&&s==="nanosecond"?l:du(l,o,s,a),_(this,ue))}equals(e){K(this,Qe);let n=Ki(e);return di(_(this,Ve),_(n,Ve))===0&&Tn(_(this,ue),_(n,ue))}toString(e=void 0){K(this,Qe);let n=Se(e),o=Do(n),a=xo(n),s=gn(n,"trunc"),c=Kt(n,"smallestUnit","time",void 0);if(c==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:l,unit:y,increment:m}=Eo(c,a),g=du(_(this,Ve),m,y,s);return Ar(g),oo(g,_(this,ue),l,o)}toJSON(){return K(this,Qe),oo(_(this,Ve),_(this,ue),"auto")}toLocaleString(e=void 0,n=void 0){return K(this,Qe),new Vt(e,n).format(this)}valueOf(){hr("PlainDateTime")}toZonedDateTime(e,n=void 0){K(this,Qe);let o=$t(e),a=Xi(Se(n));return _t(wt(o,_(this,Ve),a),o,_(this,ue))}toPlainDate(){return K(this,Qe),At(_(this,Ve).isoDate,_(this,ue))}toPlainTime(){return K(this,Qe),jn(_(this,Ve).time)}static from(e,n=void 0){return Ki(e,n)}static compare(e,n){let o=Ki(e),a=Ki(n);return di(_(o,Ve),_(a,Ve))}};function xt(t,e){K(t,Qe);let n=_(t,Ve).isoDate;return Co(t).isoToDate(n,{[e]:!0})[e]}function Jr(t,e){return K(t,Qe),_(t,Ve).time[e]}Wn(ho,"Temporal.PlainDateTime");var mo=class t{constructor(e=0,n=0,o=0,a=0,s=0,c=0,l=0,y=0,m=0,g=0){let b=e===void 0?0:mn(e),x=n===void 0?0:mn(n),T=o===void 0?0:mn(o),O=a===void 0?0:mn(a),A=s===void 0?0:mn(s),j=c===void 0?0:mn(c),Q=l===void 0?0:mn(l),ne=y===void 0?0:mn(y),re=m===void 0?0:mn(m),ce=g===void 0?0:mn(g);za(b,x,T,O,A,j,Q,ne,re,ce),Zn(this),Be(this,Ct,b),Be(this,St,x),Be(this,Yt,T),Be(this,Tt,O),Be(this,kt,A),Be(this,It,j),Be(this,Mt,Q),Be(this,Ot,ne),Be(this,Rt,re),Be(this,zt,ce)}get years(){return K(this,et),_(this,Ct)}get months(){return K(this,et),_(this,St)}get weeks(){return K(this,et),_(this,Yt)}get days(){return K(this,et),_(this,Tt)}get hours(){return K(this,et),_(this,kt)}get minutes(){return K(this,et),_(this,It)}get seconds(){return K(this,et),_(this,Mt)}get milliseconds(){return K(this,et),_(this,Ot)}get microseconds(){return K(this,et),_(this,Rt)}get nanoseconds(){return K(this,et),_(this,zt)}get sign(){return K(this,et),xa(this)}get blank(){return K(this,et),xa(this)===0}with(e){K(this,et);let n=nf(e),{years:o=_(this,Ct),months:a=_(this,St),weeks:s=_(this,Yt),days:c=_(this,Tt),hours:l=_(this,kt),minutes:y=_(this,It),seconds:m=_(this,Mt),milliseconds:g=_(this,Ot),microseconds:b=_(this,Rt),nanoseconds:x=_(this,zt)}=n;return new t(o,a,s,c,l,y,m,g,b,x)}negated(){return K(this,et),Zt(this)}abs(){return K(this,et),new t(Math.abs(_(this,Ct)),Math.abs(_(this,St)),Math.abs(_(this,Yt)),Math.abs(_(this,Tt)),Math.abs(_(this,kt)),Math.abs(_(this,It)),Math.abs(_(this,Mt)),Math.abs(_(this,Ot)),Math.abs(_(this,Rt)),Math.abs(_(this,zt)))}add(e){return K(this,et),El("add",this,e)}subtract(e){return K(this,et),El("subtract",this,e)}round(e){if(K(this,et),e===void 0)throw new TypeError("options parameter is required");let n=$n(this),o=typeof e=="string"?Nr("smallestUnit",e):Se(e),a=Kt(o,"largestUnit","datetime",void 0,["auto"]),{plainRelativeTo:s,zonedRelativeTo:c}=qs(o),l=pi(o),y=gn(o,"halfExpand"),m=Kt(o,"smallestUnit","datetime",void 0),g=!0;m||(g=!1,m="nanosecond");let b=Ln(n,m),x=!0;if(a||(x=!1,a=b),a==="auto"&&(a=b),!g&&!x)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Ln(a,m)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${m}`);let T={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[m];if(T!==void 0&&yi(l,T,!1),l>1&&Nn(m)==="date"&&a!==m)throw new RangeError("For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit");if(c){let A=ni(this),j=_(c,We),Q=_(c,ue),ne=_(c,Oe);return A=Cf(ne,qi(ne,j,Q,A),j,Q,a,l,m,y),Nn(a)==="date"&&(a="hour"),sn(A,a)}if(s){let A=Cn(this),j=fi({deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0},A.time),Q=_(s,Re),ne=_(s,ue),re=Xt(ne,Q,bt(A.date,j.deltaDays),"constrain");return A=Ef(Ze(Q,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),Ze(re,j),ne,a,l,m,y),sn(A,a)}if(xn(n))throw new RangeError(`a starting point is required for ${n}s balancing`);if(xn(a))throw new RangeError(`a starting point is required for ${a}s balancing`);let O=Cn(this);if(m==="day"){let{quotient:A,remainder:j}=O.time.divmod(ga),Q=O.date.days+A+Ji(j,"day");Q=ar(Q,l,y),O=Yn({years:0,months:0,weeks:0,days:Q},Ge.ZERO)}else O=Yn({years:0,months:0,weeks:0,days:0},Ea(O.time,l,m,y));return sn(O,a)}total(e){if(K(this,et),e===void 0)throw new TypeError("options argument is required");let n=typeof e=="string"?Nr("unit",e):Se(e),{plainRelativeTo:o,zonedRelativeTo:a}=qs(n),s=Kt(n,"unit","datetime",Kn);if(a){let l=ni(this),y=_(a,We),m=_(a,ue),g=_(a,Oe);return(function(b,x,T,O,A){return Nn(A)==="time"?Ji(Ge.fromEpochNsDiff(x,b),A):gl(Df(b,x,T,O,A),x,cn(T,b),T,O,A)})(g,qi(g,y,m,l),y,m,s)}if(o){let l=Cn(this),y=fi({deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0},l.time),m=_(o,Re),g=_(o,ue),b=Xt(g,m,bt(l.date,y.deltaDays),"constrain");return(function(x,T,O,A){if(di(x,T)==0)return 0;Ar(x),Ar(T);let j=wf(x,T,O,A);return A==="nanosecond"?F.default.toNumber(j.time.totalNs):gl(j,mt(T),x,null,O,A)})(Ze(m,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),Ze(b,y),g,s)}let c=$n(this);if(xn(c))throw new RangeError(`a starting point is required for ${c}s total`);if(xn(s))throw new RangeError(`a starting point is required for ${s}s total`);return Ji(Cn(this).time,s)}toString(e=void 0){K(this,et);let n=Se(e),o=xo(n),a=gn(n,"trunc"),s=Kt(n,"smallestUnit","time",void 0);if(s==="hour"||s==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');let{precision:c,unit:l,increment:y}=Eo(s,o);if(l==="nanosecond"&&y===1)return ha(this,c);let m=$n(this),g=ni(this),b=Ea(g.time,y,l,a);return g=Yn(g.date,b),ha(sn(g,Ln(m,"second")),c)}toJSON(){return K(this,et),ha(this,"auto")}toLocaleString(e=void 0,n=void 0){if(K(this,et),typeof Intl.DurationFormat=="function"){let o=new Intl.DurationFormat(e,n);return Hu.call(o,this)}return console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),ha(this,"auto")}valueOf(){hr("Duration")}static from(e){return un(e)}static compare(e,n,o=void 0){let a=un(e),s=un(n),c=Se(o),{plainRelativeTo:l,zonedRelativeTo:y}=qs(c);if(_(a,Ct)===_(s,Ct)&&_(a,St)===_(s,St)&&_(a,Yt)===_(s,Yt)&&_(a,Tt)===_(s,Tt)&&_(a,kt)===_(s,kt)&&_(a,It)===_(s,It)&&_(a,Mt)===_(s,Mt)&&_(a,Ot)===_(s,Ot)&&_(a,Rt)===_(s,Rt)&&_(a,zt)===_(s,zt))return 0;let m=$n(a),g=$n(s),b=ni(a),x=ni(s);if(y&&(Nn(m)==="date"||Nn(g)==="date")){let Q=_(y,We),ne=_(y,ue),re=_(y,Oe),ce=qi(re,Q,ne,b),me=qi(re,Q,ne,x);return Ft(F.default.toNumber(F.default.subtract(ce,me)))}let T=b.date.days,O=x.date.days;if(xn(m)||xn(g)){if(!l)throw new RangeError("A starting point is required for years, months, or weeks comparison");T=yl(b.date,l),O=yl(x.date,l)}let A=b.time.add24HourDays(T),j=x.time.add24HourDays(O);return A.cmp(j)}};Wn(mo,"Temporal.Duration");var po=class{constructor(e,n,o="iso8601",a=1972){let s=Ae(e),c=Ae(n),l=Bt(o===void 0?"iso8601":ut(o)),y=Ae(a);Pr(y,s,c),sf(this,{year:y,month:s,day:c},l)}get monthCode(){return Rl(this,"monthCode")}get day(){return Rl(this,"day")}get calendarId(){return K(this,Gt),_(this,ue)}with(e,n=void 0){if(K(this,Gt),!rt(e))throw new TypeError("invalid argument");mi(e);let o=_(this,ue),a=Nt(o,_(this,Re),"month-day");return a=Rr(o,a,en(o,e,["year","month","monthCode","day"],[],"partial")),ii(ba(o,a,Ue(Se(n))),o)}equals(e){K(this,Gt);let n=sl(e);return In(_(this,Re),_(n,Re))===0&&Tn(_(this,ue),_(n,ue))}toString(e=void 0){return K(this,Gt),dl(this,Do(Se(e)))}toJSON(){return K(this,Gt),dl(this)}toLocaleString(e=void 0,n=void 0){return K(this,Gt),new Vt(e,n).format(this)}valueOf(){hr("PlainMonthDay")}toPlainDate(e){if(K(this,Gt),!rt(e))throw new TypeError("argument should be an object");let n=_(this,ue);return At(lr(n,Rr(n,Nt(n,_(this,Re),"month-day"),en(n,e,["year"],[],[])),"constrain"),n)}static from(e,n=void 0){return sl(e,n)}};function Rl(t,e){K(t,Gt);let n=_(t,Re);return Co(t).isoToDate(n,{[e]:!0})[e]}function Gs(t){return cn(t,pu())}Wn(po,"Temporal.PlainMonthDay");var Pf={instant:()=>pn(pu()),plainDateTimeISO:(t=Bi())=>an(Gs($t(t)),"iso8601"),plainDateISO:(t=Bi())=>At(Gs($t(t)).isoDate,"iso8601"),plainTimeISO:(t=Bi())=>jn(Gs($t(t)).time),timeZoneId:()=>Bi(),zonedDateTimeISO:(t=Bi())=>{let e=$t(t);return _t(pu(),e,"iso8601")},[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(Pf,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var yo=class t{constructor(e=0,n=0,o=0,a=0,s=0,c=0){let l=e===void 0?0:Ae(e),y=n===void 0?0:Ae(n),m=o===void 0?0:Ae(o),g=a===void 0?0:Ae(a),b=s===void 0?0:Ae(s),x=c===void 0?0:Ae(c);Ya(l,y,m,g,b,x),uf(this,{hour:l,minute:y,second:m,millisecond:g,microsecond:b,nanosecond:x})}get hour(){return K(this,ot),_(this,nt).hour}get minute(){return K(this,ot),_(this,nt).minute}get second(){return K(this,ot),_(this,nt).second}get millisecond(){return K(this,ot),_(this,nt).millisecond}get microsecond(){return K(this,ot),_(this,nt).microsecond}get nanosecond(){return K(this,ot),_(this,nt).nanosecond}with(e,n=void 0){if(K(this,ot),!rt(e))throw new TypeError("invalid argument");mi(e);let o=ou(e,"partial"),a=ou(this),{hour:s,minute:c,second:l,millisecond:y,microsecond:m,nanosecond:g}=Object.assign(a,o),b=Ue(Se(n));return{hour:s,minute:c,second:l,millisecond:y,microsecond:m,nanosecond:g}=ja(s,c,l,y,m,g,b),new t(s,c,l,y,m,g)}add(e){return K(this,ot),kl("add",this,e)}subtract(e){return K(this,ot),kl("subtract",this,e)}until(e,n=void 0){return K(this,ot),wl("until",this,e,n)}since(e,n=void 0){return K(this,ot),wl("since",this,e,n)}round(e){if(K(this,ot),e===void 0)throw new TypeError("options parameter is required");let n=typeof e=="string"?Nr("smallestUnit",e):Se(e),o=pi(n),a=gn(n,"halfExpand"),s=Kt(n,"smallestUnit","time",Kn);return yi(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s],!1),jn(hu(_(this,nt),o,s,a))}equals(e){K(this,ot);let n=or(e);return mu(_(this,nt),_(n,nt))===0}toString(e=void 0){K(this,ot);let n=Se(e),o=xo(n),a=gn(n,"trunc"),s=Kt(n,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let{precision:c,unit:l,increment:y}=Eo(s,o);return fl(hu(_(this,nt),y,l,a),c)}toJSON(){return K(this,ot),fl(_(this,nt),"auto")}toLocaleString(e=void 0,n=void 0){return K(this,ot),new Vt(e,n).format(this)}valueOf(){hr("PlainTime")}static from(e,n=void 0){return or(e,n)}static compare(e,n){let o=or(e),a=or(n);return mu(_(o,nt),_(a,nt))}};Wn(yo,"Temporal.PlainTime");var go=class{constructor(e,n,o="iso8601",a=1){let s=Ae(e),c=Ae(n),l=Bt(o===void 0?"iso8601":ut(o)),y=Ae(a);Pr(s,c,y),cf(this,{year:s,month:c,day:y},l)}get year(){return Pn(this,"year")}get month(){return Pn(this,"month")}get monthCode(){return Pn(this,"monthCode")}get calendarId(){return K(this,ht),_(this,ue)}get era(){return Pn(this,"era")}get eraYear(){return Pn(this,"eraYear")}get daysInMonth(){return Pn(this,"daysInMonth")}get daysInYear(){return Pn(this,"daysInYear")}get monthsInYear(){return Pn(this,"monthsInYear")}get inLeapYear(){return Pn(this,"inLeapYear")}with(e,n=void 0){if(K(this,ht),!rt(e))throw new TypeError("invalid argument");mi(e);let o=_(this,ue),a=Nt(o,_(this,Re),"year-month");return a=Rr(o,a,en(o,e,["year","month","monthCode"],[],"partial")),oi(ro(o,a,Ue(Se(n))),o)}add(e,n=void 0){return K(this,ht),Il("add",this,e,n)}subtract(e,n=void 0){return K(this,ht),Il("subtract",this,e,n)}until(e,n=void 0){return K(this,ht),Dl("until",this,e,n)}since(e,n=void 0){return K(this,ht),Dl("since",this,e,n)}equals(e){K(this,ht);let n=Zi(e);return In(_(this,Re),_(n,Re))===0&&Tn(_(this,ue),_(n,ue))}toString(e=void 0){return K(this,ht),hl(this,Do(Se(e)))}toJSON(){return K(this,ht),hl(this)}toLocaleString(e=void 0,n=void 0){return K(this,ht),new Vt(e,n).format(this)}valueOf(){hr("PlainYearMonth")}toPlainDate(e){if(K(this,ht),!rt(e))throw new TypeError("argument should be an object");let n=_(this,ue);return At(lr(n,Rr(n,Nt(n,_(this,Re),"year-month"),en(n,e,["day"],[],[])),"constrain"),n)}static from(e,n=void 0){return Zi(e,n)}static compare(e,n){let o=Zi(e),a=Zi(n);return In(_(o,Re),_(a,Re))}};function Pn(t,e){K(t,ht);let n=_(t,Re);return Co(t).isoToDate(n,{[e]:!0})[e]}Wn(go,"Temporal.PlainYearMonth");var Pp=Vt.prototype.resolvedOptions,vo=class{constructor(e,n,o="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let a=Ca(e),s=ut(n),{tzName:c,offsetMinutes:l}=sr(s);if(l===void 0){let y=wa(c);if(!y)throw new RangeError(`unknown time zone ${c}`);s=y.identifier}else s=Lu(l);ff(this,a,s,Bt(o===void 0?"iso8601":ut(o)))}get calendarId(){return K(this,Le),_(this,ue)}get timeZoneId(){return K(this,Le),_(this,We)}get year(){return Et(this,"year")}get month(){return Et(this,"month")}get monthCode(){return Et(this,"monthCode")}get day(){return Et(this,"day")}get hour(){return ei(this,"hour")}get minute(){return ei(this,"minute")}get second(){return ei(this,"second")}get millisecond(){return ei(this,"millisecond")}get microsecond(){return ei(this,"microsecond")}get nanosecond(){return ei(this,"nanosecond")}get era(){return Et(this,"era")}get eraYear(){return Et(this,"eraYear")}get epochMilliseconds(){return K(this,Le),ln(_(this,Oe),"floor")}get epochNanoseconds(){return K(this,Le),Sf(_(this,Oe))}get dayOfWeek(){return Et(this,"dayOfWeek")}get dayOfYear(){return Et(this,"dayOfYear")}get weekOfYear(){return Et(this,"weekOfYear")?.week}get yearOfWeek(){return Et(this,"weekOfYear")?.year}get hoursInDay(){K(this,Le);let e=_(this,We),n=Dn(this).isoDate,o=Ut(n.year,n.month,n.day+1),a=rr(e,n),s=rr(e,o);return Ji(Ge.fromEpochNsDiff(s,a),"hour")}get daysInWeek(){return Et(this,"daysInWeek")}get daysInMonth(){return Et(this,"daysInMonth")}get daysInYear(){return Et(this,"daysInYear")}get monthsInYear(){return Et(this,"monthsInYear")}get inLeapYear(){return Et(this,"inLeapYear")}get offset(){return K(this,Le),au(Bn(_(this,We),_(this,Oe)))}get offsetNanoseconds(){return K(this,Le),Bn(_(this,We),_(this,Oe))}with(e,n=void 0){if(K(this,Le),!rt(e))throw new TypeError("invalid zoned-date-time-like");mi(e);let o=_(this,ue),a=_(this,We),s=Bn(a,_(this,Oe)),c=Dn(this),l={...Nt(o,c.isoDate),...c.time,offset:au(s)};l=Rr(o,l,en(o,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond","offset"],"partial"));let y=Se(n),m=Xi(y),g=ma(y,"prefer"),b=So(o,l,Ue(y)),x=gi(l.offset);return _t(_a(b.isoDate,b.time,"option",x,a,m,g,!1),a,o)}withPlainTime(e=void 0){K(this,Le);let n=_(this,We),o=_(this,ue),a=Dn(this).isoDate,s;return s=e===void 0?rr(n,a):wt(n,Ze(a,_(or(e),nt)),"compatible"),_t(s,n,o)}withTimeZone(e){K(this,Le);let n=$t(e);return _t(_(this,Oe),n,_(this,ue))}withCalendar(e){K(this,Le);let n=ko(e);return _t(_(this,Oe),_(this,We),n)}add(e,n=void 0){return K(this,Le),Ml("add",this,e,n)}subtract(e,n=void 0){return K(this,Le),Ml("subtract",this,e,n)}until(e,n=void 0){return K(this,Le),xl("until",this,e,n)}since(e,n=void 0){return K(this,Le),xl("since",this,e,n)}round(e){if(K(this,Le),e===void 0)throw new TypeError("options parameter is required");let n=typeof e=="string"?Nr("smallestUnit",e):Se(e),o=pi(n),a=gn(n,"halfExpand"),s=Kt(n,"smallestUnit","time",Kn,["day"]),c={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[s];if(yi(o,c,c===1),s==="nanosecond"&&o===1)return _t(_(this,Oe),_(this,We),_(this,ue));let l=_(this,We),y=_(this,Oe),m=Dn(this),g;if(s==="day"){let b=m.isoDate,x=Ut(b.year,b.month,b.day+1),T=rr(l,b),O=rr(l,x),A=F.default.subtract(O,T);g=Ge.fromEpochNsDiff(y,T).round(A,a).addToEpochNs(T)}else{let b=du(m,o,s,a),x=Bn(l,y);g=_a(b.isoDate,b.time,"option",x,l,"compatible","prefer",!1)}return _t(g,l,_(this,ue))}equals(e){K(this,Le);let n=Wi(e),o=_(this,Oe),a=_(n,Oe);return!!F.default.equal(F.default.BigInt(o),F.default.BigInt(a))&&!!df(_(this,We),_(n,We))&&Tn(_(this,ue),_(n,ue))}toString(e=void 0){K(this,Le);let n=Se(e),o=Do(n),a=xo(n),s=(function(x){return zn(x,"offset",["auto","never"],"auto")})(n),c=gn(n,"trunc"),l=Kt(n,"smallestUnit","time",void 0);if(l==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let y=(function(x){return zn(x,"timeZoneName",["auto","never","critical"],"auto")})(n),{precision:m,unit:g,increment:b}=Eo(l,a);return ml(this,m,o,y,s,{unit:g,increment:b,roundingMode:c})}toLocaleString(e=void 0,n=void 0){K(this,Le);let o=Se(n),a=Object.create(null);if((function(y,m,g,b){if(m==null)return;let x=Reflect.ownKeys(m);for(let T=0;T<x.length;T++){let O=x[T];if(!g.some(A=>Object.is(A,O))&&Object.prototype.propertyIsEnumerable.call(m,O)){let A=m[O];y[O]=A}}})(a,o,["timeZone"]),o.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");if(a.year===void 0&&a.month===void 0&&a.day===void 0&&a.era===void 0&&a.weekday===void 0&&a.dateStyle===void 0&&a.hour===void 0&&a.minute===void 0&&a.second===void 0&&a.fractionalSecondDigits===void 0&&a.timeStyle===void 0&&a.dayPeriod===void 0&&a.timeZoneName===void 0&&(a.timeZoneName="short"),a.timeZone=_(this,We),pl(a.timeZone))throw new RangeError("toLocaleString does not currently support offset time zones");let s=new Vt(e,a),c=Pp.call(s).calendar,l=_(this,ue);if(l!=="iso8601"&&c!=="iso8601"&&!Tn(c,l))throw new RangeError(`cannot format ZonedDateTime with calendar ${l} in locale with calendar ${c}`);return s.format(pn(_(this,Oe)))}toJSON(){return K(this,Le),ml(this,"auto")}valueOf(){hr("ZonedDateTime")}startOfDay(){K(this,Le);let e=_(this,We);return _t(rr(e,Dn(this).isoDate),e,_(this,ue))}getTimeZoneTransition(e){K(this,Le);let n=_(this,We);if(e===void 0)throw new TypeError("options parameter is required");let o=zn(typeof e=="string"?Nr("direction",e):Se(e),"direction",["next","previous"],Kn);if(o===void 0)throw new TypeError("direction option is required");if(pl(n)||n==="UTC")return null;let a=_(this,Oe),s=o==="next"?zu(n,a):uu(n,a);return s===null?null:_t(s,n,_(this,ue))}toInstant(){return K(this,Le),pn(_(this,Oe))}toPlainDate(){return K(this,Le),At(Dn(this).isoDate,_(this,ue))}toPlainTime(){return K(this,Le),jn(Dn(this).time)}toPlainDateTime(){return K(this,Le),an(Dn(this),_(this,ue))}static from(e,n=void 0){return Wi(e,n)}static compare(e,n){let o=Wi(e),a=Wi(n),s=_(o,Oe),c=_(a,Oe);return F.default.lessThan(F.default.BigInt(s),F.default.BigInt(c))?-1:F.default.greaterThan(F.default.BigInt(s),F.default.BigInt(c))?1:0}};function Dn(t){return cn(_(t,We),_(t,Oe))}function Et(t,e){K(t,Le);let n=Dn(t).isoDate;return Co(t).isoToDate(n,{[e]:!0})[e]}function ei(t,e){return K(t,Le),Dn(t).time[e]}Wn(vo,"Temporal.ZonedDateTime");var Gu=Object.freeze({__proto__:null,Duration:mo,Instant:lo,Now:Pf,PlainDate:fo,PlainDateTime:ho,PlainMonthDay:po,PlainTime:yo,PlainYearMonth:go,ZonedDateTime:vo}),U0=class{toTemporalInstant(){return pn(yn(Date.prototype.valueOf.call(this)))}}.prototype.toTemporalInstant,Ap=[lo,fo,ho,mo,po,yo,go,vo];for(let t of Ap){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}var Za=qt(Af(),1),$f=Symbol.for("Dexie"),Ao=globalThis[$f]||(globalThis[$f]=Za.default);if(Za.default.semVer!==Ao.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Za.default.semVer} and ${Ao.semVer}`);var{liveQuery:q0,mergeRanges:H0,rangesOverlap:G0,RangeSet:Q0,cmp:V0,Entity:X0,PropModification:J0,replacePrefix:ey,add:ty,remove:ny,DexieYProvider:ry}=Ao;rn();var $p=Spicetify.Platform.LibraryAPI||Spicetify.Platform.Registry.resolve(Symbol.for("LibraryAPI"));async function Nf(){return(await $p.getContents({offset:0,limit:1e7,flattenTree:!0})).items}var Np=Spicetify.Platform.PlaylistAPI||Spicetify.Platform.Registry.resolve(Symbol.for("PlaylistAPI"));async function jf(t){return{items:(await Np.getContents(t,{offset:0,limit:-1})).items}}async function Bf(t){let e=new Map,n=50,o=[...new Set(t)];for(let a=0;a<o.length;a+=n){let c=o.slice(a,a+n).map(async l=>{let m=(await Spicetify.Platform.GraphQLLoader(Spicetify.GraphQL.Definitions.queryAlbumTracks,{uri:l,locale:Spicetify.Locale.getLocale(),offset:0,limit:5e3}))?.data?.albumUnion?.tracksV2?.items;if(m)for(let g of m){let b=g?.track?.uri;b&&e.set(b,g.track)}});await Promise.allSettled(c)}return e}async function Lf(t){let e=new Map,n=[...new Set(t.map(c=>Spicetify.URI.fromString(c).id).filter(c=>!!c))],o=async c=>{for(let y=0;y<c.length;y+=50){let g=`https://api.spotify.com/v1/tracks?ids=${c.slice(y,y+50).join(",")}`;try{(await Spicetify.CosmosAsync.get(g))?.tracks?.forEach(x=>{x?.uri&&e.set(x.uri,x)})}catch{}}},a=async c=>{for(let y=0;y<c.length;y+=50){let m=c.slice(y,y+50);await Promise.allSettled(m.map(async g=>{let b=`spotify:track:${g}`;if(!e.has(b))try{let x=Spicetify.URI.idToHex(g),O=await(await Spicetify.Platform.RequestBuilder.build().withHost("https://spclient.wg.spotify.com/metadata/4").withPath(`/track/${x}`).send()).body;O&&e.set(b,O)}catch{}}))}};await o(n);let s=n.filter(c=>!e.has(`spotify:track:${c}`));return s.length>0&&await a(s),e}var Ff=qt(on());rn();var Yf=new CSSStyleSheet;Yf.replaceSync(".dropdown{position:relative;width:fit-content;min-width:101px;font-size:14px;cursor:pointer;&:disabled{cursor:not-allowed;opacity:.5}.dropdown__button{display:flex;align-items:center;justify-content:space-between;width:100%;height:32px;padding:0 8px;color:rgba(var(--spice-rgb-text),.8);background:rgba(var(--spice-rgb-selected-row),.1);border:none;border-radius:4px}.dropdown__arrow{display:flex}.dropdown__menu{max-height:250px;overflow-y:scroll;color:rgba(var(--spice-rgb-text),.8);scrollbar-width:none;background:var(--spice-card);border:solid rgba(255,255,255,.1) 1px;border-radius:4px;box-shadow:0 4px 12px #0003}.dropdown__option{display:flex;align-items:center;height:28px;padding:0 8px;margin:4px;cursor:pointer;border-radius:4px;&:hover,.dropdown__option--selected{background:var(--spice-button)}}}");var zf=Yf;document.adoptedStyleSheets.push(zf);var Wa=st(t=>{let e=(0,Ff.c)(43),{value:n,options:o,onChange:a,disabled:s}=t,c=Ns(),l=nn(null),y=`--dropdown-anchor-${c.replace(/:/g,"id")}`,m,g,b,x,T,O,A,j,Q;if(e[0]!==y||e[1]!==s||e[2]!==a||e[3]!==o||e[4]!==c||e[5]!==n){let ce=fe=>{a?.(fe.value),l.current?.hidePopover()},me;e[15]!==o||e[16]!==n?(me=o.find(fe=>fe.value===n)?.label||"Select...",e[15]=o,e[16]=n,e[17]=me):me=e[17];let ge=me;A="dropdown",j=s;let xe;e[18]!==y?(xe={anchorName:y},e[18]=y,e[19]=xe):xe=e[19];let we;e[20]!==ge?(we=se("div",{className:"dropdown__text",children:ge}),e[20]=ge,e[21]=we):we=e[21];let ye;e[22]===Symbol.for("react.memo_cache_sentinel")?(ye=se("div",{className:"dropdown__arrow",children:se(vt.React.dropdown,{size:12})}),e[22]=ye):ye=e[22],e[23]!==c||e[24]!==xe||e[25]!==we?(Q=Ke("button",{className:"dropdown__button",popoverTarget:c,popoverTargetAction:"toggle",style:xe,children:[we,ye]}),e[23]=c,e[24]=xe,e[25]=we,e[26]=Q):Q=e[26],m="dropdown__menu",g=c,b="auto",x=l;let U=`calc(anchor(${y} bottom) + 4px)`,V=`anchor(${y} left)`,H=`anchor-size(${y} width)`;e[27]!==U||e[28]!==V||e[29]!==H?(T={top:U,left:V,width:H},e[27]=U,e[28]=V,e[29]=H,e[30]=T):T=e[30],O=o.map(fe=>se("div",{className:`dropdown__option${n===fe.value?" dropdown__option--selected":""}`,onClick:()=>ce(fe),onKeyDown:D=>D.key==="Enter"&&ce(fe),role:"option",tabIndex:0,children:fe.label},fe.value)),e[0]=y,e[1]=s,e[2]=a,e[3]=o,e[4]=c,e[5]=n,e[6]=m,e[7]=g,e[8]=b,e[9]=x,e[10]=T,e[11]=O,e[12]=A,e[13]=j,e[14]=Q}else m=e[6],g=e[7],b=e[8],x=e[9],T=e[10],O=e[11],A=e[12],j=e[13],Q=e[14];let ne;e[31]!==m||e[32]!==g||e[33]!==b||e[34]!==x||e[35]!==T||e[36]!==O?(ne=se("div",{className:m,id:g,popover:b,ref:x,style:T,children:O}),e[31]=m,e[32]=g,e[33]=b,e[34]=x,e[35]=T,e[36]=O,e[37]=ne):ne=e[37];let re;return e[38]!==ne||e[39]!==A||e[40]!==j||e[41]!==Q?(re=Ke("div",{className:A,disabled:j,children:[Q,ne]}),e[38]=ne,e[39]=A,e[40]=j,e[41]=Q,e[42]=re):re=e[42],re});var ud=qt(on());rn();var Kf=new CSSStyleSheet;Kf.replaceSync(".option__row{display:flex;justify-content:space-between;.option__content{display:flex;gap:8px;align-items:center;.option__desc{display:flex;align-items:center;height:100%;font-size:15px;color:var(--spice-subtext)}}.option__control{display:flex;gap:8px;align-items:center}}");var Uf=Kf;var nd=qt(on());rn();var qf=qt(on());rn();var Zf=new CSSStyleSheet;Zf.replaceSync(".input{width:128px;height:32px;padding-left:10px;text-overflow:ellipsis;color:rgba(var(--spice-rgb-text),.8);background:rgba(var(--spice-rgb-selected-row),.1);border:0;border-radius:4px;&:disabled{cursor:not-allowed;opacity:.5}}");var Wf=Zf;document.adoptedStyleSheets.push(Wf);var Hf=st(t=>{let e=(0,qf.c)(7),{value:n,onChange:o,placeholder:a,disabled:s}=t,c=s===void 0?!1:s,l;e[0]!==o?(l=g=>{o(g.target.value)},e[0]=o,e[1]=l):l=e[1];let y=l,m;return e[2]!==c||e[3]!==y||e[4]!==a||e[5]!==n?(m=se("input",{className:"input",disabled:c,onChange:y,placeholder:a,type:"text",value:n}),e[2]=c,e[3]=y,e[4]=a,e[5]=n,e[6]=m):m=e[6],m});var Vf=qt(on());rn();var Gf=new CSSStyleSheet;Gf.replaceSync(".slider{--fill-color: var(--spice-button-active, #1ed760);--track-color: var(--spice-button-disabled, #535353);--thumb-color: var(--spice-text, #ffffff);--text-color: var(--spice-subtext, #b3b3b3);display:flex;gap:8px;align-items:center;width:100%;&:disabled{cursor:not-allowed;opacity:.5}&:hover{.slider__thumb{opacity:1}.slider__fill{background-color:var(--fill-color)}}.slider-time{min-width:40px;font-size:12px;color:var(--text-color);text-align:center;user-select:none}.slider-container{display:flex;flex-grow:1;align-items:center;height:12px;cursor:pointer;.slider__track{position:relative;width:100%;height:4px;background-color:var(--track-color);border-radius:2px;.slider__fill{position:absolute;height:100%;background-color:var(--fill-color);border-radius:2px}.slider__thumb{position:absolute;top:50%;width:12px;height:12px;background-color:var(--thumb-color);border-radius:50%;opacity:0;transform:translate(-50%,-50%);transition:opacity .2s ease}}}}");var Qf=Gf;document.adoptedStyleSheets.push(Qf);var qa=st(t=>{let e=(0,Vf.c)(28),{value:n,min:o,max:a,step:s,defaultValue:c,onChange:l,onRelease:y,disabled:m}=t,g=o===void 0?0:o,b=a===void 0?100:a,x=s===void 0?1:s,T=nn(null),O=nn(!1),A=n!==void 0?n:c,j=b>g&&A!==void 0?(A-g)/(b-g)*100:0,Q;e[0]!==m||e[1]!==b||e[2]!==g||e[3]!==l||e[4]!==x?(Q=f=>{if(!T.current||m)return;let p=T.current.getBoundingClientRect(),E=f.clientX,k=Math.max(0,Math.min(E-p.left,p.width))/p.width*(b-g)+g;k=Math.round(k/x)*x,k=Math.max(g,Math.min(k,b)),l(k)},e[0]=m,e[1]=b,e[2]=g,e[3]=l,e[4]=x,e[5]=Q):Q=e[5];let ne=Q,re;e[6]!==m||e[7]!==ne?(re=f=>{m||!T.current||(O.current=!0,T.current.setPointerCapture(f.pointerId),ne(f.nativeEvent))},e[6]=m,e[7]=ne,e[8]=re):re=e[8];let ce=re,me;e[9]!==ne?(me=f=>{O.current&&ne(f.nativeEvent)},e[9]=ne,e[10]=me):me=e[10];let ge=me,xe;e[11]!==y?(xe=f=>{!O.current||!T.current||(O.current=!1,T.current.releasePointerCapture(f.pointerId),y?.())},e[11]=y,e[12]=xe):xe=e[12];let we=xe,ye=`${j}%`,U;e[13]!==ye?(U=se("div",{className:"slider__fill",style:{width:ye}}),e[13]=ye,e[14]=U):U=e[14];let V=`${j}%`,H;e[15]!==V?(H=se("div",{className:"slider__thumb",style:{left:V}}),e[15]=V,e[16]=H):H=e[16];let fe;e[17]!==H||e[18]!==U?(fe=Ke("div",{className:"slider__track",children:[U,H]}),e[17]=H,e[18]=U,e[19]=fe):fe=e[19];let D;e[20]!==ce||e[21]!==ge||e[22]!==we||e[23]!==fe?(D=se("div",{className:"slider-container",onPointerCancel:we,onPointerDown:ce,onPointerMove:ge,onPointerUp:we,ref:T,children:fe}),e[20]=ce,e[21]=ge,e[22]=we,e[23]=fe,e[24]=D):D=e[24];let B;return e[25]!==m||e[26]!==D?(B=se("div",{className:"slider",disabled:m,children:D}),e[25]=m,e[26]=D,e[27]=B):B=e[27],B});var ed=qt(on());rn();var Xf=new CSSStyleSheet;Xf.replaceSync(".toggle{display:flex;align-items:center;cursor:pointer;background:none;border:none;&:disabled{cursor:not-allowed;opacity:.5}.toggle__background{display:flex;align-items:center;width:42px;height:24px;background:rgba(var(--spice-rgb-selected-row),.1);border-radius:12px;&:has(.toggle__slider--enabled){background:var(--spice-button)}.toggle__slider--enabled{margin-left:20px}}.toggle__slider{width:20px;height:20px;margin-left:2px;background:var(--spice-text);border-radius:50%;box-shadow:0 0 5px rgba(var(--spice-rgb-shadow),.3);transition:.1s cubic-bezier(.45,.05,.55,.95)}}");var Jf=Xf;document.adoptedStyleSheets.push(Jf);var td=st(t=>{let e=(0,ed.c)(10),{value:n,onChange:o,disabled:a}=t,s;e[0]!==a||e[1]!==o||e[2]!==n?(s=()=>{a||o(!n)},e[0]=a,e[1]=o,e[2]=n,e[3]=s):s=e[3];let c=s,l=`toggle__slider${n?" toggle__slider--enabled":""}${a?" toggle__slider--disabled":""}`,y;e[4]!==l?(y=se("span",{className:"toggle__background",children:se("span",{className:l})}),e[4]=l,e[5]=y):y=e[5];let m;return e[6]!==a||e[7]!==c||e[8]!==y?(m=se("button",{className:"toggle",disabled:a,onClick:c,role:"switch",children:y}),e[6]=a,e[7]=c,e[8]=y,e[9]=m):m=e[9],m});var rd=st(t=>{let e=(0,nd.c)(23),{option:n,value:o,onChange:a,disabled:s}=t;switch(n.type){case"toggle":{let c=o,l;return e[0]!==s||e[1]!==a||e[2]!==c?(l=se(td,{disabled:s,onChange:a,value:c}),e[0]=s,e[1]=a,e[2]=c,e[3]=l):l=e[3],l}case"input":{let c=o,l;return e[4]!==s||e[5]!==a||e[6]!==n.placeholder||e[7]!==c?(l=se(Hf,{disabled:s,onChange:a,placeholder:n.placeholder,value:c}),e[4]=s,e[5]=a,e[6]=n.placeholder,e[7]=c,e[8]=l):l=e[8],l}case"dropdown":{let c;e[9]!==n.options?(c=n.options||[],e[9]=n.options,e[10]=c):c=e[10];let l=o,y;return e[11]!==s||e[12]!==a||e[13]!==c||e[14]!==l?(y=se(Wa,{disabled:s,onChange:a,options:c,value:l}),e[11]=s,e[12]=a,e[13]=c,e[14]=l,e[15]=y):y=e[15],y}case"slider":{let c=o,l;return e[16]!==s||e[17]!==a||e[18]!==n.max||e[19]!==n.min||e[20]!==n.step||e[21]!==c?(l=se(qa,{disabled:s,max:n.max,min:n.min,onChange:a,step:n.step,value:c}),e[16]=s,e[17]=a,e[18]=n.max,e[19]=n.min,e[20]=n.step,e[21]=c,e[22]=l):l=e[22],l}default:return console.warn(`Unknown option type for option "${n.name||"N/A"}"`),null}});var id=qt(on());rn();var od=st(t=>{let e=(0,id.c)(6),{name:n,popupModal:o}=t,a;e[0]!==o||e[1]!==n?(a=()=>Tr({title:n,content:se(o,{}),isLarge:!1}),e[0]=o,e[1]=n,e[2]=a):a=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=se(vt.React.editButton,{size:16}),e[3]=s):s=e[3];let c;return e[4]!==a?(c=se("button",{className:"popup-button",onClick:a,children:s}),e[4]=a,e[5]=c):c=e[5],c});var ad=qt(on());rn();var sd=st(t=>{let e=(0,ad.c)(3),{tippy:n}=t,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=se("div",{className:"info-tippy",children:se(vt.React.questionMark,{fill:"var(--spice-subtext)",size:20})}),e[0]=o):o=e[0];let a;return e[1]!==n?(a=se(Spicetify.ReactComponent.TooltipWrapper,{label:n,placement:"top",showDelay:0,children:o}),e[1]=n,e[2]=a):a=e[2],a});document.adoptedStyleSheets.push(Uf);var cd=st(t=>{let e=(0,ud.c)(21),{name:n,desc:o,tippy:a,popupModal:s,option:c,value:l,onChange:y,disabled:m}=t,g;e[0]!==o?(g=se("div",{className:"option__desc",children:o}),e[0]=o,e[1]=g):g=e[1];let b;e[2]!==a?(b=a&&se(sd,{tippy:a}),e[2]=a,e[3]=b):b=e[3];let x;e[4]!==g||e[5]!==b?(x=Ke("div",{className:"option__content",children:[g,b]}),e[4]=g,e[5]=b,e[6]=x):x=e[6];let T;e[7]!==n||e[8]!==s?(T=s&&se(od,{name:n,popupModal:s}),e[7]=n,e[8]=s,e[9]=T):T=e[9];let O;e[10]!==m||e[11]!==y||e[12]!==c||e[13]!==l?(O=c&&se(rd,{disabled:m,onChange:y||jp,option:c,value:l}),e[10]=m,e[11]=y,e[12]=c,e[13]=l,e[14]=O):O=e[14];let A;e[15]!==T||e[16]!==O?(A=Ke("div",{className:"option__control",children:[T,O]}),e[15]=T,e[16]=O,e[17]=A):A=e[17];let j;return e[18]!==x||e[19]!==A?(j=Ke("div",{className:"option__row",children:[x,A]}),e[18]=x,e[19]=A,e[20]=j):j=e[20],j});function jp(){}var ld=async()=>{for(;!globalThis.webpackChunkclient_web;)await new Promise(l=>setTimeout(l,50));let t=webpackChunkclient_web.push([[Symbol()],{},l=>l]);for(;!t.m;)await new Promise(l=>setTimeout(l,50));let e=Object.keys(t.m).map(l=>t(l)),n=new Set(Object.values(t.m)),o=l=>{try{return l.toString()}catch{try{return Function.prototype.toString.call(l)}catch{return""}}},a=new Set(e.flatMap(l=>typeof l=="function"?[l]:typeof l=="object"&&l?Object.values(l).flatMap(y=>typeof y=="function"&&!n.has(y)?[y]:y?.$$typeof===Symbol.for("react.forward_ref")&&typeof y.render=="function"?[y.render]:y?.$$typeof===Symbol.for("react.memo")&&y.type?.$$typeof===Symbol.for("react.forward_ref")&&typeof y.type.render=="function"?[y.type.render]:[]):[])),s=/"data-encore-id":(?:[a-zA-Z_$][\w$]*\.)*([A-Z][\w]*)\b/,c={};for(let l of a){let y=o(l).match(s);y?.[1]&&!c[y[1]]&&(c[y[1]]=l)}console.log(`ComponentMenu: Discovery finished. Found ${Object.keys(c).length} components.`),globalThis.UI=c};ld();var Xu=class{starts=new Map;start(e){this.starts.set(e,performance.now())}end(e){let n=this.starts.get(e);if(n){let o=performance.now()-n;console.debug(`[Debug] ${e}: ${o.toFixed(2)}ms`),this.starts.delete(e)}}},pr=new Xu,Ju=["exact","isrc","probable","likely","possible","maybe"],pd={exact:{label:"Identical Tracks",tooltip:"The exact same Spotify track added multiple times to the playlist"},isrc:{label:"Same Recording",tooltip:"Different Spotify entries for the same recording (e.g., from different albums but identical audio)"},probable:{label:"Same Title & Artist",tooltip:"Tracks with the same title and at least one shared artist"},likely:{label:"Title & Length Match",tooltip:"Tracks with the same title and similar duration (within 5 seconds)"},possible:{label:"Similar Songs",tooltip:"Tracks with similar titles and durations - may include remixes or covers"},maybe:{label:"Possible Matches",tooltip:"Tracks that may be duplicates based on name similarity - review VERY CAREFULLY!!"}},ec=class extends Ao{constructor(){super("findDupeTracks"),this.version(.3).stores({tracks:"&trackUri, trackName, trackCoverArt, trackDuration, trackPlayCount, trackIsrc, albumUri, albumReleaseDate, lastUpdated, ignoreDuplicates"}).upgrade(e=>e.table("tracks").clear())}},fd=new ec,Ha={groupSettings:{exact:!0,isrc:!0,probable:!0,likely:!0,possible:!0,maybe:!1},confirmSettings:{exact:!1,isrc:!1,probable:!0,likely:!0,possible:!0,maybe:!0},defaultNormaliseWords:["live","remix","mix","acoustic","inst","instrumental","radio","version","ver","edit","mono","stereo","deluxe","demo","rehearsal","intro","outro","remaster","remastered","bonus","feat","ft","explicit","clean","piano","guitar","cover","original","extended","album","single"],customNormaliseWords:[]},dd="findDupeTracks:settings",mr={listeners:new Set,snapshot:(()=>{try{let t=localStorage.getItem(dd);return t?{...Ha,...JSON.parse(t)}:Ha}catch{return Ha}})(),subscribe(t){return mr.listeners.add(t),()=>mr.listeners.delete(t)},getSnapshot(){return mr.snapshot},update(t){mr.snapshot=t,localStorage.setItem(dd,JSON.stringify(t)),mr.listeners.forEach(e=>{e()})}},yd=()=>ua(mr.subscribe,mr.getSnapshot),Bp=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Lp=t=>{if(!t)return"Unknown";let e=new Date(t);return Number.isNaN(e.getTime())?t:Spicetify.Locale.formatDate(e,{year:"numeric",month:"short",day:"numeric"})},Yp=(t,e)=>t.toLowerCase().replace(/\(.*?\)|\[.*?\]/g,"").replace(e,"").replace(/-/g," ").replace(/[^\p{L}\p{N}\s]/gu,"").replace(/\s+/g," ").trim(),zp=(t,e)=>{let n=t.replace(/\s+/g,""),o=e.replace(/\s+/g,"");if(n===o)return 1;if(n.length<2||o.length<2)return 0;let a=new Map;for(let c=0;c<n.length-1;c++){let l=n.substring(c,c+2);a.set(l,(a.get(l)||0)+1)}let s=0;for(let c=0;c<o.length-1;c++){let l=o.substring(c,c+2),y=a.get(l)||0;y>0&&(a.set(l,y-1),s++)}return 2*s/(n.length+o.length-2)};function Fp(){let t=(0,yr.c)(6),e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];let[n,o]=hn(e),[a,s]=hn(!0),c,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{let m=!0;return(async()=>{pr.start("Fetch: All Playlists");let b=await Nf();if(!m)return;let x=b.filter(Kp);o(x),m&&(s(!1),pr.end("Fetch: All Playlists"))})(),()=>{m=!1}},l=[],t[1]=c,t[2]=l):(c=t[1],l=t[2]),nr(c,l);let y;return t[3]!==a||t[4]!==n?(y={playlists:n,loading:a},t[3]=a,t[4]=n,t[5]=y):y=t[5],y}function Kp(t){return t.type==="playlist"&&t.canAddTo}function Up(t,e){let n=(0,yr.c)(8),o;n[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],n[0]=o):o=n[0];let[a,s]=hn(o),[c,l]=hn(!1),y,m;n[1]!==t||n[2]!==e?(y=()=>{if(!t){s([]);return}let b=new AbortController;return l(!0),(async()=>{pr.start("LOAD ALL DATA");let{items:T}=await jf(t);if(b.signal.aborted)return;let O=T,A=O.map(Xp),j=await fd.tracks.bulkGet(A),Q=new Map(j.filter(Vp).map(Qp)),ne=Gu.Now.instant(),re=[],ce=[],me=new RegExp(`\\b(${[...e.defaultNormaliseWords,...e.customNormaliseWords].map(Bp).join("|")})\\b`,"gi");for(let B of O){let f=Q.get(B.uri),p=!1;if(!f)p=!0;else if(f.trackPlayCount===null||f.trackDuration===null||f.trackIsrc===null||f.albumReleaseDate===null)p=!0;else if(f.lastUpdated)try{let I=Gu.Instant.from(f.lastUpdated);ne.since(I).total("days")>=30&&(p=!0)}catch{p=!0}else p=!0;p&&re.push(B),ce.push({...B,playCount:f?.trackPlayCount??null,duration:f?.trackDuration??null,isrc:f?.trackIsrc??null,releaseDate:f?.albumReleaseDate??null,coverArt:f?.trackCoverArt??null,normalisedName:B.name.toLowerCase().trim(),normalisedFuzzy:Yp(B.name,me)})}if(b.signal.aborted)return;if(s(ce),re.length===0){l(!1),pr.end("LOAD ALL DATA");return}let ge=re.filter(B=>{let f=Q.get(B.uri);return!f||f.trackDuration===null||f.trackPlayCount===null}),xe=re.filter(B=>{let f=Q.get(B.uri);return!f||f.trackIsrc===null||f.albumReleaseDate===null}),[we,ye]=await Promise.allSettled([ge.length>0?Bf(ge.map(Gp)):Promise.resolve(new Map),xe.length>0?Lf(xe.map(Hp)):Promise.resolve(new Map)]);if(b.signal.aborted)return;let U=we.status==="fulfilled"?we.value:null,V=ye.status==="fulfilled"?ye.value:null,H=[],fe=ne.toString(),D=[...ce];re.forEach(B=>{let f=Q.get(B.uri),p=U?.get(B.uri),E=V?.get(B.uri),k=p?.duration?.totalMilliseconds??null??f?.trackDuration??null,z=(p?.playcount?Number(p.playcount):null)??f?.trackPlayCount??null,Y=null;E&&(Y=E?.external_ids?.isrc??E?.external_id?.find(qp)?.id??null);let J=Y??f?.trackIsrc??null,W=null;if(E){let oe=E?.album?.date;typeof oe=="string"?W=oe:oe?.year&&(W=`${oe.year}`,oe.month&&(W=W+`-${String(oe.month).padStart(2,"0")}`),oe.day&&(W=W+`-${String(oe.day).padStart(2,"0")}`))}let le=W??f?.albumReleaseDate??null,De=B.album.images.find(Wp)?.url??B.album.images.find(Zp)?.url??B.album.images[0]?.url??"";H.push({trackUri:B.uri,trackName:B.name,trackCoverArt:De,trackDuration:k,trackPlayCount:z,trackIsrc:J,albumUri:B.album.uri,albumReleaseDate:le,lastUpdated:fe});let ve=D.findIndex(oe=>oe.uid===B.uid);ve!==-1&&(D[ve]={...D[ve],playCount:z,duration:k,isrc:J,releaseDate:le,coverArt:De})}),await fd.tracks.bulkPut(H),b.signal.aborted||(s(D),pr.end("LOAD ALL DATA")),b.signal.aborted||l(!1)})(),()=>b.abort()},m=[t,e],n[1]=t,n[2]=e,n[3]=y,n[4]=m):(y=n[3],m=n[4]),nr(y,m);let g;return n[5]!==c||n[6]!==a?(g={tracks:a,loading:c,setTracks:s},n[5]=c,n[6]=a,n[7]=g):g=n[7],g}function Zp(t){return t.label==="large"}function Wp(t){return t.label==="xlarge"}function qp(t){return t?.type==="isrc"}function Hp(t){return t.uri}function Gp(t){return t.album.uri}function Qp(t){return[t.trackUri,t]}function Vp(t){return!!t}function Xp(t){return t.uri}function Jp(t,e){let n=(0,yr.c)(4),o;e:{pr.start("Dupe Algorithm: Compute");let a;if(n[0]!==e||n[1]!==t){if(a={exact:[],isrc:[],probable:[],likely:[],possible:[],maybe:[]},t.length<2){pr.end("Dupe Algorithm: Compute"),o=a;break e}let{groupSettings:s}=e,c=[...t],l=new Set,y=(x,T)=>{if(x.length<2)return;let O=x.sort(c0);a[T].push({mainTrack:O[0],duplicates:O.slice(1)}),x.forEach(A=>{l.add(A.uid)})},m=()=>{c=c.filter(x=>!l.has(x.uid)),l.clear()};if(s.exact){let x=Object.groupBy(c,u0);for(let T in x){let O=x[T];O&&y(O,"exact")}m()}if(s.isrc){let x=Object.groupBy(c,s0);for(let T in x){let O=x[T];T&&O&&y(O,"isrc")}m()}let g=o0,b=i0;if(s.probable){let x=Object.groupBy(c,r0);for(let T in x){let O=x[T];if(!O||O.length<2)continue;let A=new Set;for(let j of O){if(A.has(j.uid))continue;let Q=O.filter(ne=>j.uid===ne.uid||!A.has(ne.uid)&&g(j,ne));Q.length>1&&(y(Q,"probable"),Q.forEach(ne=>{A.add(ne.uid)}))}}m()}if(s.likely){let x=Object.groupBy(c,n0);for(let T in x){let O=x[T];if(!O||O.length<2)continue;let A=new Set;for(let j of O){if(A.has(j.uid))continue;let Q=O.filter(ne=>j.uid===ne.uid||!A.has(ne.uid)&&b(j,ne));Q.length>1&&(y(Q,"likely"),Q.forEach(ne=>{A.add(ne.uid)}))}}m()}if(s.possible){let x=Object.groupBy(c,t0);for(let T in x){let O=x[T];if(!O||O.length<2)continue;let A=new Set;for(let j of O){if(A.has(j.uid))continue;let Q=O.filter(ne=>j.uid===ne.uid||!A.has(ne.uid)&&b(j,ne));Q.length>1&&(y(Q,"possible"),Q.forEach(ne=>{A.add(ne.uid)}))}}m()}if(s.maybe){c.sort(e0);for(let x=0;x<c.length;x++){let T=c[x];if(l.has(T.uid))continue;let O=[T];for(let A=x+1;A<Math.min(x+30,c.length);A++){let j=c[A];if(!l.has(j.uid)){if(T.normalisedFuzzy[0]!==j.normalisedFuzzy[0])break;zp(T.normalisedFuzzy,j.normalisedFuzzy)>=.8&&O.push(j)}}O.length>1&&y(O,"maybe")}}n[0]=e,n[1]=t,n[2]=a,n[3]=o}else a=n[2],o=n[3];pr.end("Dupe Algorithm: Compute"),o=a}return o}function e0(t,e){return t.normalisedFuzzy.localeCompare(e.normalisedFuzzy)}function t0(t){return t.normalisedFuzzy}function n0(t){return t.normalisedName}function r0(t){return t.normalisedName}function i0(t,e){return t.duration==null||e.duration==null?!1:Math.abs(t.duration-e.duration)<=5e3}function o0(t,e){let n=new Set(t.artists.map(a0));return e.artists.some(o=>n.has(o.name.toLowerCase()))}function a0(t){return t.name.toLowerCase()}function s0(t){return t.isrc||""}function u0(t){return t.uri}function c0(t,e){let n=(e.playCount??0)-(t.playCount??0);if(n!==0)return n;let o=t.releaseDate??"9999",a=e.releaseDate??"9999";return o.localeCompare(a)}var l0=()=>{let t=(0,yr.c)(5),e=yd(),n;t[0]!==e?(n=(s,c,l)=>{let y={...e,[s]:{...e[s],[c]:l}};mr.update(y)},t[0]=e,t[1]=n):n=t[1];let o=n,a;if(t[2]!==e||t[3]!==o){let s=(l,y,m)=>Ke("section",{className:"duplicate-settings__section",children:[se("h3",{className:"duplicate-settings__section-title",children:l}),se("div",{className:"duplicate-settings__options",children:Ju.map(g=>se(cd,{desc:m[g],name:`${y}-${g}`,onChange:b=>o(y,g,!!b),option:{type:"toggle",name:g,desc:m[g],defaultVal:Ha[y][g]},value:e[y][g]},g))})]}),c=Object.fromEntries(Ju.map(h0));a=Ke("div",{className:"duplicate-settings",children:[s("Display Groups","groupSettings",c),s("Confirm Delete","confirmSettings",c)]}),t[2]=e,t[3]=o,t[4]=a}else a=t[4];return a},zr=Spicetify.Platform.PlayerAPI,hd={subscribe:t=>{let e=()=>t();return Spicetify.Platform.PlayerAPI._events.addListener("update",e,{}),()=>{Spicetify.Platform.PlayerAPI._events.removeListener("update",e,{})}},getSnapshot:()=>Spicetify.Platform.PlayerAPI._state},f0=t=>{let e=(0,yr.c)(33),{uri:n,duration:o}=t,a=n,s=o??0,c=ua(hd.subscribe,hd.getSnapshot),l=c.item?.uri===a,y=c.isPaused,m=l&&!y,[g,b]=hn(0),[x,T]=hn(s),O=nn(!1),A=nn(0),j,Q;e[0]!==l||e[1]!==y||e[2]!==c.duration||e[3]!==c.positionAsOfTimestamp||e[4]!==s?(j=()=>{if(!l){b(0),T(s);return}if(T(c.duration),O.current)return;if(y){b(c.positionAsOfTimestamp);return}let I=setInterval(()=>{let k=Date.now(),P=zr._state.positionAsOfTimestamp,z=zr._state.timestamp,Y=k-z+P;b(Math.min(Y,c.duration))},100);return()=>clearInterval(I)},Q=[l,y,c.duration,c.positionAsOfTimestamp,s],e[0]=l,e[1]=y,e[2]=c.duration,e[3]=c.positionAsOfTimestamp,e[4]=s,e[5]=j,e[6]=Q):(j=e[5],Q=e[6]),nr(j,Q);let ne;e[7]!==l||e[8]!==y||e[9]!==a?(ne=()=>{l?y?zr.resume({}):zr.pause({}):zr.play({uri:a},{})},e[7]=l,e[8]=y,e[9]=a,e[10]=ne):ne=e[10];let re=ne,ce;e[11]===Symbol.for("react.memo_cache_sentinel")?(ce=I=>{O.current=!0,b(I),A.current=I},e[11]=ce):ce=e[11];let me=ce,ge;e[12]!==l||e[13]!==a?(ge=()=>{O.current=!1,l?zr.seekTo(A.current):zr.play({uri:a},{})},e[12]=l,e[13]=a,e[14]=ge):ge=e[14];let xe=ge,we=m0,ye;e[15]!==m?(ye=m?se(vt.React.pause,{size:20}):se(vt.React.play,{size:20}),e[15]=m,e[16]=ye):ye=e[16];let U;e[17]!==ye||e[18]!==re?(U=se("button",{className:"duplicate-group__playback-button",onClick:re,children:ye}),e[17]=ye,e[18]=re,e[19]=U):U=e[19];let V=we(g),H;e[20]!==V?(H=se("span",{className:"slider-time",children:V}),e[20]=V,e[21]=H):H=e[21];let fe=x||0,D=g||0,B;e[22]!==xe||e[23]!==fe||e[24]!==D?(B=se(qa,{max:fe,min:0,onChange:me,onRelease:xe,step:1,value:D}),e[22]=xe,e[23]=fe,e[24]=D,e[25]=B):B=e[25];let f=we(x),p;e[26]!==f?(p=se("span",{className:"slider-time",children:f}),e[26]=f,e[27]=p):p=e[27];let E;return e[28]!==B||e[29]!==p||e[30]!==U||e[31]!==H?(E=Ke("div",{className:"duplicate-group__playback-controls",children:[U,H,B,p]}),e[28]=B,e[29]=p,e[30]=U,e[31]=H,e[32]=E):E=e[32],E},md=t=>{let e=(0,yr.c)(42),{track:n,category:o,onDelete:a}=t,s=`duplicate-group__duplicate-item duplicate-group__item--${o}`,c=n.coverArt??"",l;e[0]!==c?(l=se("img",{className:"details-grid__image",src:c}),e[0]=c,e[1]=l):l=e[1];let y;e[2]!==n.name?(y=se("span",{className:"details-grid__name",children:n.name}),e[2]=n.name,e[3]=y):y=e[3];let m;e[4]!==n.playCount?(m=n.playCount?.toLocaleString(),e[4]=n.playCount,e[5]=m):m=e[5];let g;e[6]!==m?(g=Ke("span",{className:"details-grid__playcount",children:["Play Count: ",m]}),e[6]=m,e[7]=g):g=e[7];let b;e[8]!==y||e[9]!==g?(b=Ke("div",{className:"details-grid__main-info",children:[y,g]}),e[8]=y,e[9]=g,e[10]=b):b=e[10];let x;e[11]!==n.artists?(x=n.artists.map(p0).join(", "),e[11]=n.artists,e[12]=x):x=e[12];let T;e[13]!==x?(T=se("span",{className:"details-grid__artists",children:x}),e[13]=x,e[14]=T):T=e[14];let O;e[15]!==n.album.name?(O=se("span",{className:"details-grid__album",children:n.album.name}),e[15]=n.album.name,e[16]=O):O=e[16];let A;e[17]!==O||e[18]!==T?(A=Ke("div",{className:"details-grid__second-info",children:[T,O]}),e[17]=O,e[18]=T,e[19]=A):A=e[19];let j;e[20]!==n.releaseDate?(j=Lp(n.releaseDate),e[20]=n.releaseDate,e[21]=j):j=e[21];let Q;e[22]!==j?(Q=se("span",{className:"details-grid__date",children:j}),e[22]=j,e[23]=Q):Q=e[23];let ne;e[24]!==A||e[25]!==Q||e[26]!==l||e[27]!==b?(ne=se("div",{className:"duplicate-group__duplicate-info",children:Ke("div",{className:"details-grid",children:[l,b,A,Q]})}),e[24]=A,e[25]=Q,e[26]=l,e[27]=b,e[28]=ne):ne=e[28];let re;e[29]!==n.duration||e[30]!==n.uri?(re=se(f0,{duration:n.duration,uri:n.uri}),e[29]=n.duration,e[30]=n.uri,e[31]=re):re=e[31];let ce;e[32]!==a||e[33]!==n?(ce=se("button",{className:"duplicate-group__delete-button",onClick:()=>a(n),children:"Delete"}),e[32]=a,e[33]=n,e[34]=ce):ce=e[34];let me;e[35]!==re||e[36]!==ce?(me=Ke("div",{className:"duplicate-group__actions",children:[re,ce]}),e[35]=re,e[36]=ce,e[37]=me):me=e[37];let ge;return e[38]!==s||e[39]!==ne||e[40]!==me?(ge=Ke("div",{className:s,children:[ne,me]}),e[38]=s,e[39]=ne,e[40]=me,e[41]=ge):ge=e[41],ge},d0=t=>{let e=(0,yr.c)(20),{title:n,category:o,groups:a,onDelete:s}=t,c;e[0]!==n.label?(c=se("div",{className:"duplicate-group__heading-title",children:n.label}),e[0]=n.label,e[1]=c):c=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=se("div",{className:"info-tippy",children:se(vt.React.questionMark,{fill:"var(--spice-subtext)",size:20})}),e[2]=l):l=e[2];let y;e[3]!==n.tooltip?(y=se(Spicetify.ReactComponent.TooltipWrapper,{label:n.tooltip,placement:"top",children:l}),e[3]=n.tooltip,e[4]=y):y=e[4];let m;e[5]!==c||e[6]!==y?(m=Ke("div",{className:"duplicate-group__heading-info",children:[c,y]}),e[5]=c,e[6]=y,e[7]=m):m=e[7];let g;e[8]!==a.length?(g=Ke("div",{className:"duplicate-group__heading-length",children:[a.length," found"]}),e[8]=a.length,e[9]=g):g=e[9];let b;e[10]!==m||e[11]!==g?(b=Ke("div",{className:"duplicate-group__heading",children:[m,g]}),e[10]=m,e[11]=g,e[12]=b):b=e[12];let x;e[13]!==o||e[14]!==a||e[15]!==s?(x=a.length>0&&se("div",{className:"duplicate-group__list",children:a.map(O=>Ke("div",{className:`duplicate-group__item duplicate-group__item--${o}`,children:[se(md,{category:o,onDelete:A=>s(o,A),track:O.mainTrack}),se("div",{className:"duplicate-group__duplicates-list",children:O.duplicates.map(A=>Ke(Ys,{children:[se("div",{className:"duplicate-group__duplicate-thread"}),se(md,{category:o,onDelete:j=>s(o,j),track:A},A.uid)]}))})]},O.mainTrack.uid))}),e[13]=o,e[14]=a,e[15]=s,e[16]=x):x=e[16];let T;return e[17]!==b||e[18]!==x?(T=Ke("div",{className:"duplicate-group",children:[b,x]}),e[17]=b,e[18]=x,e[19]=T):T=e[19],T};function gd({selectedPlaylist:t}){let[e,n]=hn("finder"),[o,a]=hn(t?.uri),[s,c]=hn(null),l=yd(),{playlists:y,loading:m}=Fp(),g=js(()=>y.find(re=>re.uri===o)??(o?{uri:o,name:"Selected Playlist",type:"playlist"}:void 0),[y,o]),{tracks:b,loading:x,setTracks:T}=Up(o,l),O=Jp(b,l),A=nn(performance.now());A.current=performance.now(),nr(()=>{let re=performance.now()-A.current;re>10&&console.debug(`[DEBUG] Render:React took ${re.toFixed(2)}ms to render`)});let j=async re=>{g&&(await Spicetify.Platform.PlaylistAPI.remove(g.uri,[{uid:re.uid}]),T(ce=>ce.filter(me=>me.uid!==re.uid)))},Q=(re,ce)=>{l.confirmSettings[re]?c({track:ce,category:re}):j(ce)},ne=()=>{s&&j(s.track),c(null)};return Ke(Ys,{children:[se(Spicetify.ReactComponent.ConfirmDialog,{cancelText:"Cancel",confirmText:"Remove",descriptionText:s?`Are you sure you want to remove "${s.track.name}"? This cannot be undone.`:"",isOpen:s!==null,onClose:()=>c(null),onConfirm:ne,onOutside:()=>c(null),titleText:"Remove Track"}),Ke("div",{className:"find-duplicates",children:[Ke("div",{className:"modal__header",children:[se("h1",{className:"find-duplicates__title",children:e==="finder"?"Playlist Duplicate Finder":"Settings"}),se("div",{className:"find-duplicates__dropdown",children:se(Wa,{disabled:m||x,onChange:a,options:y.map(re=>({value:re.uri,label:re.name})),value:o??""})}),Ke("div",{className:"modal__buttonContainer",children:[se("button",{className:"modal__button",onClick:()=>n(re=>re==="finder"?"settings":"finder"),children:se(vt.React.settings,{})}),se("button",{className:"modal__button",onClick:()=>Tr.hide(),children:se(vt.React.close,{size:18})})]})]}),se("div",{className:"find-duplicates__content",children:e==="settings"?se(l0,{}):x?se("div",{className:"find-duplicates__loading",children:se(UI.ProgressDots,{size:"medium"})}):Ju.map(re=>l.groupSettings[re]?se(d0,{category:re,groups:O[re],onDelete:Q,title:pd[re]},re):null)})]})]})}function h0(t){return[t,pd[t].label]}function m0(t){if(t==null||t<0)return"--:--";let e=Math.floor(t/1e3);return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function p0(t){return t.name}var vd=new CSSStyleSheet;vd.replaceSync(".find-duplicates{--fdp-radius-lg: 14px;--fdp-radius: 10px;--fdp-radius-sm: 8px;--fdp-gap: 14px;--fdp-border: rgba(var(--spice-rgb-selected-row), .14);--fdp-border-strong: rgba(var(--spice-rgb-selected-row), .22);--fdp-surface: var(--spice-main-elevated);--fdp-text: var(--spice-text);--fdp-subtext: var(--spice-subtext);--fdp-accent: var(--spice-button);display:flex;flex-direction:column;overflow:hidden}.find-duplicates__title{font-size:30px;color:var(--spice-text)}.find-duplicates__dropdown{align-content:center}.find-duplicates__header-label{font-weight:600;color:var(--fdp-text)}.find-duplicates__loading{display:flex;align-items:center;justify-content:center;height:16700000px}.find-duplicates__content{display:flex;flex-direction:column;gap:8px;padding:8px 28px;overflow:scroll}.duplicate-group{display:flex;flex-direction:column;gap:12px;padding:16px;background:var(--fdp-surface);border:1px solid var(--fdp-border);border-radius:var(--fdp-radius-lg)}.duplicate-group__heading{display:flex;align-items:center;justify-content:space-between;font-weight:600;color:var(--fdp-text)}.duplicate-group__heading-info{display:flex;gap:8px}.duplicate-group__heading-length{padding:2px 8px;font-size:12px;color:var(--fdp-subtext);border:1px solid var(--fdp-border);border-radius:999px}.duplicate-group__list{display:flex;flex-direction:column;gap:10px}.duplicate-group__duplicate-item{display:flex;flex-direction:column;gap:8px}.duplicate-group__item{display:flex;flex-direction:column;gap:10px;padding:12px 10px;border:1px solid var(--fdp-border);border-left:3px solid;border-radius:var(--fdp-radius);transition:background-color .12s ease,border-color .12s ease}.duplicate-group__item:hover{background:rgba(var(--spice-rgb-selected-row),.05);border-color:var(--fdp-border-strong)}.duplicate-group__item--exact{border-left-color:#e53935}.duplicate-group__item--isrc{border-left-color:#fb8c00}.duplicate-group__item--probable{border-left-color:#fdd835}.duplicate-group__item--likely{border-left-color:#43a047}.duplicate-group__item--possible{border-left-color:#1e88e5}.duplicate-group__item--maybe{border-left-color:#306}.duplicate-group__duplicate-info{display:flex;gap:12px;align-items:center;justify-content:space-between}.details-grid{display:grid;grid-template-columns:40px auto auto 85px;gap:8px;width:100%;font-size:.9rem;color:var(--fdp-subtext)}.details-grid__image{width:40px;height:40px;border-radius:4px}.details-grid__name{overflow:hidden;text-overflow:ellipsis;font-weight:600;color:var(--fdp-text);white-space:nowrap}.details-grid__date{text-align:right}.details-grid__main-info,.details-grid__second-info{display:flex;flex-direction:column}.duplicate-group__actions{display:flex;flex-direction:row;gap:8px}.duplicate-group__playback-controls{display:flex;gap:4px;align-items:center;width:100%}.duplicate-group__playback-button{width:32px;height:32px;color:var(--fdp-text);cursor:pointer;background:transparent;border:1px solid transparent;border-radius:50%}.duplicate-group__playback-button:hover{background:rgba(var(--spice-rgb-selected-row),.08);border-color:var(--fdp-border)}.slider-time{min-width:38px;font-size:12px;color:var(--fdp-subtext);text-align:center}.duplicate-group__delete-button{padding:6px 12px;font-size:.85rem;font-weight:600;color:#fff;cursor:pointer;background:#e91429;border:1px solid rgba(233,20,41,.4);border-radius:999px}.duplicate-group__delete-button:hover{filter:brightness(1.05)}.duplicate-settings__section{margin-bottom:24px}.duplicate-settings__section-title{padding-bottom:6px;margin-bottom:12px;font-weight:600;border-bottom:1px solid var(--fdp-border)}.duplicate-settings__options{display:flex;flex-direction:column;gap:10px}.find-duplicates :is(button,[role=button],input,select):focus-visible{outline:none;border-color:var(--fdp-accent);box-shadow:0 0 0 2px color-mix(in srgb,var(--fdp-accent),transparent 60%)}");var _d=vd;document.adoptedStyleSheets.push(_d);var y0=new Spicetify.ContextMenuV2.Item({children:"Find Duplicates",leadingIcon:vt.HTML.duplicate,onClick:async(t,e,n)=>{let o=As(t.props),a=o.uri,s=o.name,c=Spicetify.URI.from(a)?.type,l={uri:a,name:s||(await Spicetify.Platform.PlaylistAPI.getMetadata(a,{}))?.name||"",type:c||""};Tr({title:"Find Duplicates",content:se(gd,{selectedPlaylist:l}),isLarge:!0,template:!1})},divider:"after",shouldAdd:(t,e,n)=>{let o=As(t),a=Spicetify.URI.from(o.uri)?.type;return a===Spicetify.URI.Type.PLAYLIST||a===Spicetify.URI.Type.PLAYLIST_V2}});y0.register();
